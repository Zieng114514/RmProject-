ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"chassis.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "application/chassis/chassis.c"
  20              		.section	.text.MecanumCalculate,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	MecanumCalculate:
  27              	.LFB277:
   1:application/chassis/chassis.c **** /**
   2:application/chassis/chassis.c ****  * @file chassis.c
   3:application/chassis/chassis.c ****  * @author NeoZeng neozng1@hnu.edu.cn
   4:application/chassis/chassis.c ****  * @brief Â∫ïÁõòÂ∫îÁî®,Ë¥üË¥£Êé•Êî∂robot_cmdÁöÑÊéßÂà∂ÂëΩ‰ª§Âπ∂Ê†πÊçÆÂëΩ‰ª§ËøõË°åËøêÂä®Â≠¶Ëß£ÁÆó,Âæó
   5:application/chassis/chassis.c ****  *        Ê≥®ÊÑèÂ∫ïÁõòÈááÂèñÂè≥ÊâãÁ≥ª,ÂØπ‰∫éÂπ≥Èù¢ËßÜÂõæ,Â∫ïÁõòÁ∫µÂêëËøêÂä®ÁöÑÊ≠£ÂâçÊñπ‰∏∫xÊ≠£ÊñπÂê
   6:application/chassis/chassis.c ****  *
   7:application/chassis/chassis.c ****  * @version 0.1
   8:application/chassis/chassis.c ****  * @date 2022-12-04
   9:application/chassis/chassis.c ****  *
  10:application/chassis/chassis.c ****  * @copyright Copyright (c) 2022
  11:application/chassis/chassis.c ****  *
  12:application/chassis/chassis.c ****  */
  13:application/chassis/chassis.c **** 
  14:application/chassis/chassis.c **** #include "chassis.h"
  15:application/chassis/chassis.c **** #include "robot_def.h"
  16:application/chassis/chassis.c **** #include "power_control.h"
  17:application/chassis/chassis.c **** #include "super_cap.h"
  18:application/chassis/chassis.c **** #include "message_center.h"
  19:application/chassis/chassis.c **** #include "referee_task.h"
  20:application/chassis/chassis.c **** 
  21:application/chassis/chassis.c **** #include "general_def.h"
  22:application/chassis/chassis.c **** #include "bsp_dwt.h"
  23:application/chassis/chassis.c **** #include "referee_UI.h"
  24:application/chassis/chassis.c **** #include "arm_math.h"
  25:application/chassis/chassis.c **** 
  26:application/chassis/chassis.c **** /* Ê†πÊçÆrobot_def.h‰∏≠ÁöÑmacroËá™Âä®ËÆ°ÁÆóÁöÑÂèÇÊï∞ */
  27:application/chassis/chassis.c **** #define HALF_WHEEL_BASE (WHEEL_BASE / 2.0f)     // ÂçäËΩ¥Ë∑ù
  28:application/chassis/chassis.c **** #define HALF_TRACK_WIDTH (TRACK_WIDTH / 2.0f)   // ÂçäËΩÆË∑ù
  29:application/chassis/chassis.c **** #define PERIMETER_WHEEL (RADIUS_WHEEL * 2 * PI) // ËΩÆÂ≠êÂë®Èïø
  30:application/chassis/chassis.c **** 
  31:application/chassis/chassis.c **** /* Â∫ïÁõòÂ∫îÁî®ÂåÖÂê´ÁöÑÊ®°ÂùóÂíå‰ø°ÊÅØÂ≠òÂÇ®,Â∫ïÁõòÊòØÂçï‰æãÊ®°Âºè,Âõ†Ê≠§‰∏çÈúÄË¶Å‰∏∫Â∫ïÁõòÂª∫Á´ãÂ
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s 			page 2


  32:application/chassis/chassis.c **** #ifdef CHASSIS_BOARD // Â¶ÇÊûúÊòØÂ∫ïÁõòÊùø,‰ΩøÁî®ÊùøËΩΩIMUËé∑ÂèñÂ∫ïÁõòËΩ¨Âä®ËßíÈÄüÂ∫¶
  33:application/chassis/chassis.c **** #include "can_comm.h"
  34:application/chassis/chassis.c **** #include "ins_task.h"
  35:application/chassis/chassis.c **** static CANCommInstance *chasiss_can_comm; // ÂèåÊùøÈÄö‰ø°CAN comm
  36:application/chassis/chassis.c **** attitude_t *Chassis_IMU_data;
  37:application/chassis/chassis.c **** #endif // CHASSIS_BOARD
  38:application/chassis/chassis.c **** #ifdef ONE_BOARD
  39:application/chassis/chassis.c **** static Publisher_t *chassis_pub;                    // Áî®‰∫éÂèëÂ∏ÉÂ∫ïÁõòÁöÑÊï∞ÊçÆ
  40:application/chassis/chassis.c **** static Subscriber_t *chassis_sub;                   // Áî®‰∫éËÆ¢ÈòÖÂ∫ïÁõòÁöÑÊéßÂà∂ÂëΩ‰ª§
  41:application/chassis/chassis.c **** #endif                                              // !ONE_BOARD
  42:application/chassis/chassis.c **** static Chassis_Ctrl_Cmd_s chassis_cmd_recv;         // Â∫ïÁõòÊé•Êî∂Âà∞ÁöÑÊéßÂà∂ÂëΩ‰ª§
  43:application/chassis/chassis.c **** static Chassis_Upload_Data_s chassis_feedback_data; // Â∫ïÁõòÂõû‰º†ÁöÑÂèçÈ¶àÊï∞ÊçÆ
  44:application/chassis/chassis.c **** 
  45:application/chassis/chassis.c **** static PIDInstance buffer_PID;             // Áî®‰∫éÂ∫ïÁõòÁöÑÁºìÂÜ≤ËÉΩÈáèPID
  46:application/chassis/chassis.c **** static referee_info_t *referee_data;       // Áî®‰∫éËé∑ÂèñË£ÅÂà§Á≥ªÁªüÁöÑÊï∞ÊçÆ
  47:application/chassis/chassis.c **** static Referee_Interactive_info_t ui_data; // UIÊï∞ÊçÆÔºåÂ∞ÜÂ∫ïÁõò‰∏≠ÁöÑÊï∞ÊçÆ‰º†ÂÖ•Ê≠§ÁªìÊûÑ‰ΩìÁöÑ
  48:application/chassis/chassis.c **** 
  49:application/chassis/chassis.c **** static SuperCapInstance *cap;                                       // Ë∂ÖÁ∫ßÁîµÂÆπ
  50:application/chassis/chassis.c **** static DJIMotorInstance *motor_lf, *motor_rf, *motor_lb, *motor_rb; // left right forward back
  51:application/chassis/chassis.c **** 
  52:application/chassis/chassis.c **** /* Áî®‰∫éËá™ÊóãÂèòÈÄüÁ≠ñÁï•ÁöÑÊó∂Èó¥ÂèòÈáè */
  53:application/chassis/chassis.c **** // static float t;
  54:application/chassis/chassis.c **** 
  55:application/chassis/chassis.c **** /* ÁßÅÊúâÂáΩÊï∞ËÆ°ÁÆóÁöÑ‰∏≠‰ªãÂèòÈáè,ËÆæ‰∏∫ÈùôÊÄÅÈÅøÂÖçÂèÇÊï∞‰º†ÈÄíÁöÑÂºÄÈîÄ */
  56:application/chassis/chassis.c **** static float chassis_vx, chassis_vy;                      // Â∞Ü‰∫ëÂè∞Á≥ªÁöÑÈÄüÂ∫¶ÊäïÂΩ±Âà∞Â∫ïÁõò
  57:application/chassis/chassis.c **** static float vt_lf, vt_rf, vt_lb, vt_rb;                  // Â∫ïÁõòÈÄüÂ∫¶Ëß£ÁÆóÂêéÁöÑ‰∏¥Êó∂ËæìÂá∫,Â
  58:application/chassis/chassis.c **** 
  59:application/chassis/chassis.c **** void ChassisInit()
  60:application/chassis/chassis.c **** {
  61:application/chassis/chassis.c ****     // Âõõ‰∏™ËΩÆÂ≠êÁöÑÂèÇÊï∞‰∏ÄÊ†∑,Êîπtx_idÂíåÂèçËΩ¨Ê†áÂøó‰ΩçÂç≥ÂèØ
  62:application/chassis/chassis.c ****     Motor_Init_Config_s chassis_motor_config = {
  63:application/chassis/chassis.c ****         .can_init_config.can_handle = &hcan1,
  64:application/chassis/chassis.c ****         .controller_param_init_config = {
  65:application/chassis/chassis.c ****             .speed_PID = {
  66:application/chassis/chassis.c ****                 .Kp = 4.5, // 4.5
  67:application/chassis/chassis.c ****                 .Ki = 0,   // 0
  68:application/chassis/chassis.c ****                 .Kd = 0,   // 0
  69:application/chassis/chassis.c ****                 .IntegralLimit = 3000,
  70:application/chassis/chassis.c ****                 .Improve = PID_Trapezoid_Intergral | PID_Integral_Limit | PID_Derivative_On_Measure
  71:application/chassis/chassis.c ****                 .MaxOut = 15000,
  72:application/chassis/chassis.c ****                 .Output_LPF_RC = 0.3,
  73:application/chassis/chassis.c ****             },
  74:application/chassis/chassis.c ****         },
  75:application/chassis/chassis.c ****         .controller_setting_init_config = {
  76:application/chassis/chassis.c ****             .angle_feedback_source = MOTOR_FEED,
  77:application/chassis/chassis.c ****             .speed_feedback_source = MOTOR_FEED,
  78:application/chassis/chassis.c ****             .outer_loop_type = SPEED_LOOP, // ËÆæÁΩÆ‰∏∫ÂºÄÁéØÔºåÁîµÊú∫ËÆæÂÆöÂÄºÁî±‰∏ãÈù¢ÁöÑÂäüÁéáÊé
  79:application/chassis/chassis.c ****             .close_loop_type = SPEED_LOOP,
  80:application/chassis/chassis.c ****         },
  81:application/chassis/chassis.c ****         .motor_type = M3508,
  82:application/chassis/chassis.c ****     };
  83:application/chassis/chassis.c ****     //  @todo: ÂΩìÂâçËøòÊ≤°ÊúâËÆæÁΩÆÁîµÊú∫ÁöÑÊ≠£ÂèçËΩ¨,‰ªçÁÑ∂ÈúÄË¶ÅÊâãÂä®Ê∑ªÂä†referenceÁöÑÊ≠£Ë¥üÂè
  84:application/chassis/chassis.c ****     //‰ΩøÁî®ÂäüÁéáÊéßÂà∂ÁöÑÁîµÊú∫ÈúÄË¶Å‰ΩøÁî®PowerControlInit()ÂáΩÊï∞ÂàùÂßãÂåñ,Âõ†‰∏∫ÁîµÊú∫ÁöÑÊéßÂà
  85:application/chassis/chassis.c ****     chassis_motor_config.can_init_config.tx_id = 1;
  86:application/chassis/chassis.c ****     chassis_motor_config.controller_setting_init_config.motor_reverse_flag = MOTOR_DIRECTION_NORMAL
  87:application/chassis/chassis.c ****     motor_lf = PowerControlInit(&chassis_motor_config);
  88:application/chassis/chassis.c **** 
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s 			page 3


  89:application/chassis/chassis.c ****     chassis_motor_config.can_init_config.tx_id = 2;
  90:application/chassis/chassis.c ****     chassis_motor_config.controller_setting_init_config.motor_reverse_flag = MOTOR_DIRECTION_NORMAL
  91:application/chassis/chassis.c ****     motor_rf = PowerControlInit(&chassis_motor_config);
  92:application/chassis/chassis.c **** 
  93:application/chassis/chassis.c ****     chassis_motor_config.can_init_config.tx_id = 4;
  94:application/chassis/chassis.c ****     chassis_motor_config.controller_setting_init_config.motor_reverse_flag = MOTOR_DIRECTION_NORMAL
  95:application/chassis/chassis.c ****     motor_lb = PowerControlInit(&chassis_motor_config);
  96:application/chassis/chassis.c **** 
  97:application/chassis/chassis.c ****     chassis_motor_config.can_init_config.tx_id = 3;
  98:application/chassis/chassis.c ****     chassis_motor_config.controller_setting_init_config.motor_reverse_flag = MOTOR_DIRECTION_NORMAL
  99:application/chassis/chassis.c ****     motor_rb = PowerControlInit(&chassis_motor_config);
 100:application/chassis/chassis.c **** 
 101:application/chassis/chassis.c ****     referee_data = UITaskInit(&huart6, &ui_data); // Ë£ÅÂà§Á≥ªÁªüÂàùÂßãÂåñ,‰ºöÂêåÊó∂ÂàùÂßãÂåñUI
 102:application/chassis/chassis.c **** 
 103:application/chassis/chassis.c **** /* BufferÁéØÊöÇÊú™ÊµãËØïÔºåÈÄªËæëÊòØËÆ°ÁÆóÊúüÊúõbuffer‰∏éÂÆûÈôÖbufferÁöÑÂ∑ÆÂÄºÔºåËΩ¨Êç¢‰∏∫ÂÜó‰ΩôÁöÑ
 104:application/chassis/chassis.c ****     PID_Init_Config_s Buffer_pid_conf = {
 105:application/chassis/chassis.c ****         .Kp = 0.1,
 106:application/chassis/chassis.c ****         .Ki = 0,
 107:application/chassis/chassis.c ****         .Kd = 0,
 108:application/chassis/chassis.c ****         .IntegralLimit = 1000,
 109:application/chassis/chassis.c ****         .Improve = PID_Trapezoid_Intergral | PID_Integral_Limit | PID_Derivative_On_Measurement,
 110:application/chassis/chassis.c ****         .MaxOut = 1000,
 111:application/chassis/chassis.c ****     };
 112:application/chassis/chassis.c ****     PIDInit(&buffer_PID, &Buffer_pid_conf); // ÁºìÂÜ≤ËÉΩÈáèPIDÂàùÂßãÂåñ
 113:application/chassis/chassis.c ****     SuperCap_Init_Config_s cap_conf = {
 114:application/chassis/chassis.c ****         .can_config = {
 115:application/chassis/chassis.c ****             .can_handle = &hcan2,
 116:application/chassis/chassis.c ****             .tx_id = 0x302, // Ë∂ÖÁ∫ßÁîµÂÆπÈªòËÆ§Êé•Êî∂id
 117:application/chassis/chassis.c ****             .rx_id = 0x301, // Ë∂ÖÁ∫ßÁîµÂÆπÈªòËÆ§ÂèëÈÄÅid,Ê≥®ÊÑètxÂíårxÂú®ÂÖ∂‰ªñ‰∫∫ÁúãÊù•ÊòØÂèçÁöÑ
 118:application/chassis/chassis.c ****         }};
 119:application/chassis/chassis.c ****     cap = SuperCapInit(&cap_conf); // Ë∂ÖÁ∫ßÁîµÂÆπÂàùÂßãÂåñ
 120:application/chassis/chassis.c **** 
 121:application/chassis/chassis.c ****     // ÂèëÂ∏ÉËÆ¢ÈòÖÂàùÂßãÂåñ,Â¶ÇÊûú‰∏∫ÂèåÊùø,ÂàôÈúÄË¶Åcan commÊù•‰º†ÈÄíÊ∂àÊÅØ
 122:application/chassis/chassis.c **** #ifdef CHASSIS_BOARD
 123:application/chassis/chassis.c ****     Chassis_IMU_data = INS_Init(); // Â∫ïÁõòIMUÂàùÂßãÂåñ
 124:application/chassis/chassis.c **** 
 125:application/chassis/chassis.c ****     CANComm_Init_Config_s comm_conf = {
 126:application/chassis/chassis.c ****         .can_config = {
 127:application/chassis/chassis.c ****             .can_handle = &hcan2,
 128:application/chassis/chassis.c ****             .tx_id = 0x311,
 129:application/chassis/chassis.c ****             .rx_id = 0x312,
 130:application/chassis/chassis.c ****         },
 131:application/chassis/chassis.c ****         .recv_data_len = sizeof(Chassis_Ctrl_Cmd_s),
 132:application/chassis/chassis.c ****         .send_data_len = sizeof(Chassis_Upload_Data_s),
 133:application/chassis/chassis.c ****     };
 134:application/chassis/chassis.c ****     chasiss_can_comm = CANCommInit(&comm_conf); // can commÂàùÂßãÂåñ
 135:application/chassis/chassis.c **** #endif                                          // CHASSIS_BOARD
 136:application/chassis/chassis.c **** 
 137:application/chassis/chassis.c **** #ifdef ONE_BOARD // ÂçïÊùøÊéßÂà∂Êï¥ËΩ¶,ÂàôÈÄöËøápubsubÊù•‰º†ÈÄíÊ∂àÊÅØ
 138:application/chassis/chassis.c ****     chassis_sub = SubRegister("chassis_cmd", sizeof(Chassis_Ctrl_Cmd_s));
 139:application/chassis/chassis.c ****     chassis_pub = PubRegister("chassis_feed", sizeof(Chassis_Upload_Data_s));
 140:application/chassis/chassis.c **** #endif // ONE_BOARD
 141:application/chassis/chassis.c **** }
 142:application/chassis/chassis.c **** 
 143:application/chassis/chassis.c **** #define LF_CENTER ((HALF_TRACK_WIDTH + CENTER_GIMBAL_OFFSET_X + HALF_WHEEL_BASE - CENTER_GIMBAL_OFF
 144:application/chassis/chassis.c **** #define RF_CENTER ((HALF_TRACK_WIDTH - CENTER_GIMBAL_OFFSET_X + HALF_WHEEL_BASE - CENTER_GIMBAL_OFF
 145:application/chassis/chassis.c **** #define LB_CENTER ((HALF_TRACK_WIDTH + CENTER_GIMBAL_OFFSET_X + HALF_WHEEL_BASE + CENTER_GIMBAL_OFF
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s 			page 4


 146:application/chassis/chassis.c **** #define RB_CENTER ((HALF_TRACK_WIDTH - CENTER_GIMBAL_OFFSET_X + HALF_WHEEL_BASE + CENTER_GIMBAL_OFF
 147:application/chassis/chassis.c **** /**
 148:application/chassis/chassis.c ****  * @brief ËÆ°ÁÆóÊØè‰∏™ËΩÆÊØÇÁîµÊú∫ÁöÑËæìÂá∫,Ê≠£ËøêÂä®Â≠¶Ëß£ÁÆó
 149:application/chassis/chassis.c ****  *        Áî®ÂÆèËøõË°åÈ¢ÑÊõøÊç¢ÂáèÂ∞èÂºÄÈîÄ,ËøêÂä®Ëß£ÁÆóÂÖ∑‰ΩìËøáÁ®ãÂèÇËÄÉÊïôÁ®ã
 150:application/chassis/chassis.c ****  */
 151:application/chassis/chassis.c **** static void MecanumCalculate()
 152:application/chassis/chassis.c **** {
  28              		.loc 1 152 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
 153:application/chassis/chassis.c ****     vt_lf = -chassis_vx - chassis_vy - chassis_cmd_recv.wz * LF_CENTER;
  33              		.loc 1 153 5 view .LVU1
  34              		.loc 1 153 13 is_stmt 0 view .LVU2
  35 0000 154B     		ldr	r3, .L2
  36 0002 D3ED007A 		vldr.32	s15, [r3]
  37 0006 F1EE676A 		vneg.f32	s13, s15
  38              		.loc 1 153 25 view .LVU3
  39 000a 144B     		ldr	r3, .L2+4
  40 000c 93ED006A 		vldr.32	s12, [r3]
  41 0010 76EEC66A 		vsub.f32	s13, s13, s12
  42              		.loc 1 153 56 view .LVU4
  43 0014 124B     		ldr	r3, .L2+8
  44 0016 93ED027A 		vldr.32	s14, [r3, #8]
  45              		.loc 1 153 60 view .LVU5
  46 001a DFED125A 		vldr.32	s11, .L2+12
  47 001e 27EE257A 		vmul.f32	s14, s14, s11
  48              		.loc 1 153 38 view .LVU6
  49 0022 76EEC76A 		vsub.f32	s13, s13, s14
  50              		.loc 1 153 11 view .LVU7
  51 0026 104B     		ldr	r3, .L2+16
  52 0028 C3ED006A 		vstr.32	s13, [r3]
 154:application/chassis/chassis.c ****     vt_rf = -chassis_vx + chassis_vy - chassis_cmd_recv.wz * RF_CENTER;
  53              		.loc 1 154 5 is_stmt 1 view .LVU8
  54              		.loc 1 154 25 is_stmt 0 view .LVU9
  55 002c 76EE676A 		vsub.f32	s13, s12, s15
  56              		.loc 1 154 38 view .LVU10
  57 0030 76EEC76A 		vsub.f32	s13, s13, s14
  58              		.loc 1 154 11 view .LVU11
  59 0034 0D4B     		ldr	r3, .L2+20
  60 0036 C3ED006A 		vstr.32	s13, [r3]
 155:application/chassis/chassis.c ****     vt_lb = chassis_vx - chassis_vy - chassis_cmd_recv.wz * LB_CENTER;
  61              		.loc 1 155 5 is_stmt 1 view .LVU12
  62              		.loc 1 155 24 is_stmt 0 view .LVU13
  63 003a 77EEC66A 		vsub.f32	s13, s15, s12
  64              		.loc 1 155 37 view .LVU14
  65 003e 76EEC76A 		vsub.f32	s13, s13, s14
  66              		.loc 1 155 11 view .LVU15
  67 0042 0B4B     		ldr	r3, .L2+24
  68 0044 C3ED006A 		vstr.32	s13, [r3]
 156:application/chassis/chassis.c ****     vt_rb = chassis_vx + chassis_vy - chassis_cmd_recv.wz * RB_CENTER;
  69              		.loc 1 156 5 is_stmt 1 view .LVU16
  70              		.loc 1 156 24 is_stmt 0 view .LVU17
  71 0048 77EE867A 		vadd.f32	s15, s15, s12
  72              		.loc 1 156 37 view .LVU18
  73 004c 77EEC77A 		vsub.f32	s15, s15, s14
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s 			page 5


  74              		.loc 1 156 11 view .LVU19
  75 0050 084B     		ldr	r3, .L2+28
  76 0052 C3ED007A 		vstr.32	s15, [r3]
 157:application/chassis/chassis.c **** }
  77              		.loc 1 157 1 view .LVU20
  78 0056 7047     		bx	lr
  79              	.L3:
  80              		.align	2
  81              	.L2:
  82 0058 00000000 		.word	chassis_vx
  83 005c 00000000 		.word	chassis_vy
  84 0060 00000000 		.word	chassis_cmd_recv
  85 0064 A583B540 		.word	1085637541
  86 0068 00000000 		.word	vt_lf
  87 006c 00000000 		.word	vt_rf
  88 0070 00000000 		.word	vt_lb
  89 0074 00000000 		.word	vt_rb
  90              		.cfi_endproc
  91              	.LFE277:
  93              		.section	.text.LimitChassisOutput,"ax",%progbits
  94              		.align	1
  95              		.syntax unified
  96              		.thumb
  97              		.thumb_func
  99              	LimitChassisOutput:
 100              	.LFB278:
 158:application/chassis/chassis.c **** 
 159:application/chassis/chassis.c **** /**
 160:application/chassis/chassis.c ****  * @brief Ê†πÊçÆË£ÅÂà§Á≥ªÁªüÂíåÁîµÂÆπÂâ©‰ΩôÂÆπÈáèÂØπËæìÂá∫ËøõË°åÈôêÂà∂Âπ∂ËÆæÁΩÆÁîµÊú∫ÂèÇËÄÉÂÄº
 161:application/chassis/chassis.c ****  *
 162:application/chassis/chassis.c ****  */
 163:application/chassis/chassis.c **** static void LimitChassisOutput()
 164:application/chassis/chassis.c **** {
 101              		.loc 1 164 1 is_stmt 1 view -0
 102              		.cfi_startproc
 103              		@ args = 0, pretend = 0, frame = 0
 104              		@ frame_needed = 0, uses_anonymous_args = 0
 105 0000 08B5     		push	{r3, lr}
 106              	.LCFI0:
 107              		.cfi_def_cfa_offset 8
 108              		.cfi_offset 3, -8
 109              		.cfi_offset 14, -4
 165:application/chassis/chassis.c ****     // ÂäüÁéáÈôêÂà∂ÂæÖÊ∑ªÂä†
 166:application/chassis/chassis.c ****     // referee_data->PowerHeatData.chassis_power;
 167:application/chassis/chassis.c ****     // referee_data->PowerHeatData.chassis_power_buffer;
 168:application/chassis/chassis.c **** 
 169:application/chassis/chassis.c ****     // ÂÆåÊàêÂäüÁéáÈôêÂà∂ÂêéËøõË°åÁîµÊú∫ÂèÇËÄÉËæìÂÖ•ËÆæÂÆö
 170:application/chassis/chassis.c ****     DJIMotorSetRef(motor_lf, vt_lf);
 110              		.loc 1 170 5 view .LVU22
 111 0002 0E4B     		ldr	r3, .L6
 112 0004 93ED000A 		vldr.32	s0, [r3]
 113 0008 0D4B     		ldr	r3, .L6+4
 114 000a 1868     		ldr	r0, [r3]
 115 000c FFF7FEFF 		bl	DJIMotorSetRef
 116              	.LVL0:
 171:application/chassis/chassis.c ****     DJIMotorSetRef(motor_rf, vt_rf);
 117              		.loc 1 171 5 view .LVU23
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s 			page 6


 118 0010 0C4B     		ldr	r3, .L6+8
 119 0012 93ED000A 		vldr.32	s0, [r3]
 120 0016 0C4B     		ldr	r3, .L6+12
 121 0018 1868     		ldr	r0, [r3]
 122 001a FFF7FEFF 		bl	DJIMotorSetRef
 123              	.LVL1:
 172:application/chassis/chassis.c ****     DJIMotorSetRef(motor_lb, vt_lb);
 124              		.loc 1 172 5 view .LVU24
 125 001e 0B4B     		ldr	r3, .L6+16
 126 0020 93ED000A 		vldr.32	s0, [r3]
 127 0024 0A4B     		ldr	r3, .L6+20
 128 0026 1868     		ldr	r0, [r3]
 129 0028 FFF7FEFF 		bl	DJIMotorSetRef
 130              	.LVL2:
 173:application/chassis/chassis.c ****     DJIMotorSetRef(motor_rb, vt_rb);
 131              		.loc 1 173 5 view .LVU25
 132 002c 094B     		ldr	r3, .L6+24
 133 002e 93ED000A 		vldr.32	s0, [r3]
 134 0032 094B     		ldr	r3, .L6+28
 135 0034 1868     		ldr	r0, [r3]
 136 0036 FFF7FEFF 		bl	DJIMotorSetRef
 137              	.LVL3:
 174:application/chassis/chassis.c **** }
 138              		.loc 1 174 1 is_stmt 0 view .LVU26
 139 003a 08BD     		pop	{r3, pc}
 140              	.L7:
 141              		.align	2
 142              	.L6:
 143 003c 00000000 		.word	vt_lf
 144 0040 00000000 		.word	motor_lf
 145 0044 00000000 		.word	vt_rf
 146 0048 00000000 		.word	motor_rf
 147 004c 00000000 		.word	vt_lb
 148 0050 00000000 		.word	motor_lb
 149 0054 00000000 		.word	vt_rb
 150 0058 00000000 		.word	motor_rb
 151              		.cfi_endproc
 152              	.LFE278:
 154              		.section	.rodata.ChassisInit.str1.4,"aMS",%progbits,1
 155              		.align	2
 156              	.LC0:
 157 0000 63686173 		.ascii	"chassis_cmd\000"
 157      7369735F 
 157      636D6400 
 158              		.align	2
 159              	.LC1:
 160 000c 63686173 		.ascii	"chassis_feed\000"
 160      7369735F 
 160      66656564 
 160      00
 161              		.section	.text.ChassisInit,"ax",%progbits
 162              		.align	1
 163              		.global	ChassisInit
 164              		.syntax unified
 165              		.thumb
 166              		.thumb_func
 168              	ChassisInit:
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s 			page 7


 169              	.LFB276:
  60:application/chassis/chassis.c ****     // Âõõ‰∏™ËΩÆÂ≠êÁöÑÂèÇÊï∞‰∏ÄÊ†∑,Êîπtx_idÂíåÂèçËΩ¨Ê†áÂøó‰ΩçÂç≥ÂèØ
 170              		.loc 1 60 1 is_stmt 1 view -0
 171              		.cfi_startproc
 172              		@ args = 0, pretend = 0, frame = 240
 173              		@ frame_needed = 0, uses_anonymous_args = 0
 174 0000 70B5     		push	{r4, r5, r6, lr}
 175              	.LCFI1:
 176              		.cfi_def_cfa_offset 16
 177              		.cfi_offset 4, -16
 178              		.cfi_offset 5, -12
 179              		.cfi_offset 6, -8
 180              		.cfi_offset 14, -4
 181 0002 BCB0     		sub	sp, sp, #240
 182              	.LCFI2:
 183              		.cfi_def_cfa_offset 256
  62:application/chassis/chassis.c ****         .can_init_config.can_handle = &hcan1,
 184              		.loc 1 62 5 view .LVU28
  62:application/chassis/chassis.c ****         .can_init_config.can_handle = &hcan1,
 185              		.loc 1 62 25 is_stmt 0 view .LVU29
 186 0004 B022     		movs	r2, #176
 187 0006 0021     		movs	r1, #0
 188 0008 10A8     		add	r0, sp, #64
 189 000a FFF7FEFF 		bl	memset
 190              	.LVL4:
 191 000e 364B     		ldr	r3, .L10
 192 0010 1F93     		str	r3, [sp, #124]	@ float
 193 0012 364B     		ldr	r3, .L10+4
 194 0014 2293     		str	r3, [sp, #136]	@ float
 195 0016 0726     		movs	r6, #7
 196 0018 8DF89060 		strb	r6, [sp, #144]
 197 001c 344B     		ldr	r3, .L10+8
 198 001e 2593     		str	r3, [sp, #148]	@ float
 199 0020 344B     		ldr	r3, .L10+12
 200 0022 2893     		str	r3, [sp, #160]	@ float
 201 0024 0224     		movs	r4, #2
 202 0026 8DF8D440 		strb	r4, [sp, #212]
 203 002a 8DF8D540 		strb	r4, [sp, #213]
 204 002e 8DF8DB40 		strb	r4, [sp, #219]
 205 0032 314B     		ldr	r3, .L10+16
 206 0034 3793     		str	r3, [sp, #220]
  85:application/chassis/chassis.c ****     chassis_motor_config.controller_setting_init_config.motor_reverse_flag = MOTOR_DIRECTION_NORMAL
 207              		.loc 1 85 5 is_stmt 1 view .LVU30
  85:application/chassis/chassis.c ****     chassis_motor_config.controller_setting_init_config.motor_reverse_flag = MOTOR_DIRECTION_NORMAL
 208              		.loc 1 85 48 is_stmt 0 view .LVU31
 209 0036 0123     		movs	r3, #1
 210 0038 3893     		str	r3, [sp, #224]
  86:application/chassis/chassis.c ****     motor_lf = PowerControlInit(&chassis_motor_config);
 211              		.loc 1 86 5 is_stmt 1 view .LVU32
  87:application/chassis/chassis.c **** 
 212              		.loc 1 87 5 view .LVU33
  87:application/chassis/chassis.c **** 
 213              		.loc 1 87 16 is_stmt 0 view .LVU34
 214 003a 10A8     		add	r0, sp, #64
 215 003c FFF7FEFF 		bl	PowerControlInit
 216              	.LVL5:
  87:application/chassis/chassis.c **** 
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s 			page 8


 217              		.loc 1 87 14 discriminator 1 view .LVU35
 218 0040 2E4B     		ldr	r3, .L10+20
 219 0042 1860     		str	r0, [r3]
  89:application/chassis/chassis.c ****     chassis_motor_config.controller_setting_init_config.motor_reverse_flag = MOTOR_DIRECTION_NORMAL
 220              		.loc 1 89 5 is_stmt 1 view .LVU36
  89:application/chassis/chassis.c ****     chassis_motor_config.controller_setting_init_config.motor_reverse_flag = MOTOR_DIRECTION_NORMAL
 221              		.loc 1 89 48 is_stmt 0 view .LVU37
 222 0044 3894     		str	r4, [sp, #224]
  90:application/chassis/chassis.c ****     motor_rf = PowerControlInit(&chassis_motor_config);
 223              		.loc 1 90 5 is_stmt 1 view .LVU38
  90:application/chassis/chassis.c ****     motor_rf = PowerControlInit(&chassis_motor_config);
 224              		.loc 1 90 76 is_stmt 0 view .LVU39
 225 0046 0024     		movs	r4, #0
 226 0048 8DF8D640 		strb	r4, [sp, #214]
  91:application/chassis/chassis.c **** 
 227              		.loc 1 91 5 is_stmt 1 view .LVU40
  91:application/chassis/chassis.c **** 
 228              		.loc 1 91 16 is_stmt 0 view .LVU41
 229 004c 10A8     		add	r0, sp, #64
 230 004e FFF7FEFF 		bl	PowerControlInit
 231              	.LVL6:
  91:application/chassis/chassis.c **** 
 232              		.loc 1 91 14 discriminator 1 view .LVU42
 233 0052 2B4B     		ldr	r3, .L10+24
 234 0054 1860     		str	r0, [r3]
  93:application/chassis/chassis.c ****     chassis_motor_config.controller_setting_init_config.motor_reverse_flag = MOTOR_DIRECTION_NORMAL
 235              		.loc 1 93 5 is_stmt 1 view .LVU43
  93:application/chassis/chassis.c ****     chassis_motor_config.controller_setting_init_config.motor_reverse_flag = MOTOR_DIRECTION_NORMAL
 236              		.loc 1 93 48 is_stmt 0 view .LVU44
 237 0056 0423     		movs	r3, #4
 238 0058 3893     		str	r3, [sp, #224]
  94:application/chassis/chassis.c ****     motor_lb = PowerControlInit(&chassis_motor_config);
 239              		.loc 1 94 5 is_stmt 1 view .LVU45
  94:application/chassis/chassis.c ****     motor_lb = PowerControlInit(&chassis_motor_config);
 240              		.loc 1 94 76 is_stmt 0 view .LVU46
 241 005a 8DF8D640 		strb	r4, [sp, #214]
  95:application/chassis/chassis.c **** 
 242              		.loc 1 95 5 is_stmt 1 view .LVU47
  95:application/chassis/chassis.c **** 
 243              		.loc 1 95 16 is_stmt 0 view .LVU48
 244 005e 10A8     		add	r0, sp, #64
 245 0060 FFF7FEFF 		bl	PowerControlInit
 246              	.LVL7:
  95:application/chassis/chassis.c **** 
 247              		.loc 1 95 14 discriminator 1 view .LVU49
 248 0064 274B     		ldr	r3, .L10+28
 249 0066 1860     		str	r0, [r3]
  97:application/chassis/chassis.c ****     chassis_motor_config.controller_setting_init_config.motor_reverse_flag = MOTOR_DIRECTION_NORMAL
 250              		.loc 1 97 5 is_stmt 1 view .LVU50
  97:application/chassis/chassis.c ****     chassis_motor_config.controller_setting_init_config.motor_reverse_flag = MOTOR_DIRECTION_NORMAL
 251              		.loc 1 97 48 is_stmt 0 view .LVU51
 252 0068 0325     		movs	r5, #3
 253 006a 3895     		str	r5, [sp, #224]
  98:application/chassis/chassis.c ****     motor_rb = PowerControlInit(&chassis_motor_config);
 254              		.loc 1 98 5 is_stmt 1 view .LVU52
  98:application/chassis/chassis.c ****     motor_rb = PowerControlInit(&chassis_motor_config);
 255              		.loc 1 98 76 is_stmt 0 view .LVU53
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s 			page 9


 256 006c 8DF8D640 		strb	r4, [sp, #214]
  99:application/chassis/chassis.c **** 
 257              		.loc 1 99 5 is_stmt 1 view .LVU54
  99:application/chassis/chassis.c **** 
 258              		.loc 1 99 16 is_stmt 0 view .LVU55
 259 0070 10A8     		add	r0, sp, #64
 260 0072 FFF7FEFF 		bl	PowerControlInit
 261              	.LVL8:
  99:application/chassis/chassis.c **** 
 262              		.loc 1 99 14 discriminator 1 view .LVU56
 263 0076 244B     		ldr	r3, .L10+32
 264 0078 1860     		str	r0, [r3]
 101:application/chassis/chassis.c **** 
 265              		.loc 1 101 5 is_stmt 1 view .LVU57
 101:application/chassis/chassis.c **** 
 266              		.loc 1 101 20 is_stmt 0 view .LVU58
 267 007a 2449     		ldr	r1, .L10+36
 268 007c 2448     		ldr	r0, .L10+40
 269 007e FFF7FEFF 		bl	UITaskInit
 270              	.LVL9:
 101:application/chassis/chassis.c **** 
 271              		.loc 1 101 18 discriminator 1 view .LVU59
 272 0082 244B     		ldr	r3, .L10+44
 273 0084 1860     		str	r0, [r3]
 104:application/chassis/chassis.c ****         .Kp = 0.1,
 274              		.loc 1 104 5 is_stmt 1 view .LVU60
 104:application/chassis/chassis.c ****         .Kp = 0.1,
 275              		.loc 1 104 23 is_stmt 0 view .LVU61
 276 0086 2C22     		movs	r2, #44
 277 0088 2146     		mov	r1, r4
 278 008a 05A8     		add	r0, sp, #20
 279 008c FFF7FEFF 		bl	memset
 280              	.LVL10:
 281 0090 214B     		ldr	r3, .L10+48
 282 0092 0593     		str	r3, [sp, #20]	@ float
 283 0094 214B     		ldr	r3, .L10+52
 284 0096 0893     		str	r3, [sp, #32]	@ float
 285 0098 8DF82860 		strb	r6, [sp, #40]
 286 009c 0B93     		str	r3, [sp, #44]	@ float
 112:application/chassis/chassis.c ****     SuperCap_Init_Config_s cap_conf = {
 287              		.loc 1 112 5 is_stmt 1 view .LVU62
 288 009e 05A9     		add	r1, sp, #20
 289 00a0 1F48     		ldr	r0, .L10+56
 290 00a2 FFF7FEFF 		bl	PIDInit
 291              	.LVL11:
 113:application/chassis/chassis.c ****         .can_config = {
 292              		.loc 1 113 5 view .LVU63
 113:application/chassis/chassis.c ****         .can_config = {
 293              		.loc 1 113 28 is_stmt 0 view .LVU64
 294 00a6 0094     		str	r4, [sp]
 295 00a8 0194     		str	r4, [sp, #4]
 296 00aa 0294     		str	r4, [sp, #8]
 297 00ac 0394     		str	r4, [sp, #12]
 298 00ae 0494     		str	r4, [sp, #16]
 299 00b0 1C4B     		ldr	r3, .L10+60
 300 00b2 0093     		str	r3, [sp]
 301 00b4 40F20233 		movw	r3, #770
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s 			page 10


 302 00b8 0193     		str	r3, [sp, #4]
 303 00ba 40F20133 		movw	r3, #769
 304 00be 0293     		str	r3, [sp, #8]
 119:application/chassis/chassis.c **** 
 305              		.loc 1 119 5 is_stmt 1 view .LVU65
 119:application/chassis/chassis.c **** 
 306              		.loc 1 119 11 is_stmt 0 view .LVU66
 307 00c0 6846     		mov	r0, sp
 308 00c2 FFF7FEFF 		bl	SuperCapInit
 309              	.LVL12:
 119:application/chassis/chassis.c **** 
 310              		.loc 1 119 9 discriminator 1 view .LVU67
 311 00c6 184B     		ldr	r3, .L10+64
 312 00c8 1860     		str	r0, [r3]
 138:application/chassis/chassis.c ****     chassis_pub = PubRegister("chassis_feed", sizeof(Chassis_Upload_Data_s));
 313              		.loc 1 138 5 is_stmt 1 view .LVU68
 138:application/chassis/chassis.c ****     chassis_pub = PubRegister("chassis_feed", sizeof(Chassis_Upload_Data_s));
 314              		.loc 1 138 19 is_stmt 0 view .LVU69
 315 00ca 1521     		movs	r1, #21
 316 00cc 1748     		ldr	r0, .L10+68
 317 00ce FFF7FEFF 		bl	SubRegister
 318              	.LVL13:
 138:application/chassis/chassis.c ****     chassis_pub = PubRegister("chassis_feed", sizeof(Chassis_Upload_Data_s));
 319              		.loc 1 138 17 discriminator 1 view .LVU70
 320 00d2 174B     		ldr	r3, .L10+72
 321 00d4 1860     		str	r0, [r3]
 139:application/chassis/chassis.c **** #endif // ONE_BOARD
 322              		.loc 1 139 5 is_stmt 1 view .LVU71
 139:application/chassis/chassis.c **** #endif // ONE_BOARD
 323              		.loc 1 139 19 is_stmt 0 view .LVU72
 324 00d6 2946     		mov	r1, r5
 325 00d8 1648     		ldr	r0, .L10+76
 326 00da FFF7FEFF 		bl	PubRegister
 327              	.LVL14:
 139:application/chassis/chassis.c **** #endif // ONE_BOARD
 328              		.loc 1 139 17 discriminator 1 view .LVU73
 329 00de 164B     		ldr	r3, .L10+80
 330 00e0 1860     		str	r0, [r3]
 141:application/chassis/chassis.c **** 
 331              		.loc 1 141 1 view .LVU74
 332 00e2 3CB0     		add	sp, sp, #240
 333              	.LCFI3:
 334              		.cfi_def_cfa_offset 16
 335              		@ sp needed
 336 00e4 70BD     		pop	{r4, r5, r6, pc}
 337              	.L11:
 338 00e6 00BF     		.align	2
 339              	.L10:
 340 00e8 00009040 		.word	1083179008
 341 00ec 00606A46 		.word	1181376512
 342 00f0 00803B45 		.word	1161527296
 343 00f4 9A99993E 		.word	1050253722
 344 00f8 00000000 		.word	hcan1
 345 00fc 00000000 		.word	motor_lf
 346 0100 00000000 		.word	motor_rf
 347 0104 00000000 		.word	motor_lb
 348 0108 00000000 		.word	motor_rb
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s 			page 11


 349 010c 00000000 		.word	ui_data
 350 0110 00000000 		.word	huart6
 351 0114 00000000 		.word	referee_data
 352 0118 CDCCCC3D 		.word	1036831949
 353 011c 00007A44 		.word	1148846080
 354 0120 00000000 		.word	buffer_PID
 355 0124 00000000 		.word	hcan2
 356 0128 00000000 		.word	cap
 357 012c 00000000 		.word	.LC0
 358 0130 00000000 		.word	chassis_sub
 359 0134 0C000000 		.word	.LC1
 360 0138 00000000 		.word	chassis_pub
 361              		.cfi_endproc
 362              	.LFE276:
 364              		.section	.text.ChassisTask,"ax",%progbits
 365              		.align	1
 366              		.global	ChassisTask
 367              		.syntax unified
 368              		.thumb
 369              		.thumb_func
 371              	ChassisTask:
 372              	.LFB280:
 175:application/chassis/chassis.c **** 
 176:application/chassis/chassis.c **** /**
 177:application/chassis/chassis.c ****  * @brief Ê†πÊçÆÊØè‰∏™ËΩÆÂ≠êÁöÑÈÄüÂ∫¶ÂèçÈ¶à,ËÆ°ÁÆóÂ∫ïÁõòÁöÑÂÆûÈôÖËøêÂä®ÈÄüÂ∫¶,ÈÄÜËøêÂä®Ëß£ÁÆó
 178:application/chassis/chassis.c ****  *        ÂØπ‰∫éÂèåÊùøÁöÑÊÉÖÂÜµ,ËÄÉËôëÂ¢ûÂä†Êù•Ëá™Â∫ïÁõòÊùøIMUÁöÑÊï∞ÊçÆ
 179:application/chassis/chassis.c ****  *
 180:application/chassis/chassis.c ****  */
 181:application/chassis/chassis.c **** static void EstimateSpeed()
 182:application/chassis/chassis.c **** {
 183:application/chassis/chassis.c ****     // Ê†πÊçÆÁîµÊú∫ÈÄüÂ∫¶ÂíåÈôÄËû∫‰ª™ÁöÑËßíÈÄüÂ∫¶ËøõË°åËß£ÁÆó,ËøòÂèØ‰ª•Âà©Áî®Âä†ÈÄüÂ∫¶ËÆ°Âà§Êñ≠ÊòØÂ
 184:application/chassis/chassis.c ****     // chassis_feedback_data.vx vy wz =
 185:application/chassis/chassis.c ****     //  ...
 186:application/chassis/chassis.c **** }
 187:application/chassis/chassis.c **** 
 188:application/chassis/chassis.c **** /* Êú∫Âô®‰∫∫Â∫ïÁõòÊéßÂà∂Ê†∏ÂøÉ‰ªªÂä° */
 189:application/chassis/chassis.c **** void ChassisTask()
 190:application/chassis/chassis.c **** {
 373              		.loc 1 190 1 is_stmt 1 view -0
 374              		.cfi_startproc
 375              		@ args = 0, pretend = 0, frame = 0
 376              		@ frame_needed = 0, uses_anonymous_args = 0
 377 0000 38B5     		push	{r3, r4, r5, lr}
 378              	.LCFI4:
 379              		.cfi_def_cfa_offset 16
 380              		.cfi_offset 3, -16
 381              		.cfi_offset 4, -12
 382              		.cfi_offset 5, -8
 383              		.cfi_offset 14, -4
 384 0002 2DED028B 		vpush.64	{d8}
 385              	.LCFI5:
 386              		.cfi_def_cfa_offset 24
 387              		.cfi_offset 80, -24
 388              		.cfi_offset 81, -20
 191:application/chassis/chassis.c ****     // ÂêéÁª≠Â¢ûÂä†Ê≤°Êî∂Âà∞Ê∂àÊÅØÁöÑÂ§ÑÁêÜ(ÂèåÊùøÁöÑÊÉÖÂÜµ)
 192:application/chassis/chassis.c ****     // Ëé∑ÂèñÊñ∞ÁöÑÊéßÂà∂‰ø°ÊÅØ
 193:application/chassis/chassis.c **** #ifdef ONE_BOARD
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s 			page 12


 194:application/chassis/chassis.c ****     SubGetMessage(chassis_sub, &chassis_cmd_recv);
 389              		.loc 1 194 5 view .LVU76
 390 0006 484C     		ldr	r4, .L22
 391 0008 2146     		mov	r1, r4
 392 000a 484B     		ldr	r3, .L22+4
 393 000c 1868     		ldr	r0, [r3]
 394 000e FFF7FEFF 		bl	SubGetMessage
 395              	.LVL15:
 195:application/chassis/chassis.c **** #endif
 196:application/chassis/chassis.c **** #ifdef CHASSIS_BOARD
 197:application/chassis/chassis.c ****     chassis_cmd_recv = *(Chassis_Ctrl_Cmd_s *)CANCommGet(chasiss_can_comm);
 198:application/chassis/chassis.c **** #endif // CHASSIS_BOARD
 199:application/chassis/chassis.c **** 
 200:application/chassis/chassis.c ****     SetPowerLimit(referee_data->GameRobotState.chassis_power_limit);//ËÆæÁΩÆÂäüÁéáÈôêÂà∂
 396              		.loc 1 200 5 view .LVU77
 397              		.loc 1 200 31 is_stmt 0 view .LVU78
 398 0012 474B     		ldr	r3, .L22+8
 399 0014 1B68     		ldr	r3, [r3]
 400              		.loc 1 200 47 view .LVU79
 401 0016 B3F84C30 		ldrh	r3, [r3, #76]	@ unaligned
 402 001a 00EE103A 		vmov	s0, r3	@ int
 403              		.loc 1 200 5 view .LVU80
 404 001e B8EE400A 		vcvt.f32.u32	s0, s0
 405 0022 FFF7FEFF 		bl	SetPowerLimit
 406              	.LVL16:
 201:application/chassis/chassis.c ****     if (chassis_cmd_recv.chassis_mode == CHASSIS_ZERO_FORCE)
 407              		.loc 1 201 5 is_stmt 1 view .LVU81
 408              		.loc 1 201 25 is_stmt 0 view .LVU82
 409 0026 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
 410              		.loc 1 201 8 view .LVU83
 411 0028 DBB9     		cbnz	r3, .L13
 202:application/chassis/chassis.c ****     { // Â¶ÇÊûúÂá∫Áé∞ÈáçË¶ÅÊ®°ÂùóÁ¶ªÁ∫øÊàñÈÅ•ÊéßÂô®ËÆæÁΩÆ‰∏∫ÊÄ•ÂÅú,ËÆ©ÁîµÊú∫ÂÅúÊ≠¢
 203:application/chassis/chassis.c ****         DJIMotorStop(motor_lf);
 412              		.loc 1 203 9 is_stmt 1 view .LVU84
 413 002a 424B     		ldr	r3, .L22+12
 414 002c 1868     		ldr	r0, [r3]
 415 002e FFF7FEFF 		bl	DJIMotorStop
 416              	.LVL17:
 204:application/chassis/chassis.c ****         DJIMotorStop(motor_rf);
 417              		.loc 1 204 9 view .LVU85
 418 0032 414B     		ldr	r3, .L22+16
 419 0034 1868     		ldr	r0, [r3]
 420 0036 FFF7FEFF 		bl	DJIMotorStop
 421              	.LVL18:
 205:application/chassis/chassis.c ****         DJIMotorStop(motor_lb);
 422              		.loc 1 205 9 view .LVU86
 423 003a 404B     		ldr	r3, .L22+20
 424 003c 1868     		ldr	r0, [r3]
 425 003e FFF7FEFF 		bl	DJIMotorStop
 426              	.LVL19:
 206:application/chassis/chassis.c ****         DJIMotorStop(motor_rb);
 427              		.loc 1 206 9 view .LVU87
 428 0042 3F4B     		ldr	r3, .L22+24
 429 0044 1868     		ldr	r0, [r3]
 430 0046 FFF7FEFF 		bl	DJIMotorStop
 431              	.LVL20:
 432              	.L14:
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s 			page 13


 207:application/chassis/chassis.c ****     }
 208:application/chassis/chassis.c ****     else
 209:application/chassis/chassis.c ****     { // Ê≠£Â∏∏Â∑•‰Ωú
 210:application/chassis/chassis.c ****         DJIMotorEnable(motor_lf);
 211:application/chassis/chassis.c ****         DJIMotorEnable(motor_rf);
 212:application/chassis/chassis.c ****         DJIMotorEnable(motor_lb);
 213:application/chassis/chassis.c ****         DJIMotorEnable(motor_rb);
 214:application/chassis/chassis.c ****     }
 215:application/chassis/chassis.c **** 
 216:application/chassis/chassis.c ****     // Ê†πÊçÆÊéßÂà∂Ê®°ÂºèËÆæÂÆöÊóãËΩ¨ÈÄüÂ∫¶
 217:application/chassis/chassis.c ****     switch (chassis_cmd_recv.chassis_mode)
 433              		.loc 1 217 5 view .LVU88
 434              		.loc 1 217 29 is_stmt 0 view .LVU89
 435 004a 374B     		ldr	r3, .L22
 436 004c 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 437              		.loc 1 217 5 view .LVU90
 438 004e 022B     		cmp	r3, #2
 439 0050 18D0     		beq	.L15
 440 0052 032B     		cmp	r3, #3
 441 0054 52D0     		beq	.L16
 442 0056 012B     		cmp	r3, #1
 443 0058 17D1     		bne	.L18
 218:application/chassis/chassis.c ****     {
 219:application/chassis/chassis.c ****     case CHASSIS_NO_FOLLOW: // Â∫ïÁõò‰∏çÊóãËΩ¨,‰ΩÜÁª¥ÊåÅÂÖ®ÂêëÊú∫Âä®,‰∏ÄËà¨Áî®‰∫éË∞ÉÊï¥‰∫ëÂè∞ÂßøÊÄÅ
 220:application/chassis/chassis.c ****         chassis_cmd_recv.wz = 0;
 221:application/chassis/chassis.c ****         break;
 222:application/chassis/chassis.c ****     case CHASSIS_FOLLOW_GIMBAL_YAW: // Ë∑üÈöè‰∫ëÂè∞,‰∏çÂçïÁã¨ËÆæÁΩÆpid,‰ª•ËØØÂ∑ÆËßíÂ∫¶Âπ≥Êñπ‰∏∫ÈÄüÂ
 223:application/chassis/chassis.c ****         chassis_cmd_recv.wz = -1.5f * chassis_cmd_recv.offset_angle * abs(chassis_cmd_recv.offset_a
 224:application/chassis/chassis.c ****         break;
 225:application/chassis/chassis.c ****     case CHASSIS_ROTATE: // Ëá™Êóã,ÂêåÊó∂‰øùÊåÅÂÖ®ÂêëÊú∫Âä®;ÂΩìÂâçwzÁª¥ÊåÅÂÆöÂÄº,ÂêéÁª≠Â¢ûÂä†‰∏çËßÑ
 226:application/chassis/chassis.c ****         chassis_cmd_recv.wz = 4000;
 444              		.loc 1 226 9 is_stmt 1 view .LVU91
 445              		.loc 1 226 29 is_stmt 0 view .LVU92
 446 005a 334B     		ldr	r3, .L22
 447 005c 394A     		ldr	r2, .L22+28
 448 005e 9A60     		str	r2, [r3, #8]	@ float
 227:application/chassis/chassis.c ****         break;
 449              		.loc 1 227 9 is_stmt 1 view .LVU93
 450 0060 13E0     		b	.L18
 451              	.L13:
 210:application/chassis/chassis.c ****         DJIMotorEnable(motor_rf);
 452              		.loc 1 210 9 view .LVU94
 453 0062 344B     		ldr	r3, .L22+12
 454 0064 1868     		ldr	r0, [r3]
 455 0066 FFF7FEFF 		bl	DJIMotorEnable
 456              	.LVL21:
 211:application/chassis/chassis.c ****         DJIMotorEnable(motor_lb);
 457              		.loc 1 211 9 view .LVU95
 458 006a 334B     		ldr	r3, .L22+16
 459 006c 1868     		ldr	r0, [r3]
 460 006e FFF7FEFF 		bl	DJIMotorEnable
 461              	.LVL22:
 212:application/chassis/chassis.c ****         DJIMotorEnable(motor_rb);
 462              		.loc 1 212 9 view .LVU96
 463 0072 324B     		ldr	r3, .L22+20
 464 0074 1868     		ldr	r0, [r3]
 465 0076 FFF7FEFF 		bl	DJIMotorEnable
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s 			page 14


 466              	.LVL23:
 213:application/chassis/chassis.c ****     }
 467              		.loc 1 213 9 view .LVU97
 468 007a 314B     		ldr	r3, .L22+24
 469 007c 1868     		ldr	r0, [r3]
 470 007e FFF7FEFF 		bl	DJIMotorEnable
 471              	.LVL24:
 472 0082 E2E7     		b	.L14
 473              	.L15:
 220:application/chassis/chassis.c ****         break;
 474              		.loc 1 220 9 view .LVU98
 220:application/chassis/chassis.c ****         break;
 475              		.loc 1 220 29 is_stmt 0 view .LVU99
 476 0084 284B     		ldr	r3, .L22
 477 0086 0022     		movs	r2, #0
 478 0088 9A60     		str	r2, [r3, #8]	@ float
 221:application/chassis/chassis.c ****     case CHASSIS_FOLLOW_GIMBAL_YAW: // Ë∑üÈöè‰∫ëÂè∞,‰∏çÂçïÁã¨ËÆæÁΩÆpid,‰ª•ËØØÂ∑ÆËßíÂ∫¶Âπ≥Êñπ‰∏∫ÈÄüÂ
 479              		.loc 1 221 9 is_stmt 1 view .LVU100
 480              	.L18:
 228:application/chassis/chassis.c ****     default:
 229:application/chassis/chassis.c ****         break;
 230:application/chassis/chassis.c ****     }
 231:application/chassis/chassis.c **** 
 232:application/chassis/chassis.c ****     // Ê†πÊçÆ‰∫ëÂè∞ÂíåÂ∫ïÁõòÁöÑËßíÂ∫¶offsetÂ∞ÜÊéßÂà∂ÈáèÊò†Â∞ÑÂà∞Â∫ïÁõòÂùêÊ†áÁ≥ª‰∏ä
 233:application/chassis/chassis.c ****     // Â∫ïÁõòÈÄÜÊó∂ÈíàÊóãËΩ¨‰∏∫ËßíÂ∫¶Ê≠£ÊñπÂêë;‰∫ëÂè∞ÂëΩ‰ª§ÁöÑÊñπÂêë‰ª•‰∫ëÂè∞ÊåáÂêëÁöÑÊñπÂêë‰∏∫x,Èá
 234:application/chassis/chassis.c ****     static float sin_theta, cos_theta;
 481              		.loc 1 234 5 view .LVU101
 235:application/chassis/chassis.c ****     cos_theta = arm_cos_f32(chassis_cmd_recv.offset_angle * DEGREE_2_RAD);
 482              		.loc 1 235 5 view .LVU102
 483              		.loc 1 235 45 is_stmt 0 view .LVU103
 484 008a 274C     		ldr	r4, .L22
 485 008c 94ED030A 		vldr.32	s0, [r4, #12]
 486              		.loc 1 235 17 view .LVU104
 487 0090 9FED2D8A 		vldr.32	s16, .L22+32
 488 0094 20EE080A 		vmul.f32	s0, s0, s16
 489 0098 FFF7FEFF 		bl	arm_cos_f32
 490              	.LVL25:
 491              		.loc 1 235 15 discriminator 1 view .LVU105
 492 009c 2B4D     		ldr	r5, .L22+36
 493 009e 85ED000A 		vstr.32	s0, [r5]
 236:application/chassis/chassis.c ****     sin_theta = arm_sin_f32(chassis_cmd_recv.offset_angle * DEGREE_2_RAD);
 494              		.loc 1 236 5 is_stmt 1 view .LVU106
 495              		.loc 1 236 45 is_stmt 0 view .LVU107
 496 00a2 94ED030A 		vldr.32	s0, [r4, #12]
 497              		.loc 1 236 17 view .LVU108
 498 00a6 20EE080A 		vmul.f32	s0, s0, s16
 499 00aa FFF7FEFF 		bl	arm_sin_f32
 500              	.LVL26:
 501              		.loc 1 236 15 discriminator 1 view .LVU109
 502 00ae 284B     		ldr	r3, .L22+40
 503 00b0 83ED000A 		vstr.32	s0, [r3]
 237:application/chassis/chassis.c ****     chassis_vx = chassis_cmd_recv.vx * cos_theta - chassis_cmd_recv.vy * sin_theta;
 504              		.loc 1 237 5 is_stmt 1 view .LVU110
 505              		.loc 1 237 34 is_stmt 0 view .LVU111
 506 00b4 94ED006A 		vldr.32	s12, [r4]
 507              		.loc 1 237 38 view .LVU112
 508 00b8 D5ED007A 		vldr.32	s15, [r5]
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s 			page 15


 509 00bc 26EE277A 		vmul.f32	s14, s12, s15
 510              		.loc 1 237 68 view .LVU113
 511 00c0 D4ED016A 		vldr.32	s13, [r4, #4]
 512              		.loc 1 237 72 view .LVU114
 513 00c4 60EE265A 		vmul.f32	s11, s0, s13
 514              		.loc 1 237 50 view .LVU115
 515 00c8 37EE657A 		vsub.f32	s14, s14, s11
 516              		.loc 1 237 16 view .LVU116
 517 00cc 214B     		ldr	r3, .L22+44
 518 00ce 83ED007A 		vstr.32	s14, [r3]
 238:application/chassis/chassis.c ****     chassis_vy = chassis_cmd_recv.vx * sin_theta + chassis_cmd_recv.vy * cos_theta;
 519              		.loc 1 238 5 is_stmt 1 view .LVU117
 520              		.loc 1 238 38 is_stmt 0 view .LVU118
 521 00d2 20EE060A 		vmul.f32	s0, s0, s12
 522              		.loc 1 238 72 view .LVU119
 523 00d6 67EEA67A 		vmul.f32	s15, s15, s13
 524              		.loc 1 238 50 view .LVU120
 525 00da 30EE270A 		vadd.f32	s0, s0, s15
 526              		.loc 1 238 16 view .LVU121
 527 00de 1E4B     		ldr	r3, .L22+48
 528 00e0 83ED000A 		vstr.32	s0, [r3]
 239:application/chassis/chassis.c **** 
 240:application/chassis/chassis.c ****     // Ê†πÊçÆÊéßÂà∂Ê®°ÂºèËøõË°åÊ≠£ËøêÂä®Â≠¶Ëß£ÁÆó,ËÆ°ÁÆóÂ∫ïÁõòËæìÂá∫
 241:application/chassis/chassis.c ****     MecanumCalculate();
 529              		.loc 1 241 5 is_stmt 1 view .LVU122
 530 00e4 FFF7FEFF 		bl	MecanumCalculate
 531              	.LVL27:
 242:application/chassis/chassis.c **** 
 243:application/chassis/chassis.c ****     // Ê†πÊçÆË£ÅÂà§Á≥ªÁªüÁöÑÂèçÈ¶àÊï∞ÊçÆÂíåÁîµÂÆπÊï∞ÊçÆÂØπËæìÂá∫ÈôêÂπÖÂπ∂ËÆæÂÆöÈó≠ÁéØÂèÇËÄÉÂÄº
 244:application/chassis/chassis.c ****     LimitChassisOutput();
 532              		.loc 1 244 5 view .LVU123
 533 00e8 FFF7FEFF 		bl	LimitChassisOutput
 534              	.LVL28:
 245:application/chassis/chassis.c **** 
 246:application/chassis/chassis.c ****     // Ê†πÊçÆÁîµÊú∫ÁöÑÂèçÈ¶àÈÄüÂ∫¶ÂíåIMU(Â¶ÇÊûúÊúâ)ËÆ°ÁÆóÁúüÂÆûÈÄüÂ∫¶
 247:application/chassis/chassis.c ****     EstimateSpeed();
 535              		.loc 1 247 5 view .LVU124
 248:application/chassis/chassis.c **** 
 249:application/chassis/chassis.c ****     // // Ëé∑ÂèñË£ÅÂà§Á≥ªÁªüÊï∞ÊçÆ   Âª∫ËÆÆÂ∞ÜË£ÅÂà§Á≥ªÁªü‰∏éÂ∫ïÁõòÂàÜÁ¶ªÔºåÊâÄ‰ª•Ê≠§Â§ÑÊï∞ÊçÆÂ∫î‰Ω
 250:application/chassis/chassis.c ****     // // ÊàëÊñπÈ¢úËâ≤idÂ∞è‰∫é7ÊòØÁ∫¢Ëâ≤,Â§ß‰∫é7ÊòØËìùËâ≤,Ê≥®ÊÑèËøôÈáåÂèëÈÄÅÁöÑÊòØÂØπÊñπÁöÑÈ¢úËâ≤, 
 251:application/chassis/chassis.c ****     // chassis_feedback_data.enemy_color = referee_data->GameRobotState.robot_id > 7 ? 1 : 0;
 252:application/chassis/chassis.c ****     // // ÂΩìÂâçÂè™ÂÅö‰∫Ü17mmÁÉ≠ÈáèÁöÑÊï∞ÊçÆËé∑Âèñ,ÂêéÁª≠Ê†πÊçÆrobot_def‰∏≠ÁöÑÂÆèÂàáÊç¢ÂèåÊû™ÁÆ°Âíå
 253:application/chassis/chassis.c ****     // chassis_feedback_data.bullet_speed = referee_data->GameRobotState.shooter_id1_17mm_speed_lim
 254:application/chassis/chassis.c ****     // chassis_feedback_data.rest_heat = referee_data->PowerHeatData.shooter_heat0;
 255:application/chassis/chassis.c **** 
 256:application/chassis/chassis.c ****     // Êé®ÈÄÅÂèçÈ¶àÊ∂àÊÅØ
 257:application/chassis/chassis.c **** #ifdef ONE_BOARD
 258:application/chassis/chassis.c ****     PubPushMessage(chassis_pub, (void *)&chassis_feedback_data);
 536              		.loc 1 258 5 view .LVU125
 537 00ec 1B49     		ldr	r1, .L22+52
 538 00ee 1C4B     		ldr	r3, .L22+56
 539 00f0 1868     		ldr	r0, [r3]
 540 00f2 FFF7FEFF 		bl	PubPushMessage
 541              	.LVL29:
 259:application/chassis/chassis.c **** #endif
 260:application/chassis/chassis.c **** #ifdef CHASSIS_BOARD
 261:application/chassis/chassis.c ****     CANCommSend(chasiss_can_comm, (void *)&chassis_feedback_data);
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s 			page 16


 262:application/chassis/chassis.c **** #endif // CHASSIS_BOARD
 263:application/chassis/chassis.c **** }...
 542              		.loc 1 263 1 is_stmt 0 view .LVU126
 543 00f6 BDEC028B 		vldm	sp!, {d8}
 544              	.LCFI6:
 545              		.cfi_remember_state
 546              		.cfi_restore 80
 547              		.cfi_restore 81
 548              		.cfi_def_cfa_offset 16
 549 00fa 38BD     		pop	{r3, r4, r5, pc}
 550              	.L16:
 551              	.LCFI7:
 552              		.cfi_restore_state
 223:application/chassis/chassis.c ****         chassis_cmd_recv.wz = -1.5f * chassis_cmd_recv.offset_angle * abs(chassis_cmd_recv.offset_a
 553              		.loc 1 223 9 is_stmt 1 view .LVU127
 223:application/chassis/chassis.c ****         chassis_cmd_recv.wz = -1.5f * chassis_cmd_recv.offset_angle * abs(chassis_cmd_recv.offset_a
 554              		.loc 1 223 55 is_stmt 0 view .LVU128
 555 00fc 0A4B     		ldr	r3, .L22
 556 00fe 93ED037A 		vldr.32	s14, [r3, #12]
 223:application/chassis/chassis.c ****         chassis_cmd_recv.wz = -1.5f * chassis_cmd_recv.offset_angle * abs(chassis_cmd_recv.offset_a
 557              		.loc 1 223 37 view .LVU129
 558 0102 FFEE087A 		vmov.f32	s15, #-1.5e+0
 559 0106 67EE277A 		vmul.f32	s15, s14, s15
 223:application/chassis/chassis.c ****         chassis_cmd_recv.wz = -1.5f * chassis_cmd_recv.offset_angle * abs(chassis_cmd_recv.offset_a
 560              		.loc 1 223 71 view .LVU130
 561 010a B5EEC07A 		vcmpe.f32	s14, #0
 562 010e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 563 0112 05DD     		ble	.L21
 564              	.L19:
 223:application/chassis/chassis.c ****         chassis_cmd_recv.wz = -1.5f * chassis_cmd_recv.offset_angle * abs(chassis_cmd_recv.offset_a
 565              		.loc 1 223 69 discriminator 4 view .LVU131
 566 0114 67EE877A 		vmul.f32	s15, s15, s14
 223:application/chassis/chassis.c ****         chassis_cmd_recv.wz = -1.5f * chassis_cmd_recv.offset_angle * abs(chassis_cmd_recv.offset_a
 567              		.loc 1 223 29 discriminator 4 view .LVU132
 568 0118 034B     		ldr	r3, .L22
 569 011a C3ED027A 		vstr.32	s15, [r3, #8]
 224:application/chassis/chassis.c ****         break;
 570              		.loc 1 224 9 is_stmt 1 view .LVU133
 571 011e B4E7     		b	.L18
 572              	.L21:
 223:application/chassis/chassis.c ****         chassis_cmd_recv.wz = -1.5f * chassis_cmd_recv.offset_angle * abs(chassis_cmd_recv.offset_a
 573              		.loc 1 223 71 is_stmt 0 discriminator 2 view .LVU134
 574 0120 B1EE477A 		vneg.f32	s14, s14
 575 0124 F6E7     		b	.L19
 576              	.L23:
 577 0126 00BF     		.align	2
 578              	.L22:
 579 0128 00000000 		.word	chassis_cmd_recv
 580 012c 00000000 		.word	chassis_sub
 581 0130 00000000 		.word	referee_data
 582 0134 00000000 		.word	motor_lf
 583 0138 00000000 		.word	motor_rf
 584 013c 00000000 		.word	motor_lb
 585 0140 00000000 		.word	motor_rb
 586 0144 00007A45 		.word	1165623296
 587 0148 35FA8E3C 		.word	1016003125
 588 014c 00000000 		.word	cos_theta.1
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s 			page 17


 589 0150 00000000 		.word	sin_theta.0
 590 0154 00000000 		.word	chassis_vx
 591 0158 00000000 		.word	chassis_vy
 592 015c 00000000 		.word	chassis_feedback_data
 593 0160 00000000 		.word	chassis_pub
 594              		.cfi_endproc
 595              	.LFE280:
 597              		.section	.bss.sin_theta.0,"aw",%nobits
 598              		.align	2
 601              	sin_theta.0:
 602 0000 00000000 		.space	4
 603              		.section	.bss.cos_theta.1,"aw",%nobits
 604              		.align	2
 607              	cos_theta.1:
 608 0000 00000000 		.space	4
 609              		.section	.bss.vt_rb,"aw",%nobits
 610              		.align	2
 613              	vt_rb:
 614 0000 00000000 		.space	4
 615              		.section	.bss.vt_lb,"aw",%nobits
 616              		.align	2
 619              	vt_lb:
 620 0000 00000000 		.space	4
 621              		.section	.bss.vt_rf,"aw",%nobits
 622              		.align	2
 625              	vt_rf:
 626 0000 00000000 		.space	4
 627              		.section	.bss.vt_lf,"aw",%nobits
 628              		.align	2
 631              	vt_lf:
 632 0000 00000000 		.space	4
 633              		.section	.bss.chassis_vy,"aw",%nobits
 634              		.align	2
 637              	chassis_vy:
 638 0000 00000000 		.space	4
 639              		.section	.bss.chassis_vx,"aw",%nobits
 640              		.align	2
 643              	chassis_vx:
 644 0000 00000000 		.space	4
 645              		.section	.bss.motor_rb,"aw",%nobits
 646              		.align	2
 649              	motor_rb:
 650 0000 00000000 		.space	4
 651              		.section	.bss.motor_lb,"aw",%nobits
 652              		.align	2
 655              	motor_lb:
 656 0000 00000000 		.space	4
 657              		.section	.bss.motor_rf,"aw",%nobits
 658              		.align	2
 661              	motor_rf:
 662 0000 00000000 		.space	4
 663              		.section	.bss.motor_lf,"aw",%nobits
 664              		.align	2
 667              	motor_lf:
 668 0000 00000000 		.space	4
 669              		.section	.bss.cap,"aw",%nobits
 670              		.align	2
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s 			page 18


 673              	cap:
 674 0000 00000000 		.space	4
 675              		.section	.bss.ui_data,"aw",%nobits
 676              		.align	2
 679              	ui_data:
 680 0000 00000000 		.space	19
 680      00000000 
 680      00000000 
 680      00000000 
 680      000000
 681              		.section	.bss.referee_data,"aw",%nobits
 682              		.align	2
 685              	referee_data:
 686 0000 00000000 		.space	4
 687              		.section	.bss.buffer_PID,"aw",%nobits
 688              		.align	3
 691              	buffer_PID:
 692 0000 00000000 		.space	120
 692      00000000 
 692      00000000 
 692      00000000 
 692      00000000 
 693              		.section	.bss.chassis_feedback_data,"aw",%nobits
 694              		.align	2
 697              	chassis_feedback_data:
 698 0000 000000   		.space	3
 699              		.section	.bss.chassis_cmd_recv,"aw",%nobits
 700              		.align	2
 703              	chassis_cmd_recv:
 704 0000 00000000 		.space	21
 704      00000000 
 704      00000000 
 704      00000000 
 704      00000000 
 705              		.section	.bss.chassis_sub,"aw",%nobits
 706              		.align	2
 709              	chassis_sub:
 710 0000 00000000 		.space	4
 711              		.section	.bss.chassis_pub,"aw",%nobits
 712              		.align	2
 715              	chassis_pub:
 716 0000 00000000 		.space	4
 717              		.text
 718              	.Letext0:
 719              		.file 2 "/opt/ST/STM32CubeCLT_1.19.0/GNU-tools-for-STM32/arm-none-eabi/include/machine/_default_ty
 720              		.file 3 "/opt/ST/STM32CubeCLT_1.19.0/GNU-tools-for-STM32/arm-none-eabi/include/sys/_stdint.h"
 721              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 722              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 723              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 724              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 725              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_can.h"
 726              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_uart.h"
 727              		.file 10 "Middlewares/ST/ARM/DSP/Include/arm_math_types.h"
 728              		.file 11 "modules/master_machine/master_process.h"
 729              		.file 12 "application/robot_def.h"
 730              		.file 13 "Inc/can.h"
 731              		.file 14 "bsp/can/bsp_can.h"
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s 			page 19


 732              		.file 15 "modules/algorithm/controller.h"
 733              		.file 16 "modules/motor/motor_def.h"
 734              		.file 17 "modules/daemon/daemon.h"
 735              		.file 18 "modules/motor/DJImotor/dji_motor.h"
 736              		.file 19 "modules/super_cap/super_cap.h"
 737              		.file 20 "modules/message_center/message_center.h"
 738              		.file 21 "Inc/usart.h"
 739              		.file 22 "modules/referee/referee_protocol.h"
 740              		.file 23 "modules/referee/rm_referee.h"
 741              		.file 24 "Middlewares/ST/ARM/DSP/Include/dsp/fast_math_functions.h"
 742              		.file 25 "modules/motor/power_control.h"
 743              		.file 26 "modules/referee/referee_task.h"
 744              		.file 27 "<built-in>"
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s 			page 20


DEFINED SYMBOLS
                            *ABS*:00000000 chassis.c
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:21     .text.MecanumCalculate:00000000 $t
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:26     .text.MecanumCalculate:00000000 MecanumCalculate
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:82     .text.MecanumCalculate:00000058 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:643    .bss.chassis_vx:00000000 chassis_vx
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:637    .bss.chassis_vy:00000000 chassis_vy
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:703    .bss.chassis_cmd_recv:00000000 chassis_cmd_recv
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:631    .bss.vt_lf:00000000 vt_lf
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:625    .bss.vt_rf:00000000 vt_rf
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:619    .bss.vt_lb:00000000 vt_lb
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:613    .bss.vt_rb:00000000 vt_rb
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:94     .text.LimitChassisOutput:00000000 $t
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:99     .text.LimitChassisOutput:00000000 LimitChassisOutput
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:143    .text.LimitChassisOutput:0000003c $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:667    .bss.motor_lf:00000000 motor_lf
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:661    .bss.motor_rf:00000000 motor_rf
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:655    .bss.motor_lb:00000000 motor_lb
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:649    .bss.motor_rb:00000000 motor_rb
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:155    .rodata.ChassisInit.str1.4:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:162    .text.ChassisInit:00000000 $t
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:168    .text.ChassisInit:00000000 ChassisInit
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:340    .text.ChassisInit:000000e8 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:679    .bss.ui_data:00000000 ui_data
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:685    .bss.referee_data:00000000 referee_data
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:691    .bss.buffer_PID:00000000 buffer_PID
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:673    .bss.cap:00000000 cap
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:709    .bss.chassis_sub:00000000 chassis_sub
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:715    .bss.chassis_pub:00000000 chassis_pub
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:365    .text.ChassisTask:00000000 $t
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:371    .text.ChassisTask:00000000 ChassisTask
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:579    .text.ChassisTask:00000128 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:607    .bss.cos_theta.1:00000000 cos_theta.1
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:601    .bss.sin_theta.0:00000000 sin_theta.0
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:697    .bss.chassis_feedback_data:00000000 chassis_feedback_data
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:598    .bss.sin_theta.0:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:604    .bss.cos_theta.1:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:610    .bss.vt_rb:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:616    .bss.vt_lb:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:622    .bss.vt_rf:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:628    .bss.vt_lf:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:634    .bss.chassis_vy:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:640    .bss.chassis_vx:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:646    .bss.motor_rb:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:652    .bss.motor_lb:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:658    .bss.motor_rf:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:664    .bss.motor_lf:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:670    .bss.cap:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:676    .bss.ui_data:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:682    .bss.referee_data:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:688    .bss.buffer_PID:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:694    .bss.chassis_feedback_data:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:700    .bss.chassis_cmd_recv:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:706    .bss.chassis_sub:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s:712    .bss.chassis_pub:00000000 $d

UNDEFINED SYMBOLS
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccNGhNwr.s 			page 21


DJIMotorSetRef
memset
PowerControlInit
UITaskInit
PIDInit
SuperCapInit
SubRegister
PubRegister
hcan1
huart6
hcan2
SubGetMessage
SetPowerLimit
DJIMotorStop
DJIMotorEnable
arm_cos_f32
arm_sin_f32
PubPushMessage
