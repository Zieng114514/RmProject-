ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"gimbal.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "application/gimbal/gimbal.c"
  20              		.section	.rodata.GimbalInit.str1.4,"aMS",%progbits,1
  21              		.align	2
  22              	.LC0:
  23 0000 67696D62 		.ascii	"gimbal_feed\000"
  23      616C5F66 
  23      65656400 
  24              		.align	2
  25              	.LC1:
  26 000c 67696D62 		.ascii	"gimbal_cmd\000"
  26      616C5F63 
  26      6D6400
  27              		.section	.text.GimbalInit,"ax",%progbits
  28              		.align	1
  29              		.global	GimbalInit
  30              		.syntax unified
  31              		.thumb
  32              		.thumb_func
  34              	GimbalInit:
  35              	.LFB276:
   1:application/gimbal/gimbal.c **** // ‰∫ëÂè∞Ê®°ÂùóÔºöË¥üË¥£ yaw/pitch ‰∏§ËΩ¥ÁöÑÂàùÂßãÂåñ‰∏é‰ªªÂä°ÊéßÂà∂
   2:application/gimbal/gimbal.c **** #include "gimbal.h"
   3:application/gimbal/gimbal.c **** // Êú∫Âô®‰∫∫ÂèÇÊï∞ÂÆèÔºöÂ∞∫ÂØ∏„ÄÅÂÆâË£ÖÂÅèÁΩÆ„ÄÅËßíÂ∫¶Âçï‰ΩçËΩ¨Êç¢Á≠â
   4:application/gimbal/gimbal.c **** #include "robot_def.h"
   5:application/gimbal/gimbal.c **** // DJI ÁîµÊú∫ÔºàGM6020/M3508/M2006ÔºâÁªü‰∏ÄÊé•Âè£
   6:application/gimbal/gimbal.c **** #include "dji_motor.h"
   7:application/gimbal/gimbal.c **** // ËææÂ¶ôÁîµÊú∫ÔºàDM4310/DM Á≥ªÂàóÔºâÊé•Âè£ - Â¢ûÂº∫Áâà
   8:application/gimbal/gimbal.c **** #include "dmmotor.h"
   9:application/gimbal/gimbal.c **** // ÂßøÊÄÅËß£ÁÆó‰ªªÂä°Êé•Âè£ÔºöÊèê‰æõ IMU ÂßøÊÄÅÔºàËßíÂ∫¶/ËßíÈÄüÂ∫¶ÔºâÊï∞ÊçÆ
  10:application/gimbal/gimbal.c **** #include "ins_task.h"
  11:application/gimbal/gimbal.c **** // ÂèëÂ∏ÉËÆ¢ÈòÖÊ∂àÊÅØ‰∏≠ÂøÉÔºö‰∫ëÂè∞‰∏é‰∏äÂ±Ç cmd Ê®°ÂùóÈÄö‰ø°
  12:application/gimbal/gimbal.c **** #include "message_center.h"
  13:application/gimbal/gimbal.c **** // ÈÄöÁî®ÂÆè/Á±ªÂûã
  14:application/gimbal/gimbal.c **** #include "general_def.h"
  15:application/gimbal/gimbal.c **** // BMI088 ‰º†ÊÑüÂô®Êé•Âè£Ôºà‰∫ëÂè∞Â∏∏Áî® IMUÔºâ
  16:application/gimbal/gimbal.c **** #include "bmi088.h"
  17:application/gimbal/gimbal.c **** 
  18:application/gimbal/gimbal.c **** // ‰∫ëÂè∞ IMU Êï∞ÊçÆÊåáÈíàÔºàYawTotalAngle / Pitch / Gyro[] Á≠âÔºâ
  19:application/gimbal/gimbal.c **** static attitude_t *gimba_IMU_data; // ‰∫ëÂè∞IMUÊï∞ÊçÆ
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s 			page 2


  20:application/gimbal/gimbal.c **** static DJIMotorInstance *yaw_motor;
  21:application/gimbal/gimbal.c **** static DMMotorInstance *pitch_motor;
  22:application/gimbal/gimbal.c **** 
  23:application/gimbal/gimbal.c **** static Publisher_t *gimbal_pub;                   // ‰∫ëÂè∞Â∫îÁî®Ê∂àÊÅØÂèëÂ∏ÉËÄÖ(‰∫ëÂè∞ÂèçÈ¶àÁªôcmd
  24:application/gimbal/gimbal.c **** static Subscriber_t *gimbal_sub;                  // cmdÊéßÂà∂Ê∂àÊÅØËÆ¢ÈòÖËÄÖ
  25:application/gimbal/gimbal.c **** static Gimbal_Upload_Data_s gimbal_feedback_data; // Âõû‰º†ÁªôcmdÁöÑ‰∫ëÂè∞Áä∂ÊÄÅ‰ø°ÊÅØ
  26:application/gimbal/gimbal.c **** static Gimbal_Ctrl_Cmd_s gimbal_cmd_recv;         // Êù•Ëá™cmdÁöÑÊéßÂà∂‰ø°ÊÅØ
  27:application/gimbal/gimbal.c **** 
  28:application/gimbal/gimbal.c **** static BMI088Instance *bmi088; // ‰∫ëÂè∞IMU
  29:application/gimbal/gimbal.c **** void GimbalInit()
  30:application/gimbal/gimbal.c **** {   
  36              		.loc 1 30 1 view -0
  37              		.cfi_startproc
  38              		@ args = 0, pretend = 0, frame = 224
  39              		@ frame_needed = 0, uses_anonymous_args = 0
  40 0000 30B5     		push	{r4, r5, lr}
  41              	.LCFI0:
  42              		.cfi_def_cfa_offset 12
  43              		.cfi_offset 4, -12
  44              		.cfi_offset 5, -8
  45              		.cfi_offset 14, -4
  46 0002 B9B0     		sub	sp, sp, #228
  47              	.LCFI1:
  48              		.cfi_def_cfa_offset 240
  31:application/gimbal/gimbal.c ****     // 1) ÂàùÂßãÂåñ IMU ÂßøÊÄÅËß£ÁÆóÔºåËé∑ÂèñÂßøÊÄÅÊï∞ÊçÆÊåáÈíàÔºàYawTotalAngle/Pitch/Gyro[]Ôºâ
  32:application/gimbal/gimbal.c ****     gimba_IMU_data = INS_Init();
  49              		.loc 1 32 5 view .LVU1
  50              		.loc 1 32 22 is_stmt 0 view .LVU2
  51 0004 FFF7FEFF 		bl	INS_Init
  52              	.LVL0:
  53 0008 0446     		mov	r4, r0
  54              		.loc 1 32 20 discriminator 1 view .LVU3
  55 000a 2E4B     		ldr	r3, .L3
  56 000c 1860     		str	r0, [r3]
  33:application/gimbal/gimbal.c ****     // 2) YAW ËΩ¥ÔºàGM6020ÔºâÔºöÂ§ñÁéØËßíÂ∫¶„ÄÅÂÜÖÁéØÈÄüÂ∫¶ÔºåÂèçÈ¶àÊù•Ëá™ IMUÔºàOTHER_FEEDÔºâ
  34:application/gimbal/gimbal.c ****     //    YawTotalAngle ‰Ωú‰∏∫ËßíÂ∫¶ÂèçÈ¶àÔºåGyro[2] ‰Ωú‰∏∫ËßíÈÄüÂ∫¶ÂèçÈ¶àÔºàÊ≥®ÊÑèÂùêÊ†áËΩ¥ÊñπÂêëÔ
  35:application/gimbal/gimbal.c ****     Motor_Init_Config_s yaw_config = {
  57              		.loc 1 35 5 is_stmt 1 view .LVU4
  58              		.loc 1 35 25 is_stmt 0 view .LVU5
  59 000e B022     		movs	r2, #176
  60 0010 0021     		movs	r1, #0
  61 0012 0CA8     		add	r0, sp, #48
  62 0014 FFF7FEFF 		bl	memset
  63              	.LVL1:
  36:application/gimbal/gimbal.c ****         .can_init_config = {
  37:application/gimbal/gimbal.c ****             .can_handle = &hcan1,
  38:application/gimbal/gimbal.c ****             .tx_id = 0x205,
  39:application/gimbal/gimbal.c ****         },
  40:application/gimbal/gimbal.c ****         .controller_param_init_config = {
  41:application/gimbal/gimbal.c ****             .angle_PID = {
  42:application/gimbal/gimbal.c ****                 .Kp = 8, // 8
  43:application/gimbal/gimbal.c ****                 .Ki = 0,
  44:application/gimbal/gimbal.c ****                 .Kd = 0,
  45:application/gimbal/gimbal.c ****                 .DeadBand = 0.1,
  46:application/gimbal/gimbal.c ****                 .Improve = PID_Trapezoid_Intergral | PID_Integral_Limit | PID_Derivative_On_Measure
  47:application/gimbal/gimbal.c ****                 .IntegralLimit = 100,
  48:application/gimbal/gimbal.c **** 
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s 			page 3


  49:application/gimbal/gimbal.c ****                 .MaxOut = 500,
  50:application/gimbal/gimbal.c ****             },
  51:application/gimbal/gimbal.c ****             .speed_PID = {
  52:application/gimbal/gimbal.c ****                 .Kp = 5,  // 50
  53:application/gimbal/gimbal.c ****                 .Ki = 2, // 200
  54:application/gimbal/gimbal.c ****                 .Kd = 0,
  55:application/gimbal/gimbal.c ****                 .Improve = PID_Trapezoid_Intergral | PID_Integral_Limit | PID_Derivative_On_Measure
  56:application/gimbal/gimbal.c ****                 .IntegralLimit = 3000,
  57:application/gimbal/gimbal.c ****                 .MaxOut = 10000,
  58:application/gimbal/gimbal.c ****             },
  59:application/gimbal/gimbal.c ****             .other_angle_feedback_ptr = &gimba_IMU_data->YawTotalAngle,
  64              		.loc 1 59 41 view .LVU6
  65 0018 04F12403 		add	r3, r4, #36
  35:application/gimbal/gimbal.c ****         .can_init_config = {
  66              		.loc 1 35 25 view .LVU7
  67 001c 0C93     		str	r3, [sp, #48]
  60:application/gimbal/gimbal.c ****             // ËøòÈúÄË¶ÅÂ¢ûÂä†ËßíÈÄüÂ∫¶È¢ùÂ§ñÂèçÈ¶àÊåáÈíà,Ê≥®ÊÑèÊñπÂêë,ins_task.md‰∏≠ÊúâcÊùøÁöÑbody
  61:application/gimbal/gimbal.c ****             .other_speed_feedback_ptr = &gimba_IMU_data->Gyro[2],
  68              		.loc 1 61 41 view .LVU8
  69 001e 04F10803 		add	r3, r4, #8
  35:application/gimbal/gimbal.c ****         .can_init_config = {
  70              		.loc 1 35 25 view .LVU9
  71 0022 0D93     		str	r3, [sp, #52]
  72 0024 284B     		ldr	r3, .L3+4
  73 0026 1B93     		str	r3, [sp, #108]	@ float
  74 0028 4FF08043 		mov	r3, #1073741824
  75 002c 1C93     		str	r3, [sp, #112]	@ float
  76 002e 274B     		ldr	r3, .L3+8
  77 0030 1E93     		str	r3, [sp, #120]	@ float
  78 0032 0723     		movs	r3, #7
  79 0034 8DF88030 		strb	r3, [sp, #128]
  80 0038 254A     		ldr	r2, .L3+12
  81 003a 2192     		str	r2, [sp, #132]	@ float
  82 003c 4FF08242 		mov	r2, #1090519040
  83 0040 2692     		str	r2, [sp, #152]	@ float
  84 0042 244A     		ldr	r2, .L3+16
  85 0044 2992     		str	r2, [sp, #164]	@ float
  86 0046 244A     		ldr	r2, .L3+20
  87 0048 2A92     		str	r2, [sp, #168]	@ float
  88 004a 8DF8AC30 		strb	r3, [sp, #172]
  89 004e 234B     		ldr	r3, .L3+24
  90 0050 2C93     		str	r3, [sp, #176]	@ float
  91 0052 0423     		movs	r3, #4
  92 0054 8DF8C430 		strb	r3, [sp, #196]
  93 0058 0623     		movs	r3, #6
  94 005a 8DF8C530 		strb	r3, [sp, #197]
  95 005e 0123     		movs	r3, #1
  96 0060 8DF8C830 		strb	r3, [sp, #200]
  97 0064 8DF8C930 		strb	r3, [sp, #201]
  98 0068 8DF8CB30 		strb	r3, [sp, #203]
  99 006c 1C4D     		ldr	r5, .L3+28
 100 006e 3395     		str	r5, [sp, #204]
 101 0070 40F20523 		movw	r3, #517
 102 0074 3493     		str	r3, [sp, #208]
  62:application/gimbal/gimbal.c ****         },
  63:application/gimbal/gimbal.c ****         .controller_setting_init_config = {
  64:application/gimbal/gimbal.c ****             .angle_feedback_source = OTHER_FEED,
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s 			page 4


  65:application/gimbal/gimbal.c ****             .speed_feedback_source = OTHER_FEED,
  66:application/gimbal/gimbal.c ****             .outer_loop_type = ANGLE_LOOP,
  67:application/gimbal/gimbal.c ****             .close_loop_type = ANGLE_LOOP | SPEED_LOOP,
  68:application/gimbal/gimbal.c ****             .motor_reverse_flag = MOTOR_DIRECTION_NORMAL,
  69:application/gimbal/gimbal.c ****         },
  70:application/gimbal/gimbal.c ****         .motor_type = GM6020};
  71:application/gimbal/gimbal.c ****     // 3) PITCH ËΩ¥ÔºàDM4310ÔºâÔºö‰ΩøÁî® MIT Âõ∫‰ª∂ÔºåMIT Ê®°ÂºèÊéßÂà∂
  72:application/gimbal/gimbal.c ****     //    CAN ID = 0x302ÔºåMIT Ê®°ÂºèÊîØÊåÅ‰ΩçÁΩÆ„ÄÅÈÄüÂ∫¶„ÄÅÁîµÊµÅÊéßÂà∂
  73:application/gimbal/gimbal.c ****     DMMotor_Init_Config_s dm_pitch_config = {
 103              		.loc 1 73 5 is_stmt 1 view .LVU10
 104              		.loc 1 73 27 is_stmt 0 view .LVU11
 105 0076 2C22     		movs	r2, #44
 106 0078 0021     		movs	r1, #0
 107 007a 01A8     		add	r0, sp, #4
 108 007c FFF7FEFF 		bl	memset
 109              	.LVL2:
 110 0080 0195     		str	r5, [sp, #4]
 111 0082 40F20233 		movw	r3, #770
 112 0086 0293     		str	r3, [sp, #8]
  74:application/gimbal/gimbal.c ****         .can_config = {
  75:application/gimbal/gimbal.c ****             .can_handle = &hcan1,
  76:application/gimbal/gimbal.c ****             .tx_id = 0x302,  // DM4310 MIT Âõ∫‰ª∂ÁöÑ CAN ID
  77:application/gimbal/gimbal.c ****         },
  78:application/gimbal/gimbal.c ****         .motor_type = DM4310,
  79:application/gimbal/gimbal.c ****         .control_method = MIT_MODE,       // ‰ΩøÁî® MIT Ê®°ÂºèÔºåÊîØÊåÅ‰ΩçÁΩÆ/ÈÄüÂ∫¶/ÁîµÊµÅÊéßÂà∂
  80:application/gimbal/gimbal.c ****         .angle_pid_config = NULL,         // MIT Ê®°Âºè‰∏ç‰ΩøÁî®ÂÜÖÁΩÆ PID
  81:application/gimbal/gimbal.c ****         .velocity_pid_config = NULL,      // MIT Ê®°Âºè‰∏ç‰ΩøÁî®ÂÜÖÁΩÆ PID
  82:application/gimbal/gimbal.c ****         .current_pid_config = NULL,       // MIT Ê®°Âºè‰∏ç‰ΩøÁî®ÂÜÖÁΩÆ PID
  83:application/gimbal/gimbal.c ****         .other_angle_feedback_ptr = &gimba_IMU_data->Pitch,    // IMU pitchËßíÂ∫¶ÂèçÈ¶à
 113              		.loc 1 83 37 view .LVU12
 114 0088 04F11C03 		add	r3, r4, #28
  73:application/gimbal/gimbal.c ****         .can_config = {
 115              		.loc 1 73 27 view .LVU13
 116 008c 0A93     		str	r3, [sp, #40]
 117 008e 0B94     		str	r4, [sp, #44]
  84:application/gimbal/gimbal.c ****         .other_velocity_feedback_ptr = &gimba_IMU_data->Gyro[0], // IMU pitchËßíÈÄüÂ∫¶ÂèçÈ¶à
  85:application/gimbal/gimbal.c ****     };
  86:application/gimbal/gimbal.c ****     // 4) ÁîµÊú∫ÂàùÂßãÂåñÔºöYAW ‰ΩøÁî® GM6020 Èó≠ÁéØÔºåPITCH ‰ΩøÁî® DM4310 Â¢ûÂº∫ÁâàÊéßÂà∂
  87:application/gimbal/gimbal.c ****     yaw_motor = DJIMotorInit(&yaw_config);
 118              		.loc 1 87 5 is_stmt 1 view .LVU14
 119              		.loc 1 87 17 is_stmt 0 view .LVU15
 120 0090 0CA8     		add	r0, sp, #48
 121 0092 FFF7FEFF 		bl	DJIMotorInit
 122              	.LVL3:
 123              		.loc 1 87 15 discriminator 1 view .LVU16
 124 0096 134B     		ldr	r3, .L3+32
 125 0098 1860     		str	r0, [r3]
  88:application/gimbal/gimbal.c ****     pitch_motor = DMMotorInit(&dm_pitch_config);
 126              		.loc 1 88 5 is_stmt 1 view .LVU17
 127              		.loc 1 88 19 is_stmt 0 view .LVU18
 128 009a 01A8     		add	r0, sp, #4
 129 009c FFF7FEFF 		bl	DMMotorInit
 130              	.LVL4:
 131              		.loc 1 88 17 discriminator 1 view .LVU19
 132 00a0 114B     		ldr	r3, .L3+36
 133 00a2 1860     		str	r0, [r3]
  89:application/gimbal/gimbal.c ****     // DM4310 Â¢ûÂº∫Áâà‰ΩøÁî®‰ªªÂä°ÂºèÊéßÂà∂Âæ™ÁéØÔºåÈúÄÂêØÂä®ÂÖ∂ÊéßÂà∂‰ªªÂä°
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s 			page 5


  90:application/gimbal/gimbal.c ****     DMMotorControlInit();
 134              		.loc 1 90 5 is_stmt 1 view .LVU20
 135 00a4 FFF7FEFF 		bl	DMMotorControlInit
 136              	.LVL5:
  91:application/gimbal/gimbal.c **** 
  92:application/gimbal/gimbal.c **** 
  93:application/gimbal/gimbal.c ****     gimbal_pub = PubRegister("gimbal_feed", sizeof(Gimbal_Upload_Data_s));
 137              		.loc 1 93 5 view .LVU21
 138              		.loc 1 93 18 is_stmt 0 view .LVU22
 139 00a8 2A21     		movs	r1, #42
 140 00aa 1048     		ldr	r0, .L3+40
 141 00ac FFF7FEFF 		bl	PubRegister
 142              	.LVL6:
 143              		.loc 1 93 16 discriminator 1 view .LVU23
 144 00b0 0F4B     		ldr	r3, .L3+44
 145 00b2 1860     		str	r0, [r3]
  94:application/gimbal/gimbal.c ****     gimbal_sub = SubRegister("gimbal_cmd", sizeof(Gimbal_Ctrl_Cmd_s));
 146              		.loc 1 94 5 is_stmt 1 view .LVU24
 147              		.loc 1 94 18 is_stmt 0 view .LVU25
 148 00b4 0D21     		movs	r1, #13
 149 00b6 0F48     		ldr	r0, .L3+48
 150 00b8 FFF7FEFF 		bl	SubRegister
 151              	.LVL7:
 152              		.loc 1 94 16 discriminator 1 view .LVU26
 153 00bc 0E4B     		ldr	r3, .L3+52
 154 00be 1860     		str	r0, [r3]
  95:application/gimbal/gimbal.c **** }
 155              		.loc 1 95 1 view .LVU27
 156 00c0 39B0     		add	sp, sp, #228
 157              	.LCFI2:
 158              		.cfi_def_cfa_offset 12
 159              		@ sp needed
 160 00c2 30BD     		pop	{r4, r5, pc}
 161              	.L4:
 162              		.align	2
 163              	.L3:
 164 00c4 00000000 		.word	gimba_IMU_data
 165 00c8 0000A040 		.word	1084227584
 166 00cc 00401C46 		.word	1176256512
 167 00d0 00803B45 		.word	1161527296
 168 00d4 0000FA43 		.word	1140457472
 169 00d8 CDCCCC3D 		.word	1036831949
 170 00dc 0000C842 		.word	1120403456
 171 00e0 00000000 		.word	hcan1
 172 00e4 00000000 		.word	yaw_motor
 173 00e8 00000000 		.word	pitch_motor
 174 00ec 00000000 		.word	.LC0
 175 00f0 00000000 		.word	gimbal_pub
 176 00f4 0C000000 		.word	.LC1
 177 00f8 00000000 		.word	gimbal_sub
 178              		.cfi_endproc
 179              	.LFE276:
 181              		.section	.text.GimbalTask,"ax",%progbits
 182              		.align	1
 183              		.global	GimbalTask
 184              		.syntax unified
 185              		.thumb
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s 			page 6


 186              		.thumb_func
 188              	GimbalTask:
 189              	.LFB277:
  96:application/gimbal/gimbal.c **** 
  97:application/gimbal/gimbal.c **** /**
  98:application/gimbal/gimbal.c ****  * @brief ‰∫ëÂè∞ÈÅ•ÊéßÂô®ÊéßÂà∂ËØ¥Êòé
  99:application/gimbal/gimbal.c ****  * 
 100:application/gimbal/gimbal.c ****  * ## ÊéßÂà∂Êï∞ÊçÆÊµÅÂêë
 101:application/gimbal/gimbal.c ****  * ÈÅ•ÊéßÂô® ‚Üí robot_cmd Ê®°Âùó ‚Üí gimbal_cmd Ê∂àÊÅØ ‚Üí GimbalTask() ‚Üí ÁîµÊú∫ÊéßÂà∂
 102:application/gimbal/gimbal.c ****  * 
 103:application/gimbal/gimbal.c ****  * ## ÈÅ•ÊéßÂô®ÈÄöÈÅìÊò†Â∞ÑÔºà‰ª•Â∏∏ËßÅÈÖçÁΩÆ‰∏∫‰æãÔºâ
 104:application/gimbal/gimbal.c ****  * - Âè≥ÊëáÊùÜ X ËΩ¥Ôºöyaw ËΩ¥ÊéßÂà∂ÔºàÂ∑¶Âè≥ËΩ¨Âä®Ôºâ
 105:application/gimbal/gimbal.c ****  * - Âè≥ÊëáÊùÜ Y ËΩ¥Ôºöpitch ËΩ¥ÊéßÂà∂Ôºà‰∏ä‰∏ã‰øØ‰ª∞Ôºâ
 106:application/gimbal/gimbal.c ****  * - Â∑¶ÊëáÊùÜ X ËΩ¥ÔºöÂ∫ïÁõò yaw Ë∑üÈöè/Ëß£ËÄ¶ÊéßÂà∂
 107:application/gimbal/gimbal.c ****  * - Â∑¶ÊëáÊùÜ Y ËΩ¥ÔºöÂ∫ïÁõòÂâçÂêéÁßªÂä®
 108:application/gimbal/gimbal.c ****  * - Â∑¶ÊëáÊùÜ X ËΩ¥ÔºöÂ∫ïÁõòÂ∑¶Âè≥ÁßªÂä®
 109:application/gimbal/gimbal.c ****  * 
 110:application/gimbal/gimbal.c ****  * ## ÂùêÊ†áÁ≥ªÂÆö‰πâ
 111:application/gimbal/gimbal.c ****  * - Yaw ËΩ¥ÔºöÈÄÜÊó∂Èíà‰∏∫Ê≠£ÊñπÂêëÔºà‰ªé‰∏äÊñπ‰øØËßÜÔºâ
 112:application/gimbal/gimbal.c ****  * - Pitch ËΩ¥ÔºöÂêë‰∏ä‰∏∫Ê≠£ÊñπÂêëÔºà‰ªé‰æßÈù¢ÁúãÔºâ
 113:application/gimbal/gimbal.c ****  * - ËßíÂ∫¶Âçï‰ΩçÔºöÂ∫¶Ôºà¬∞ÔºâÔºåÂú® robot_cmd ‰∏≠‰ºöËΩ¨Êç¢‰∏∫ÂºßÂ∫¶
 114:application/gimbal/gimbal.c ****  * - ÈÄüÂ∫¶Âçï‰ΩçÔºöÂ∫¶/ÁßíÔºà¬∞/sÔºâ
 115:application/gimbal/gimbal.c ****  * 
 116:application/gimbal/gimbal.c ****  * ## ÊéßÂà∂Ê®°Âºè
 117:application/gimbal/gimbal.c ****  * - GIMBAL_GYRO_MODEÔºöÈôÄËû∫‰ª™Ê®°ÂºèÔºå‰ΩøÁî® IMU ÂèçÈ¶àÔºåÂ∫ïÁõòË∑üÈöè‰∫ëÂè∞
 118:application/gimbal/gimbal.c ****  * - GIMBAL_FREE_MODEÔºöËá™Áî±Ê®°ÂºèÔºå‰∫ëÂè∞Áã¨Á´ãÊéßÂà∂ÔºåÂ∫ïÁõò‰∏çË∑üÈöè
 119:application/gimbal/gimbal.c ****  * - GIMBAL_ZERO_FORCEÔºöÊÄ•ÂÅúÊ®°ÂºèÔºåÊâÄÊúâÁîµÊú∫ÂÅúÊ≠¢
 120:application/gimbal/gimbal.c ****  * 
 121:application/gimbal/gimbal.c ****  * ## ÁîµÊú∫ÈÖçÁΩÆ
 122:application/gimbal/gimbal.c ****  * - Yaw ËΩ¥ÔºöGM6020ÔºåËßíÂ∫¶+ÈÄüÂ∫¶ÂèåÈó≠ÁéØÔºåÂèçÈ¶àÊù•Ëá™ IMUÔºåCAN ID = 0x205
 123:application/gimbal/gimbal.c ****  * - Pitch ËΩ¥ÔºöDM4310 MIT Âõ∫‰ª∂ÔºåMIT Ê®°Âºè‰ΩçÁΩÆÊéßÂà∂ÔºåCAN ID = 0x302
 124:application/gimbal/gimbal.c ****  * 
 125:application/gimbal/gimbal.c ****  * ## Ê≥®ÊÑè‰∫ãÈ°π
 126:application/gimbal/gimbal.c ****  * - ÈÅ•ÊéßÂô®Ê≠ªÂå∫Â§ÑÁêÜÂú® robot_cmd Ê®°ÂùóÂÆåÊàê
 127:application/gimbal/gimbal.c ****  * - Â§öÂúàËßíÂ∫¶Â§ÑÁêÜÂú® robot_cmd Ê®°ÂùóÂÆåÊàê
 128:application/gimbal/gimbal.c ****  * - ËßÜËßâÊ®°Âºè‰∏ãÁöÑÁõÆÊ†áË∑üË∏™‰πüÂú® robot_cmd Ê®°ÂùóÂ§ÑÁêÜ
 129:application/gimbal/gimbal.c ****  * - ÈáçÂäõË°•ÂÅøÂâçÈ¶àÂäõÁü©ÂèØÂú®Ê≠§Â§ÑÊ∑ªÂä†
 130:application/gimbal/gimbal.c ****  */
 131:application/gimbal/gimbal.c **** 
 132:application/gimbal/gimbal.c **** /* Êú∫Âô®‰∫∫‰∫ëÂè∞ÊéßÂà∂Ê†∏ÂøÉ‰ªªÂä°,ÂêéÁª≠ËÄÉËôëÂè™‰øùÁïôIMUÊéßÂà∂,‰∏çÂÜçÈúÄË¶ÅÁîµÊú∫ÁöÑÂèçÈ¶à */
 133:application/gimbal/gimbal.c **** void GimbalTask()
 134:application/gimbal/gimbal.c **** {
 190              		.loc 1 134 1 is_stmt 1 view -0
 191              		.cfi_startproc
 192              		@ args = 0, pretend = 0, frame = 0
 193              		@ frame_needed = 0, uses_anonymous_args = 0
 194 0000 38B5     		push	{r3, r4, r5, lr}
 195              	.LCFI3:
 196              		.cfi_def_cfa_offset 16
 197              		.cfi_offset 3, -16
 198              		.cfi_offset 4, -12
 199              		.cfi_offset 5, -8
 200              		.cfi_offset 14, -4
 135:application/gimbal/gimbal.c ****     // Ëé∑Âèñ‰∫ëÂè∞ÊéßÂà∂Êï∞ÊçÆÔºàÂèØÂú®‰∏äÂ±ÇÂä†ÂÖ•"Êú™Êî∂Âà∞Êï∞ÊçÆ"ÁöÑ‰øùÊä§Á≠ñÁï•Ôºâ
 136:application/gimbal/gimbal.c ****     SubGetMessage(gimbal_sub, &gimbal_cmd_recv);
 201              		.loc 1 136 5 view .LVU29
 202 0002 344C     		ldr	r4, .L10
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s 			page 7


 203 0004 2146     		mov	r1, r4
 204 0006 344B     		ldr	r3, .L10+4
 205 0008 1868     		ldr	r0, [r3]
 206 000a FFF7FEFF 		bl	SubGetMessage
 207              	.LVL8:
 137:application/gimbal/gimbal.c **** 
 138:application/gimbal/gimbal.c ****    // ËØ¥ÊòéÔºöÊé®ËçêÁªü‰∏Ä‰ΩøÁî® IMU ÁöÑÂßøÊÄÅÊï∞ÊçÆ‰Ωú‰∏∫ÂèçÈ¶àÊ∫ê
 139:application/gimbal/gimbal.c ****    // yaw ÁöÑÁºñÁ†ÅÂô® offset ‰ªÖÁî®‰∫é‰∏éÂ∫ïÁõòÁöÑÁõ∏ÂØπÂÖ≥Á≥ªÔºàÂ∫ïÁõòË∑üÈöè/Ëß£ËÄ¶ÔºâÔºõËßÜËßâÊ®
 140:application/gimbal/gimbal.c ****     switch (gimbal_cmd_recv.gimbal_mode) {
 208              		.loc 1 140 5 view .LVU30
 209              		.loc 1 140 28 is_stmt 0 view .LVU31
 210 000e 237B     		ldrb	r3, [r4, #12]	@ zero_extendqisi2
 211              		.loc 1 140 5 view .LVU32
 212 0010 012B     		cmp	r3, #1
 213 0012 44D0     		beq	.L6
 214 0014 022B     		cmp	r3, #2
 215 0016 27D0     		beq	.L7
 216 0018 4BB9     		cbnz	r3, .L8
 141:application/gimbal/gimbal.c ****         // ÂÅúÊ≠¢
 142:application/gimbal/gimbal.c ****         case GIMBAL_ZERO_FORCE:
 143:application/gimbal/gimbal.c ****             DJIMotorStop(yaw_motor);
 217              		.loc 1 143 13 is_stmt 1 view .LVU33
 218 001a 304B     		ldr	r3, .L10+8
 219 001c 1868     		ldr	r0, [r3]
 220 001e FFF7FEFF 		bl	DJIMotorStop
 221              	.LVL9:
 144:application/gimbal/gimbal.c ****             // DM4310 MIT Ê®°ÂºèÂÅúÊ≠¢ÊéßÂà∂ÔºàËÆæÁΩÆ‰∏∫Èõ∂ÁîµÊµÅÔºâ
 145:application/gimbal/gimbal.c ****             DMMotorSetCurrent(pitch_motor, 0.0f);
 222              		.loc 1 145 13 view .LVU34
 223 0022 9FED2F0A 		vldr.32	s0, .L10+12
 224 0026 2F4B     		ldr	r3, .L10+16
 225 0028 1868     		ldr	r0, [r3]
 226 002a FFF7FEFF 		bl	DMMotorSetCurrent
 227              	.LVL10:
 146:application/gimbal/gimbal.c ****             break;
 228              		.loc 1 146 13 view .LVU35
 229              	.L8:
 147:application/gimbal/gimbal.c ****             // ‰ΩøÁî®ÈôÄËû∫‰ª™ÁöÑÂèçÈ¶à,Â∫ïÁõòÊ†πÊçÆyawÁîµÊú∫ÁöÑoffsetË∑üÈöè‰∫ëÂè∞ÊàñËßÜËßâÊ®°ÂºèÈá
 148:application/gimbal/gimbal.c ****         case GIMBAL_GYRO_MODE: // ÂêéÁª≠Âè™‰øùÁïôÊ≠§Ê®°Âºè
 149:application/gimbal/gimbal.c ****             DJIMotorEnable(yaw_motor);
 150:application/gimbal/gimbal.c ****             DJIMotorChangeFeed(yaw_motor, ANGLE_LOOP, OTHER_FEED);
 151:application/gimbal/gimbal.c ****             DJIMotorChangeFeed(yaw_motor, SPEED_LOOP, OTHER_FEED);
 152:application/gimbal/gimbal.c ****             // DM4310 MIT Ê®°Âºè‰ΩøÁî®‰ΩçÁΩÆÊéßÂà∂
 153:application/gimbal/gimbal.c ****             DJIMotorSetRef(yaw_motor, gimbal_cmd_recv.yaw); // yawÂíåpitch‰ºöÂú®robot_cmd‰∏≠Â§ÑÁêÜÂ
 154:application/gimbal/gimbal.c ****             DMMotorSetPosition(pitch_motor, gimbal_cmd_recv.pitch);  // pitch ‰Ωú‰∏∫‰ΩçÁΩÆÊéßÂà∂
 155:application/gimbal/gimbal.c ****             break;
 156:application/gimbal/gimbal.c ****             // ‰∫ëÂè∞Ëá™Áî±Ê®°Âºè,‰ΩøÁî®ÁºñÁ†ÅÂô®ÂèçÈ¶à,Â∫ïÁõòÂíå‰∫ëÂè∞ÂàÜÁ¶ª,‰ªÖ‰∫ëÂè∞ÊóãËΩ¨,‰∏ÄËà
 157:application/gimbal/gimbal.c ****         case GIMBAL_FREE_MODE: // ÂêéÁª≠Âà†Èô§,ÊàñÂä†ÂÖ•‰∫ëÂè∞ËøΩÂú∞ÁõòÁöÑË∑üÈöèÊ®°Âºè(ÂìçÂ∫îÈÄüÂ∫¶
 158:application/gimbal/gimbal.c ****             DJIMotorEnable(yaw_motor);
 159:application/gimbal/gimbal.c ****             DJIMotorChangeFeed(yaw_motor, ANGLE_LOOP, OTHER_FEED);
 160:application/gimbal/gimbal.c ****             DJIMotorChangeFeed(yaw_motor, SPEED_LOOP, OTHER_FEED);
 161:application/gimbal/gimbal.c ****             // DM4310 MIT Ê®°Âºè‰ΩøÁî®‰ΩçÁΩÆÊéßÂà∂
 162:application/gimbal/gimbal.c ****             DJIMotorSetRef(yaw_motor, gimbal_cmd_recv.yaw); // yawÂíåpitch‰ºöÂú®robot_cmd‰∏≠Â§ÑÁêÜÂ
 163:application/gimbal/gimbal.c ****             DMMotorSetPosition(pitch_motor, gimbal_cmd_recv.pitch);  // pitch ‰Ωú‰∏∫‰ΩçÁΩÆÊéßÂà∂
 164:application/gimbal/gimbal.c ****             break;
 165:application/gimbal/gimbal.c ****         default:
 166:application/gimbal/gimbal.c ****             break;
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s 			page 8


 167:application/gimbal/gimbal.c ****     }
 168:application/gimbal/gimbal.c **** 
 169:application/gimbal/gimbal.c ****     // Âú®ÂêàÈÄÇÁöÑÂú∞ÊñπÊ∑ªÂä†pitchÈáçÂäõË°•ÂÅøÂâçÈ¶àÂäõÁü©
 170:application/gimbal/gimbal.c ****     // Ê†πÊçÆIMUÂßøÊÄÅ/pitchÁîµÊú∫ËßíÂ∫¶ÂèçÈ¶àËÆ°ÁÆóÂá∫ÂΩìÂâçÈÖçÈáç‰∏ãÁöÑÈáçÂäõÁü©
 171:application/gimbal/gimbal.c ****     // ...
 172:application/gimbal/gimbal.c **** 
 173:application/gimbal/gimbal.c ****     // ËÆæÁΩÆÂèçÈ¶àÊï∞ÊçÆ,‰∏ªË¶ÅÊòØimuÂíåyawÁöÑecd
 174:application/gimbal/gimbal.c ****     gimbal_feedback_data.gimbal_imu_data = *gimba_IMU_data;
 230              		.loc 1 174 5 view .LVU36
 231              		.loc 1 174 42 is_stmt 0 view .LVU37
 232 002e 2E4D     		ldr	r5, .L10+20
 233 0030 AC46     		mov	ip, r5
 234 0032 2E4B     		ldr	r3, .L10+24
 235 0034 1C68     		ldr	r4, [r3]
 236 0036 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 237 0038 ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 238 003c 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 239 003e ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 240 0042 94E80300 		ldm	r4, {r0, r1}
 241 0046 8CE80300 		stm	ip, {r0, r1}
 175:application/gimbal/gimbal.c ****     gimbal_feedback_data.yaw_motor_single_round_angle = yaw_motor->measure.angle_single_round;
 242              		.loc 1 175 5 is_stmt 1 view .LVU38
 243              		.loc 1 175 66 is_stmt 0 view .LVU39
 244 004a 244B     		ldr	r3, .L10+8
 245 004c 1B68     		ldr	r3, [r3]
 246              		.loc 1 175 75 view .LVU40
 247 004e D3ED017A 		vldr.32	s15, [r3, #4]
 248              		.loc 1 175 55 view .LVU41
 249 0052 FCEEE77A 		vcvt.u32.f32	s15, s15
 250 0056 17EE903A 		vmov	r3, s15	@ int
 251 005a 2B85     		strh	r3, [r5, #40]	@ movhi
 176:application/gimbal/gimbal.c ****     
 177:application/gimbal/gimbal.c ****     // Ê∑ªÂä†DMÁîµÊú∫Áä∂ÊÄÅÁõëÊéßÔºàÂèØÈÄâÔºâ
 178:application/gimbal/gimbal.c ****     // ÂèØ‰ª•Âú®ËøôÈáåÊ∑ªÂä†pitchÁîµÊú∫ÁöÑÁä∂ÊÄÅÊ£ÄÊü•Ôºå‰æãÂ¶ÇÔºö
 179:application/gimbal/gimbal.c ****     // if (DMMotorGetStatus(pitch_motor) == MOTOR_ERROR) {
 180:application/gimbal/gimbal.c ****     //     // Â§ÑÁêÜÁîµÊú∫ÈîôËØØ
 181:application/gimbal/gimbal.c ****     // }
 182:application/gimbal/gimbal.c **** 
 183:application/gimbal/gimbal.c ****     // Êé®ÈÄÅÊ∂àÊÅØ
 184:application/gimbal/gimbal.c ****     PubPushMessage(gimbal_pub, (void *)&gimbal_feedback_data);
 252              		.loc 1 184 5 is_stmt 1 view .LVU42
 253 005c 2946     		mov	r1, r5
 254 005e 244B     		ldr	r3, .L10+28
 255 0060 1868     		ldr	r0, [r3]
 256 0062 FFF7FEFF 		bl	PubPushMessage
 257              	.LVL11:
 185:application/gimbal/gimbal.c **** }...
 258              		.loc 1 185 1 is_stmt 0 view .LVU43
 259 0066 38BD     		pop	{r3, r4, r5, pc}
 260              	.L7:
 149:application/gimbal/gimbal.c ****             DJIMotorEnable(yaw_motor);
 261              		.loc 1 149 13 is_stmt 1 view .LVU44
 262 0068 1C4C     		ldr	r4, .L10+8
 263 006a 2068     		ldr	r0, [r4]
 264 006c FFF7FEFF 		bl	DJIMotorEnable
 265              	.LVL12:
 150:application/gimbal/gimbal.c ****             DJIMotorChangeFeed(yaw_motor, ANGLE_LOOP, OTHER_FEED);
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s 			page 9


 266              		.loc 1 150 13 view .LVU45
 267 0070 0122     		movs	r2, #1
 268 0072 0421     		movs	r1, #4
 269 0074 2068     		ldr	r0, [r4]
 270 0076 FFF7FEFF 		bl	DJIMotorChangeFeed
 271              	.LVL13:
 151:application/gimbal/gimbal.c ****             DJIMotorChangeFeed(yaw_motor, SPEED_LOOP, OTHER_FEED);
 272              		.loc 1 151 13 view .LVU46
 273 007a 0122     		movs	r2, #1
 274 007c 0221     		movs	r1, #2
 275 007e 2068     		ldr	r0, [r4]
 276 0080 FFF7FEFF 		bl	DJIMotorChangeFeed
 277              	.LVL14:
 153:application/gimbal/gimbal.c ****             DJIMotorSetRef(yaw_motor, gimbal_cmd_recv.yaw); // yawÂíåpitch‰ºöÂú®robot_cmd‰∏≠Â§ÑÁêÜÂ
 278              		.loc 1 153 13 view .LVU47
 279 0084 134D     		ldr	r5, .L10
 280 0086 95ED000A 		vldr.32	s0, [r5]
 281 008a 2068     		ldr	r0, [r4]
 282 008c FFF7FEFF 		bl	DJIMotorSetRef
 283              	.LVL15:
 154:application/gimbal/gimbal.c ****             DMMotorSetPosition(pitch_motor, gimbal_cmd_recv.pitch);  // pitch ‰Ωú‰∏∫‰ΩçÁΩÆÊéßÂà∂
 284              		.loc 1 154 13 view .LVU48
 285 0090 95ED010A 		vldr.32	s0, [r5, #4]
 286 0094 134B     		ldr	r3, .L10+16
 287 0096 1868     		ldr	r0, [r3]
 288 0098 FFF7FEFF 		bl	DMMotorSetPosition
 289              	.LVL16:
 155:application/gimbal/gimbal.c ****             break;
 290              		.loc 1 155 13 view .LVU49
 291 009c C7E7     		b	.L8
 292              	.L6:
 158:application/gimbal/gimbal.c ****             DJIMotorEnable(yaw_motor);
 293              		.loc 1 158 13 view .LVU50
 294 009e 0F4C     		ldr	r4, .L10+8
 295 00a0 2068     		ldr	r0, [r4]
 296 00a2 FFF7FEFF 		bl	DJIMotorEnable
 297              	.LVL17:
 159:application/gimbal/gimbal.c ****             DJIMotorChangeFeed(yaw_motor, ANGLE_LOOP, OTHER_FEED);
 298              		.loc 1 159 13 view .LVU51
 299 00a6 0122     		movs	r2, #1
 300 00a8 0421     		movs	r1, #4
 301 00aa 2068     		ldr	r0, [r4]
 302 00ac FFF7FEFF 		bl	DJIMotorChangeFeed
 303              	.LVL18:
 160:application/gimbal/gimbal.c ****             DJIMotorChangeFeed(yaw_motor, SPEED_LOOP, OTHER_FEED);
 304              		.loc 1 160 13 view .LVU52
 305 00b0 0122     		movs	r2, #1
 306 00b2 0221     		movs	r1, #2
 307 00b4 2068     		ldr	r0, [r4]
 308 00b6 FFF7FEFF 		bl	DJIMotorChangeFeed
 309              	.LVL19:
 162:application/gimbal/gimbal.c ****             DJIMotorSetRef(yaw_motor, gimbal_cmd_recv.yaw); // yawÂíåpitch‰ºöÂú®robot_cmd‰∏≠Â§ÑÁêÜÂ
 310              		.loc 1 162 13 view .LVU53
 311 00ba 064D     		ldr	r5, .L10
 312 00bc 95ED000A 		vldr.32	s0, [r5]
 313 00c0 2068     		ldr	r0, [r4]
 314 00c2 FFF7FEFF 		bl	DJIMotorSetRef
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s 			page 10


 315              	.LVL20:
 163:application/gimbal/gimbal.c ****             DMMotorSetPosition(pitch_motor, gimbal_cmd_recv.pitch);  // pitch ‰Ωú‰∏∫‰ΩçÁΩÆÊéßÂà∂
 316              		.loc 1 163 13 view .LVU54
 317 00c6 95ED010A 		vldr.32	s0, [r5, #4]
 318 00ca 064B     		ldr	r3, .L10+16
 319 00cc 1868     		ldr	r0, [r3]
 320 00ce FFF7FEFF 		bl	DMMotorSetPosition
 321              	.LVL21:
 164:application/gimbal/gimbal.c ****             break;
 322              		.loc 1 164 13 view .LVU55
 323 00d2 ACE7     		b	.L8
 324              	.L11:
 325              		.align	2
 326              	.L10:
 327 00d4 00000000 		.word	gimbal_cmd_recv
 328 00d8 00000000 		.word	gimbal_sub
 329 00dc 00000000 		.word	yaw_motor
 330 00e0 00000000 		.word	0
 331 00e4 00000000 		.word	pitch_motor
 332 00e8 00000000 		.word	gimbal_feedback_data
 333 00ec 00000000 		.word	gimba_IMU_data
 334 00f0 00000000 		.word	gimbal_pub
 335              		.cfi_endproc
 336              	.LFE277:
 338              		.section	.bss.gimbal_cmd_recv,"aw",%nobits
 339              		.align	2
 342              	gimbal_cmd_recv:
 343 0000 00000000 		.space	13
 343      00000000 
 343      00000000 
 343      00
 344              		.section	.bss.gimbal_feedback_data,"aw",%nobits
 345              		.align	2
 348              	gimbal_feedback_data:
 349 0000 00000000 		.space	42
 349      00000000 
 349      00000000 
 349      00000000 
 349      00000000 
 350              		.section	.bss.gimbal_sub,"aw",%nobits
 351              		.align	2
 354              	gimbal_sub:
 355 0000 00000000 		.space	4
 356              		.section	.bss.gimbal_pub,"aw",%nobits
 357              		.align	2
 360              	gimbal_pub:
 361 0000 00000000 		.space	4
 362              		.section	.bss.pitch_motor,"aw",%nobits
 363              		.align	2
 366              	pitch_motor:
 367 0000 00000000 		.space	4
 368              		.section	.bss.yaw_motor,"aw",%nobits
 369              		.align	2
 372              	yaw_motor:
 373 0000 00000000 		.space	4
 374              		.section	.bss.gimba_IMU_data,"aw",%nobits
 375              		.align	2
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s 			page 11


 378              	gimba_IMU_data:
 379 0000 00000000 		.space	4
 380              		.text
 381              	.Letext0:
 382              		.file 2 "/opt/ST/STM32CubeCLT_1.19.0/GNU-tools-for-STM32/arm-none-eabi/include/machine/_default_ty
 383              		.file 3 "/opt/ST/STM32CubeCLT_1.19.0/GNU-tools-for-STM32/arm-none-eabi/include/sys/_stdint.h"
 384              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 385              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 386              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 387              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 388              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 389              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_can.h"
 390              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 391              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim.h"
 392              		.file 12 "modules/imu/ins_task.h"
 393              		.file 13 "application/robot_def.h"
 394              		.file 14 "bsp/can/bsp_can.h"
 395              		.file 15 "modules/algorithm/controller.h"
 396              		.file 16 "modules/motor/motor_def.h"
 397              		.file 17 "modules/daemon/daemon.h"
 398              		.file 18 "modules/motor/DJImotor/dji_motor.h"
 399              		.file 19 "modules/motor/DMmotor/dmmotor.h"
 400              		.file 20 "modules/message_center/message_center.h"
 401              		.file 21 "bsp/spi/bsp_spi.h"
 402              		.file 22 "bsp/gpio/bsp_gpio.h"
 403              		.file 23 "bsp/pwm/bsp_pwm.h"
 404              		.file 24 "modules/BMI088/bmi088.h"
 405              		.file 25 "Inc/can.h"
 406              		.file 26 "<built-in>"
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s 			page 12


DEFINED SYMBOLS
                            *ABS*:00000000 gimbal.c
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s:21     .rodata.GimbalInit.str1.4:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s:28     .text.GimbalInit:00000000 $t
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s:34     .text.GimbalInit:00000000 GimbalInit
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s:164    .text.GimbalInit:000000c4 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s:378    .bss.gimba_IMU_data:00000000 gimba_IMU_data
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s:372    .bss.yaw_motor:00000000 yaw_motor
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s:366    .bss.pitch_motor:00000000 pitch_motor
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s:360    .bss.gimbal_pub:00000000 gimbal_pub
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s:354    .bss.gimbal_sub:00000000 gimbal_sub
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s:182    .text.GimbalTask:00000000 $t
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s:188    .text.GimbalTask:00000000 GimbalTask
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s:327    .text.GimbalTask:000000d4 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s:342    .bss.gimbal_cmd_recv:00000000 gimbal_cmd_recv
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s:348    .bss.gimbal_feedback_data:00000000 gimbal_feedback_data
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s:339    .bss.gimbal_cmd_recv:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s:345    .bss.gimbal_feedback_data:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s:351    .bss.gimbal_sub:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s:357    .bss.gimbal_pub:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s:363    .bss.pitch_motor:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s:369    .bss.yaw_motor:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccHW5XVl.s:375    .bss.gimba_IMU_data:00000000 $d

UNDEFINED SYMBOLS
INS_Init
memset
DJIMotorInit
DMMotorInit
DMMotorControlInit
PubRegister
SubRegister
hcan1
SubGetMessage
DJIMotorStop
DMMotorSetCurrent
PubPushMessage
DJIMotorEnable
DJIMotorChangeFeed
DJIMotorSetRef
DMMotorSetPosition
