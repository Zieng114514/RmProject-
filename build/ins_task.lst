ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"ins_task.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "modules/imu/ins_task.c"
  20              		.section	.text.IMUPWMSet,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	IMUPWMSet:
  27              	.LVL0:
  28              	.LFB276:
   1:modules/imu/ins_task.c **** /**
   2:modules/imu/ins_task.c ****  ******************************************************************************
   3:modules/imu/ins_task.c ****  * @file    ins_task.c
   4:modules/imu/ins_task.c ****  * @author  Wang Hongxi
   5:modules/imu/ins_task.c ****  * @author  annotation and modificaiton by neozng
   6:modules/imu/ins_task.c ****  * @version V2.0.0
   7:modules/imu/ins_task.c ****  * @date    2022/2/23
   8:modules/imu/ins_task.c ****  * @brief
   9:modules/imu/ins_task.c ****  ******************************************************************************
  10:modules/imu/ins_task.c ****  * @attention
  11:modules/imu/ins_task.c ****  *
  12:modules/imu/ins_task.c ****  ******************************************************************************
  13:modules/imu/ins_task.c ****  */
  14:modules/imu/ins_task.c **** #include "ins_task.h"
  15:modules/imu/ins_task.c **** #include "controller.h"
  16:modules/imu/ins_task.c **** #include "QuaternionEKF.h"
  17:modules/imu/ins_task.c **** #include "spi.h"
  18:modules/imu/ins_task.c **** #include "tim.h"
  19:modules/imu/ins_task.c **** #include "user_lib.h"
  20:modules/imu/ins_task.c **** #include "general_def.h"
  21:modules/imu/ins_task.c **** #include "master_process.h"
  22:modules/imu/ins_task.c **** 
  23:modules/imu/ins_task.c **** static INS_t INS;
  24:modules/imu/ins_task.c **** static IMU_Param_t IMU_Param;
  25:modules/imu/ins_task.c **** static PIDInstance TempCtrl = {0};
  26:modules/imu/ins_task.c **** 
  27:modules/imu/ins_task.c **** const float xb[3] = {1, 0, 0};
  28:modules/imu/ins_task.c **** const float yb[3] = {0, 1, 0};
  29:modules/imu/ins_task.c **** const float zb[3] = {0, 0, 1};
  30:modules/imu/ins_task.c **** 
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 2


  31:modules/imu/ins_task.c **** // Áî®‰∫éËé∑Âèñ‰∏§Ê¨°ÈááÊ†∑‰πãÈó¥ÁöÑÊó∂Èó¥Èó¥Èöî
  32:modules/imu/ins_task.c **** static uint32_t INS_DWT_Count = 0;
  33:modules/imu/ins_task.c **** static float dt = 0, t = 0;
  34:modules/imu/ins_task.c **** static float RefTemp = 40; // ÊÅíÊ∏©ËÆæÂÆöÊ∏©Â∫¶
  35:modules/imu/ins_task.c **** 
  36:modules/imu/ins_task.c **** static void IMU_Param_Correction(IMU_Param_t *param, float gyro[3], float accel[3]);
  37:modules/imu/ins_task.c **** 
  38:modules/imu/ins_task.c **** static void IMUPWMSet(uint16_t pwm)
  39:modules/imu/ins_task.c **** {
  29              		.loc 1 39 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  40:modules/imu/ins_task.c ****     __HAL_TIM_SetCompare(&htim10, TIM_CHANNEL_1, pwm);
  34              		.loc 1 40 5 view .LVU1
  35 0000 014B     		ldr	r3, .L2
  36 0002 1B68     		ldr	r3, [r3]
  37 0004 5863     		str	r0, [r3, #52]
  41:modules/imu/ins_task.c **** }
  38              		.loc 1 41 1 is_stmt 0 view .LVU2
  39 0006 7047     		bx	lr
  40              	.L3:
  41              		.align	2
  42              	.L2:
  43 0008 00000000 		.word	htim10
  44              		.cfi_endproc
  45              	.LFE276:
  47              		.section	.text.InitQuaternion,"ax",%progbits
  48              		.align	1
  49              		.syntax unified
  50              		.thumb
  51              		.thumb_func
  53              	InitQuaternion:
  54              	.LVL1:
  55              	.LFB278:
  42:modules/imu/ins_task.c **** 
  43:modules/imu/ins_task.c **** /**
  44:modules/imu/ins_task.c ****  * @brief Ê∏©Â∫¶ÊéßÂà∂
  45:modules/imu/ins_task.c ****  *
  46:modules/imu/ins_task.c ****  */
  47:modules/imu/ins_task.c **** static void IMU_Temperature_Ctrl(void)
  48:modules/imu/ins_task.c **** {
  49:modules/imu/ins_task.c ****     PIDCalculate(&TempCtrl, BMI088.Temperature, RefTemp);
  50:modules/imu/ins_task.c ****     IMUPWMSet(float_constrain(float_rounding(TempCtrl.Output), 0, UINT32_MAX));
  51:modules/imu/ins_task.c **** }
  52:modules/imu/ins_task.c **** 
  53:modules/imu/ins_task.c **** // ‰ΩøÁî®Âä†ÈÄüÂ∫¶ËÆ°ÁöÑÊï∞ÊçÆÂàùÂßãÂåñRollÂíåPitch,ËÄåYawÁΩÆ0,ËøôÊ†∑ÂèØ‰ª•ÈÅøÂÖçÂú®ÂàùÂßãÊó∂ÂÄôÁöÑ
  54:modules/imu/ins_task.c **** static void InitQuaternion(float *init_q4)
  55:modules/imu/ins_task.c **** {
  56              		.loc 1 55 1 is_stmt 1 view -0
  57              		.cfi_startproc
  58              		@ args = 0, pretend = 0, frame = 40
  59              		@ frame_needed = 0, uses_anonymous_args = 0
  60              		.loc 1 55 1 is_stmt 0 view .LVU4
  61 0000 70B5     		push	{r4, r5, r6, lr}
  62              	.LCFI0:
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 3


  63              		.cfi_def_cfa_offset 16
  64              		.cfi_offset 4, -16
  65              		.cfi_offset 5, -12
  66              		.cfi_offset 6, -8
  67              		.cfi_offset 14, -4
  68 0002 2DED028B 		vpush.64	{d8}
  69              	.LCFI1:
  70              		.cfi_def_cfa_offset 24
  71              		.cfi_offset 80, -24
  72              		.cfi_offset 81, -20
  73 0006 8AB0     		sub	sp, sp, #40
  74              	.LCFI2:
  75              		.cfi_def_cfa_offset 64
  76 0008 0646     		mov	r6, r0
  56:modules/imu/ins_task.c ****     float acc_init[3] = {0};
  77              		.loc 1 56 5 is_stmt 1 view .LVU5
  78              		.loc 1 56 11 is_stmt 0 view .LVU6
  79 000a 0024     		movs	r4, #0
  80 000c 0794     		str	r4, [sp, #28]
  81 000e 0894     		str	r4, [sp, #32]
  82 0010 0994     		str	r4, [sp, #36]
  57:modules/imu/ins_task.c ****     float gravity_norm[3] = {0, 0, 1}; // ÂØºËà™Á≥ªÈáçÂäõÂä†ÈÄüÂ∫¶Áü¢Èáè,ÂΩí‰∏ÄÂåñÂêé‰∏∫(0,0,1)
  83              		.loc 1 57 5 is_stmt 1 view .LVU7
  84              		.loc 1 57 11 is_stmt 0 view .LVU8
  85 0012 0023     		movs	r3, #0
  86 0014 0493     		str	r3, [sp, #16]	@ float
  87 0016 0593     		str	r3, [sp, #20]	@ float
  88 0018 4FF07E53 		mov	r3, #1065353216
  89 001c 0693     		str	r3, [sp, #24]	@ float
  58:modules/imu/ins_task.c ****     float axis_rot[3] = {0};           // ÊóãËΩ¨ËΩ¥
  90              		.loc 1 58 5 is_stmt 1 view .LVU9
  91              		.loc 1 58 11 is_stmt 0 view .LVU10
  92 001e 0194     		str	r4, [sp, #4]
  93 0020 0294     		str	r4, [sp, #8]
  94 0022 0394     		str	r4, [sp, #12]
  59:modules/imu/ins_task.c ****     // ËØªÂèñ100Ê¨°Âä†ÈÄüÂ∫¶ËÆ°Êï∞ÊçÆ,ÂèñÂπ≥ÂùáÂÄº‰Ωú‰∏∫ÂàùÂßãÂÄº
  60:modules/imu/ins_task.c ****     for (uint8_t i = 0; i < 100; ++i)
  95              		.loc 1 60 5 is_stmt 1 view .LVU11
  96              	.LBB2:
  97              		.loc 1 60 10 view .LVU12
  98              	.LVL2:
  99              		.loc 1 60 5 is_stmt 0 view .LVU13
 100 0024 21E0     		b	.L5
 101              	.LVL3:
 102              	.L6:
  61:modules/imu/ins_task.c ****     {
  62:modules/imu/ins_task.c ****         BMI088_Read(&BMI088);
 103              		.loc 1 62 9 is_stmt 1 view .LVU14
 104 0026 354D     		ldr	r5, .L12
 105 0028 2846     		mov	r0, r5
 106 002a FFF7FEFF 		bl	BMI088_Read
 107              	.LVL4:
  63:modules/imu/ins_task.c ****         acc_init[X] += BMI088.Accel[X];
 108              		.loc 1 63 9 view .LVU15
 109              		.loc 1 63 36 is_stmt 0 view .LVU16
 110 002e 95ED007A 		vldr.32	s14, [r5]
 111              		.loc 1 63 21 view .LVU17
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 4


 112 0032 DDED077A 		vldr.32	s15, [sp, #28]
 113 0036 77EE877A 		vadd.f32	s15, s15, s14
 114 003a CDED077A 		vstr.32	s15, [sp, #28]
  64:modules/imu/ins_task.c ****         acc_init[Y] += BMI088.Accel[Y];
 115              		.loc 1 64 9 is_stmt 1 view .LVU18
 116              		.loc 1 64 36 is_stmt 0 view .LVU19
 117 003e 95ED017A 		vldr.32	s14, [r5, #4]
 118              		.loc 1 64 21 view .LVU20
 119 0042 DDED087A 		vldr.32	s15, [sp, #32]
 120 0046 77EE877A 		vadd.f32	s15, s15, s14
 121 004a CDED087A 		vstr.32	s15, [sp, #32]
  65:modules/imu/ins_task.c ****         acc_init[Z] += BMI088.Accel[Z];
 122              		.loc 1 65 9 is_stmt 1 view .LVU21
 123              		.loc 1 65 36 is_stmt 0 view .LVU22
 124 004e 95ED027A 		vldr.32	s14, [r5, #8]
 125              		.loc 1 65 21 view .LVU23
 126 0052 DDED097A 		vldr.32	s15, [sp, #36]
 127 0056 77EE877A 		vadd.f32	s15, s15, s14
 128 005a CDED097A 		vstr.32	s15, [sp, #36]
  66:modules/imu/ins_task.c ****         DWT_Delay(0.001);
 129              		.loc 1 66 9 is_stmt 1 view .LVU24
 130 005e 9FED280A 		vldr.32	s0, .L12+4
 131 0062 FFF7FEFF 		bl	DWT_Delay
 132              	.LVL5:
  60:modules/imu/ins_task.c ****     {
 133              		.loc 1 60 34 discriminator 3 view .LVU25
 134 0066 0134     		adds	r4, r4, #1
 135              	.LVL6:
  60:modules/imu/ins_task.c ****     {
 136              		.loc 1 60 34 is_stmt 0 discriminator 3 view .LVU26
 137 0068 E4B2     		uxtb	r4, r4
 138              	.LVL7:
 139              	.L5:
  60:modules/imu/ins_task.c ****     {
 140              		.loc 1 60 27 is_stmt 1 discriminator 1 view .LVU27
 141 006a 632C     		cmp	r4, #99
 142 006c DBD9     		bls	.L6
 143              	.LBE2:
 144              	.LBB3:
  67:modules/imu/ins_task.c ****     }
  68:modules/imu/ins_task.c ****     for (uint8_t i = 0; i < 3; ++i)
 145              		.loc 1 68 18 is_stmt 0 view .LVU28
 146 006e 0023     		movs	r3, #0
 147 0070 0CE0     		b	.L7
 148              	.LVL8:
 149              	.L8:
  69:modules/imu/ins_task.c ****         acc_init[i] /= 100;
 150              		.loc 1 69 9 is_stmt 1 view .LVU29
 151              		.loc 1 69 17 is_stmt 0 view .LVU30
 152 0072 0AAA     		add	r2, sp, #40
 153 0074 02EB8302 		add	r2, r2, r3, lsl #2
 154 0078 52ED036A 		vldr.32	s13, [r2, #-12]
 155              		.loc 1 69 21 view .LVU31
 156 007c 9FED217A 		vldr.32	s14, .L12+8
 157 0080 C6EE877A 		vdiv.f32	s15, s13, s14
 158 0084 42ED037A 		vstr.32	s15, [r2, #-12]
  68:modules/imu/ins_task.c ****         acc_init[i] /= 100;
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 5


 159              		.loc 1 68 32 is_stmt 1 discriminator 3 view .LVU32
 160 0088 0133     		adds	r3, r3, #1
 161              	.LVL9:
  68:modules/imu/ins_task.c ****         acc_init[i] /= 100;
 162              		.loc 1 68 32 is_stmt 0 discriminator 3 view .LVU33
 163 008a DBB2     		uxtb	r3, r3
 164              	.LVL10:
 165              	.L7:
  68:modules/imu/ins_task.c ****         acc_init[i] /= 100;
 166              		.loc 1 68 27 is_stmt 1 discriminator 1 view .LVU34
 167 008c 022B     		cmp	r3, #2
 168 008e F0D9     		bls	.L8
 169              	.LBE3:
  70:modules/imu/ins_task.c ****     Norm3d(acc_init);
 170              		.loc 1 70 5 view .LVU35
 171 0090 07A8     		add	r0, sp, #28
 172 0092 FFF7FEFF 		bl	Norm3d
 173              	.LVL11:
  71:modules/imu/ins_task.c ****     // ËÆ°ÁÆóÂéüÂßãÂä†ÈÄüÂ∫¶Áü¢ÈáèÂíåÂØºËà™Á≥ªÈáçÂäõÂä†ÈÄüÂ∫¶Áü¢ÈáèÁöÑÂ§πËßí
  72:modules/imu/ins_task.c ****     float angle = acosf(Dot3d(acc_init, gravity_norm));
 174              		.loc 1 72 5 view .LVU36
 175              		.loc 1 72 19 is_stmt 0 view .LVU37
 176 0096 04A9     		add	r1, sp, #16
 177 0098 07A8     		add	r0, sp, #28
 178 009a FFF7FEFF 		bl	Dot3d
 179              	.LVL12:
 180              		.loc 1 72 19 discriminator 1 view .LVU38
 181 009e FFF7FEFF 		bl	acosf
 182              	.LVL13:
 183 00a2 B0EE408A 		vmov.f32	s16, s0
 184              	.LVL14:
  73:modules/imu/ins_task.c ****     Cross3d(acc_init, gravity_norm, axis_rot);
 185              		.loc 1 73 5 is_stmt 1 view .LVU39
 186 00a6 01AA     		add	r2, sp, #4
 187 00a8 04A9     		add	r1, sp, #16
 188 00aa 07A8     		add	r0, sp, #28
 189 00ac FFF7FEFF 		bl	Cross3d
 190              	.LVL15:
  74:modules/imu/ins_task.c ****     Norm3d(axis_rot);
 191              		.loc 1 74 5 view .LVU40
 192 00b0 01A8     		add	r0, sp, #4
 193 00b2 FFF7FEFF 		bl	Norm3d
 194              	.LVL16:
  75:modules/imu/ins_task.c ****     init_q4[0] = cosf(angle / 2.0f);
 195              		.loc 1 75 5 view .LVU41
 196              		.loc 1 75 18 is_stmt 0 view .LVU42
 197 00b6 F6EE007A 		vmov.f32	s15, #5.0e-1
 198 00ba 28EE278A 		vmul.f32	s16, s16, s15
 199              	.LVL17:
 200              		.loc 1 75 18 view .LVU43
 201 00be B0EE480A 		vmov.f32	s0, s16
 202 00c2 FFF7FEFF 		bl	cosf
 203              	.LVL18:
 204              		.loc 1 75 16 discriminator 1 view .LVU44
 205 00c6 86ED000A 		vstr.32	s0, [r6]
  76:modules/imu/ins_task.c ****     for (uint8_t i = 0; i < 2; ++i)
 206              		.loc 1 76 5 is_stmt 1 view .LVU45
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 6


 207              	.LBB4:
 208              		.loc 1 76 10 view .LVU46
 209              	.LVL19:
 210              		.loc 1 76 18 is_stmt 0 view .LVU47
 211 00ca 0024     		movs	r4, #0
 212              	.LVL20:
 213              		.loc 1 76 5 view .LVU48
 214 00cc 10E0     		b	.L9
 215              	.LVL21:
 216              	.L10:
  77:modules/imu/ins_task.c ****         init_q4[i + 1] = axis_rot[i] * sinf(angle / 2.0f); // ËΩ¥ËßíÂÖ¨Âºè,Á¨¨‰∏âËΩ¥‰∏∫0(Ê≤°ÊúâzËΩ¥
 217              		.loc 1 77 9 is_stmt 1 view .LVU49
 218              		.loc 1 77 34 is_stmt 0 view .LVU50
 219 00ce 0AAB     		add	r3, sp, #40
 220 00d0 03EB8403 		add	r3, r3, r4, lsl #2
 221 00d4 53ED098A 		vldr.32	s17, [r3, #-36]
 222              		.loc 1 77 40 view .LVU51
 223 00d8 B0EE480A 		vmov.f32	s0, s16
 224 00dc FFF7FEFF 		bl	sinf
 225              	.LVL22:
 226              		.loc 1 77 16 discriminator 1 view .LVU52
 227 00e0 0134     		adds	r4, r4, #1
 228              	.LVL23:
 229              		.loc 1 77 16 discriminator 1 view .LVU53
 230 00e2 06EB8403 		add	r3, r6, r4, lsl #2
 231              		.loc 1 77 38 discriminator 1 view .LVU54
 232 00e6 68EE808A 		vmul.f32	s17, s17, s0
 233              		.loc 1 77 24 discriminator 1 view .LVU55
 234 00ea C3ED008A 		vstr.32	s17, [r3]
  76:modules/imu/ins_task.c ****     for (uint8_t i = 0; i < 2; ++i)
 235              		.loc 1 76 32 is_stmt 1 discriminator 3 view .LVU56
 236 00ee E4B2     		uxtb	r4, r4
 237              	.LVL24:
 238              	.L9:
  76:modules/imu/ins_task.c ****     for (uint8_t i = 0; i < 2; ++i)
 239              		.loc 1 76 27 discriminator 1 view .LVU57
 240 00f0 012C     		cmp	r4, #1
 241 00f2 ECD9     		bls	.L10
 242              	.LBE4:
  78:modules/imu/ins_task.c **** }
 243              		.loc 1 78 1 is_stmt 0 view .LVU58
 244 00f4 0AB0     		add	sp, sp, #40
 245              	.LCFI3:
 246              		.cfi_def_cfa_offset 24
 247              		@ sp needed
 248 00f6 BDEC028B 		vldm	sp!, {d8}
 249              	.LCFI4:
 250              		.cfi_restore 80
 251              		.cfi_restore 81
 252              		.cfi_def_cfa_offset 16
 253 00fa 70BD     		pop	{r4, r5, r6, pc}
 254              	.LVL25:
 255              	.L13:
 256              		.loc 1 78 1 view .LVU59
 257              		.align	2
 258              	.L12:
 259 00fc 00000000 		.word	BMI088
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 7


 260 0100 6F12833A 		.word	981668463
 261 0104 0000C842 		.word	1120403456
 262              		.cfi_endproc
 263              	.LFE278:
 265              		.section	.text.IMU_Param_Correction,"ax",%progbits
 266              		.align	1
 267              		.syntax unified
 268              		.thumb
 269              		.thumb_func
 271              	IMU_Param_Correction:
 272              	.LVL26:
 273              	.LFB283:
  79:modules/imu/ins_task.c **** 
  80:modules/imu/ins_task.c **** attitude_t *INS_Init(void)
  81:modules/imu/ins_task.c **** {
  82:modules/imu/ins_task.c ****     if (!INS.init)
  83:modules/imu/ins_task.c ****         INS.init = 1;
  84:modules/imu/ins_task.c ****     else
  85:modules/imu/ins_task.c ****         return (attitude_t *)&INS.Gyro;
  86:modules/imu/ins_task.c **** 
  87:modules/imu/ins_task.c ****     HAL_TIM_PWM_Start(&htim10, TIM_CHANNEL_1);
  88:modules/imu/ins_task.c **** 
  89:modules/imu/ins_task.c ****     while (BMI088Init(&hspi1, 1) != BMI088_NO_ERROR)
  90:modules/imu/ins_task.c ****         ;
  91:modules/imu/ins_task.c ****     IMU_Param.scale[X] = 1;
  92:modules/imu/ins_task.c ****     IMU_Param.scale[Y] = 1;
  93:modules/imu/ins_task.c ****     IMU_Param.scale[Z] = 1;
  94:modules/imu/ins_task.c ****     IMU_Param.Yaw = 0;
  95:modules/imu/ins_task.c ****     IMU_Param.Pitch = 0;
  96:modules/imu/ins_task.c ****     IMU_Param.Roll = 0;
  97:modules/imu/ins_task.c ****     IMU_Param.flag = 1;
  98:modules/imu/ins_task.c **** 
  99:modules/imu/ins_task.c ****     float init_quaternion[4] = {0};
 100:modules/imu/ins_task.c ****     InitQuaternion(init_quaternion);
 101:modules/imu/ins_task.c ****     IMU_QuaternionEKF_Init(init_quaternion, 10, 0.001, 1000000, 1, 0);
 102:modules/imu/ins_task.c ****     // imu heat init
 103:modules/imu/ins_task.c ****     PID_Init_Config_s config = {.MaxOut = 2000,
 104:modules/imu/ins_task.c ****                                 .IntegralLimit = 300,
 105:modules/imu/ins_task.c ****                                 .DeadBand = 0,
 106:modules/imu/ins_task.c ****                                 .Kp = 1000,
 107:modules/imu/ins_task.c ****                                 .Ki = 20,
 108:modules/imu/ins_task.c ****                                 .Kd = 0,
 109:modules/imu/ins_task.c ****                                 .Improve = 0x01}; // enable integratiaon limit
 110:modules/imu/ins_task.c ****     PIDInit(&TempCtrl, &config);
 111:modules/imu/ins_task.c **** 
 112:modules/imu/ins_task.c ****     // noise of accel is relatively big and of high freq,thus lpf is used
 113:modules/imu/ins_task.c ****     INS.AccelLPF = 0.0085;
 114:modules/imu/ins_task.c ****     DWT_GetDeltaT(&INS_DWT_Count);
 115:modules/imu/ins_task.c ****     return (attitude_t *)&INS.Gyro; // @todo: ËøôÈáåÂÅ∑Êáí‰∫Ü,‰∏çË¶ÅËøôÊ†∑ÂÅö! ‰øÆÊîπINT_tÁªìÊûÑ‰Ωì
 116:modules/imu/ins_task.c **** }
 117:modules/imu/ins_task.c **** 
 118:modules/imu/ins_task.c **** /* Ê≥®ÊÑè‰ª•1kHzÁöÑÈ¢ëÁéáËøêË°åÊ≠§‰ªªÂä° */
 119:modules/imu/ins_task.c **** void INS_Task(void)
 120:modules/imu/ins_task.c **** {
 121:modules/imu/ins_task.c ****     static uint32_t count = 0;
 122:modules/imu/ins_task.c ****     const float gravity[3] = {0, 0, 9.81f};
 123:modules/imu/ins_task.c **** 
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 8


 124:modules/imu/ins_task.c ****     dt = DWT_GetDeltaT(&INS_DWT_Count);
 125:modules/imu/ins_task.c ****     t += dt;
 126:modules/imu/ins_task.c **** 
 127:modules/imu/ins_task.c ****     // ins update
 128:modules/imu/ins_task.c ****     if ((count % 1) == 0)
 129:modules/imu/ins_task.c ****     {
 130:modules/imu/ins_task.c ****         BMI088_Read(&BMI088);
 131:modules/imu/ins_task.c **** 
 132:modules/imu/ins_task.c ****         INS.Accel[X] = BMI088.Accel[X];
 133:modules/imu/ins_task.c ****         INS.Accel[Y] = BMI088.Accel[Y];
 134:modules/imu/ins_task.c ****         INS.Accel[Z] = BMI088.Accel[Z];
 135:modules/imu/ins_task.c ****         INS.Gyro[X] = BMI088.Gyro[X];
 136:modules/imu/ins_task.c ****         INS.Gyro[Y] = BMI088.Gyro[Y];
 137:modules/imu/ins_task.c ****         INS.Gyro[Z] = BMI088.Gyro[Z];
 138:modules/imu/ins_task.c **** 
 139:modules/imu/ins_task.c ****         // demo function,Áî®‰∫é‰øÆÊ≠£ÂÆâË£ÖËØØÂ∑Æ,ÂèØ‰ª•‰∏çÁÆ°,Êú¨demoÊöÇÊó∂Ê≤°Áî®
 140:modules/imu/ins_task.c ****         IMU_Param_Correction(&IMU_Param, INS.Gyro, INS.Accel);
 141:modules/imu/ins_task.c **** 
 142:modules/imu/ins_task.c ****         // ËÆ°ÁÆóÈáçÂäõÂä†ÈÄüÂ∫¶Áü¢ÈáèÂíåbÁ≥ªÁöÑXY‰∏§ËΩ¥ÁöÑÂ§πËßí,ÂèØÁî®‰ΩúÂäüËÉΩÊâ©Â±ï,Êú¨demoÊöÇÊ
 143:modules/imu/ins_task.c ****         // INS.atanxz = -atan2f(INS.Accel[X], INS.Accel[Z]) * 180 / PI;
 144:modules/imu/ins_task.c ****         // INS.atanyz = atan2f(INS.Accel[Y], INS.Accel[Z]) * 180 / PI;
 145:modules/imu/ins_task.c **** 
 146:modules/imu/ins_task.c ****         // Ê†∏ÂøÉÂáΩÊï∞,EKFÊõ¥Êñ∞ÂõõÂÖÉÊï∞
 147:modules/imu/ins_task.c ****         IMU_QuaternionEKF_Update(INS.Gyro[X], INS.Gyro[Y], INS.Gyro[Z], INS.Accel[X], INS.Accel[Y],
 148:modules/imu/ins_task.c **** 
 149:modules/imu/ins_task.c ****         memcpy(INS.q, QEKF_INS.q, sizeof(QEKF_INS.q));
 150:modules/imu/ins_task.c **** 
 151:modules/imu/ins_task.c ****         // Êú∫‰ΩìÁ≥ªÂü∫ÂêëÈáèËΩ¨Êç¢Âà∞ÂØºËà™ÂùêÊ†áÁ≥ªÔºåÊú¨‰æãÈÄâÂèñÊÉØÊÄßÁ≥ª‰∏∫ÂØºËà™Á≥ª
 152:modules/imu/ins_task.c ****         BodyFrameToEarthFrame(xb, INS.xn, INS.q);
 153:modules/imu/ins_task.c ****         BodyFrameToEarthFrame(yb, INS.yn, INS.q);
 154:modules/imu/ins_task.c ****         BodyFrameToEarthFrame(zb, INS.zn, INS.q);
 155:modules/imu/ins_task.c **** 
 156:modules/imu/ins_task.c ****         // Â∞ÜÈáçÂäõ‰ªéÂØºËà™ÂùêÊ†áÁ≥ªnËΩ¨Êç¢Âà∞Êú∫‰ΩìÁ≥ªb,ÈöèÂêéÊ†πÊçÆÂä†ÈÄüÂ∫¶ËÆ°Êï∞ÊçÆËÆ°ÁÆóËøêÂ
 157:modules/imu/ins_task.c ****         float gravity_b[3];
 158:modules/imu/ins_task.c ****         EarthFrameToBodyFrame(gravity, gravity_b, INS.q);
 159:modules/imu/ins_task.c ****         for (uint8_t i = 0; i < 3; ++i) // ÂêåÊ†∑Ëøá‰∏Ä‰∏™‰ΩéÈÄöÊª§Ê≥¢
 160:modules/imu/ins_task.c ****         {
 161:modules/imu/ins_task.c ****             INS.MotionAccel_b[i] = (INS.Accel[i] - gravity_b[i]) * dt / (INS.AccelLPF + dt) + INS.M
 162:modules/imu/ins_task.c ****         }
 163:modules/imu/ins_task.c ****         BodyFrameToEarthFrame(INS.MotionAccel_b, INS.MotionAccel_n, INS.q); // ËΩ¨Êç¢ÂõûÂØºËà™Á≥ªn
 164:modules/imu/ins_task.c **** 
 165:modules/imu/ins_task.c ****         INS.Yaw = QEKF_INS.Yaw;
 166:modules/imu/ins_task.c ****         INS.Pitch = QEKF_INS.Pitch;
 167:modules/imu/ins_task.c ****         INS.Roll = QEKF_INS.Roll;
 168:modules/imu/ins_task.c ****         INS.YawTotalAngle = QEKF_INS.YawTotalAngle;
 169:modules/imu/ins_task.c **** 
 170:modules/imu/ins_task.c ****         VisionSetAltitude(INS.Yaw, INS.Pitch, INS.Roll);
 171:modules/imu/ins_task.c ****     }
 172:modules/imu/ins_task.c **** 
 173:modules/imu/ins_task.c ****     // temperature control
 174:modules/imu/ins_task.c ****     if ((count % 2) == 0)
 175:modules/imu/ins_task.c ****     {
 176:modules/imu/ins_task.c ****         // 500hz
 177:modules/imu/ins_task.c ****         IMU_Temperature_Ctrl();
 178:modules/imu/ins_task.c ****     }
 179:modules/imu/ins_task.c **** 
 180:modules/imu/ins_task.c ****     if ((count++ % 1000) == 0)
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 9


 181:modules/imu/ins_task.c ****     {
 182:modules/imu/ins_task.c ****         // 1Hz ÂèØ‰ª•Âä†ÂÖ•monitorÂáΩÊï∞,Ê£ÄÊü•IMUÊòØÂê¶Ê≠£Â∏∏ËøêË°å/Á¶ªÁ∫ø
 183:modules/imu/ins_task.c ****     }
 184:modules/imu/ins_task.c **** }
 185:modules/imu/ins_task.c **** 
 186:modules/imu/ins_task.c **** /**
 187:modules/imu/ins_task.c ****  * @brief          Transform 3dvector from BodyFrame to EarthFrame
 188:modules/imu/ins_task.c ****  * @param[1]       vector in BodyFrame
 189:modules/imu/ins_task.c ****  * @param[2]       vector in EarthFrame
 190:modules/imu/ins_task.c ****  * @param[3]       quaternion
 191:modules/imu/ins_task.c ****  */
 192:modules/imu/ins_task.c **** void BodyFrameToEarthFrame(const float *vecBF, float *vecEF, float *q)
 193:modules/imu/ins_task.c **** {
 194:modules/imu/ins_task.c ****     vecEF[0] = 2.0f * ((0.5f - q[2] * q[2] - q[3] * q[3]) * vecBF[0] +
 195:modules/imu/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 196:modules/imu/ins_task.c ****                        (q[1] * q[3] + q[0] * q[2]) * vecBF[2]);
 197:modules/imu/ins_task.c **** 
 198:modules/imu/ins_task.c ****     vecEF[1] = 2.0f * ((q[1] * q[2] + q[0] * q[3]) * vecBF[0] +
 199:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 200:modules/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecBF[2]);
 201:modules/imu/ins_task.c **** 
 202:modules/imu/ins_task.c ****     vecEF[2] = 2.0f * ((q[1] * q[3] - q[0] * q[2]) * vecBF[0] +
 203:modules/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 204:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecBF[2]);
 205:modules/imu/ins_task.c **** }
 206:modules/imu/ins_task.c **** 
 207:modules/imu/ins_task.c **** /**
 208:modules/imu/ins_task.c ****  * @brief          Transform 3dvector from EarthFrame to BodyFrame
 209:modules/imu/ins_task.c ****  * @param[1]       vector in EarthFrame
 210:modules/imu/ins_task.c ****  * @param[2]       vector in BodyFrame
 211:modules/imu/ins_task.c ****  * @param[3]       quaternion
 212:modules/imu/ins_task.c ****  */
 213:modules/imu/ins_task.c **** void EarthFrameToBodyFrame(const float *vecEF, float *vecBF, float *q)
 214:modules/imu/ins_task.c **** {
 215:modules/imu/ins_task.c ****     vecBF[0] = 2.0f * ((0.5f - q[2] * q[2] - q[3] * q[3]) * vecEF[0] +
 216:modules/imu/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 217:modules/imu/ins_task.c ****                        (q[1] * q[3] - q[0] * q[2]) * vecEF[2]);
 218:modules/imu/ins_task.c **** 
 219:modules/imu/ins_task.c ****     vecBF[1] = 2.0f * ((q[1] * q[2] - q[0] * q[3]) * vecEF[0] +
 220:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 221:modules/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecEF[2]);
 222:modules/imu/ins_task.c **** 
 223:modules/imu/ins_task.c ****     vecBF[2] = 2.0f * ((q[1] * q[3] + q[0] * q[2]) * vecEF[0] +
 224:modules/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 225:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecEF[2]);
 226:modules/imu/ins_task.c **** }
 227:modules/imu/ins_task.c **** 
 228:modules/imu/ins_task.c **** /**
 229:modules/imu/ins_task.c ****  * @brief reserved.Áî®‰∫é‰øÆÊ≠£IMUÂÆâË£ÖËØØÂ∑Æ‰∏éÊ†áÂ∫¶Âõ†Êï∞ËØØÂ∑Æ,Âç≥ÈôÄËû∫‰ª™ËΩ¥Âíå‰∫ëÂè∞ËΩ¥ÁöÑÂ
 230:modules/imu/ins_task.c ****  *
 231:modules/imu/ins_task.c ****  *
 232:modules/imu/ins_task.c ****  * @param param IMUÂèÇÊï∞
 233:modules/imu/ins_task.c ****  * @param gyro  ËßíÈÄüÂ∫¶
 234:modules/imu/ins_task.c ****  * @param accel Âä†ÈÄüÂ∫¶
 235:modules/imu/ins_task.c ****  */
 236:modules/imu/ins_task.c **** static void IMU_Param_Correction(IMU_Param_t *param, float gyro[3], float accel[3])
 237:modules/imu/ins_task.c **** {
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 10


 274              		.loc 1 237 1 is_stmt 1 view -0
 275              		.cfi_startproc
 276              		@ args = 0, pretend = 0, frame = 24
 277              		@ frame_needed = 0, uses_anonymous_args = 0
 278              		.loc 1 237 1 is_stmt 0 view .LVU61
 279 0000 70B5     		push	{r4, r5, r6, lr}
 280              	.LCFI5:
 281              		.cfi_def_cfa_offset 16
 282              		.cfi_offset 4, -16
 283              		.cfi_offset 5, -12
 284              		.cfi_offset 6, -8
 285              		.cfi_offset 14, -4
 286 0002 2DED068B 		vpush.64	{d8, d9, d10}
 287              	.LCFI6:
 288              		.cfi_def_cfa_offset 40
 289              		.cfi_offset 80, -40
 290              		.cfi_offset 81, -36
 291              		.cfi_offset 82, -32
 292              		.cfi_offset 83, -28
 293              		.cfi_offset 84, -24
 294              		.cfi_offset 85, -20
 295 0006 86B0     		sub	sp, sp, #24
 296              	.LCFI7:
 297              		.cfi_def_cfa_offset 64
 298 0008 0446     		mov	r4, r0
 299 000a 0D46     		mov	r5, r1
 300 000c 1646     		mov	r6, r2
 238:modules/imu/ins_task.c ****     static float lastYawOffset, lastPitchOffset, lastRollOffset;
 301              		.loc 1 238 5 is_stmt 1 view .LVU62
 239:modules/imu/ins_task.c ****     static float c_11, c_12, c_13, c_21, c_22, c_23, c_31, c_32, c_33;
 302              		.loc 1 239 5 view .LVU63
 240:modules/imu/ins_task.c ****     float cosPitch, cosYaw, cosRoll, sinPitch, sinYaw, sinRoll;
 303              		.loc 1 240 5 view .LVU64
 241:modules/imu/ins_task.c **** 
 242:modules/imu/ins_task.c ****     if (fabsf(param->Yaw - lastYawOffset) > 0.001f ||
 304              		.loc 1 242 5 view .LVU65
 305              		.loc 1 242 20 is_stmt 0 view .LVU66
 306 000e 90ED040A 		vldr.32	s0, [r0, #16]
 307              		.loc 1 242 26 view .LVU67
 308 0012 9F4B     		ldr	r3, .L22
 309 0014 D3ED007A 		vldr.32	s15, [r3]
 310 0018 70EE677A 		vsub.f32	s15, s0, s15
 311              		.loc 1 242 9 view .LVU68
 312 001c F0EEE77A 		vabs.f32	s15, s15
 313              		.loc 1 242 8 view .LVU69
 314 0020 9FED9C7A 		vldr.32	s14, .L22+4
 315 0024 F4EEC77A 		vcmpe.f32	s15, s14
 316 0028 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 317 002c 22DC     		bgt	.L15
 243:modules/imu/ins_task.c ****         fabsf(param->Pitch - lastPitchOffset) > 0.001f ||
 318              		.loc 1 243 20 view .LVU70
 319 002e D0ED057A 		vldr.32	s15, [r0, #20]
 320              		.loc 1 243 28 view .LVU71
 321 0032 994B     		ldr	r3, .L22+8
 322 0034 93ED007A 		vldr.32	s14, [r3]
 323 0038 77EEC77A 		vsub.f32	s15, s15, s14
 324              		.loc 1 243 9 view .LVU72
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 11


 325 003c F0EEE77A 		vabs.f32	s15, s15
 242:modules/imu/ins_task.c ****         fabsf(param->Pitch - lastPitchOffset) > 0.001f ||
 326              		.loc 1 242 52 discriminator 1 view .LVU73
 327 0040 9FED947A 		vldr.32	s14, .L22+4
 328 0044 F4EEC77A 		vcmpe.f32	s15, s14
 329 0048 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 330 004c 12DC     		bgt	.L15
 244:modules/imu/ins_task.c ****         fabsf(param->Roll - lastRollOffset) > 0.001f || param->flag)
 331              		.loc 1 244 20 view .LVU74
 332 004e D0ED067A 		vldr.32	s15, [r0, #24]
 333              		.loc 1 244 27 view .LVU75
 334 0052 924B     		ldr	r3, .L22+12
 335 0054 93ED007A 		vldr.32	s14, [r3]
 336 0058 77EEC77A 		vsub.f32	s15, s15, s14
 337              		.loc 1 244 9 view .LVU76
 338 005c F0EEE77A 		vabs.f32	s15, s15
 243:modules/imu/ins_task.c ****         fabsf(param->Pitch - lastPitchOffset) > 0.001f ||
 339              		.loc 1 243 56 view .LVU77
 340 0060 9FED8C7A 		vldr.32	s14, .L22+4
 341 0064 F4EEC77A 		vcmpe.f32	s15, s14
 342 0068 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 343 006c 02DC     		bgt	.L15
 344              		.loc 1 244 62 view .LVU78
 345 006e 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 346              		.loc 1 244 54 view .LVU79
 347 0070 002B     		cmp	r3, #0
 348 0072 6ED0     		beq	.L16
 349              	.L15:
 245:modules/imu/ins_task.c ****     {
 246:modules/imu/ins_task.c ****         cosYaw = arm_cos_f32(param->Yaw / 57.295779513f);
 350              		.loc 1 246 9 is_stmt 1 view .LVU80
 351              		.loc 1 246 18 is_stmt 0 view .LVU81
 352 0074 9FED8AAA 		vldr.32	s20, .L22+16
 353 0078 80EE0A0A 		vdiv.f32	s0, s0, s20
 354 007c FFF7FEFF 		bl	arm_cos_f32
 355              	.LVL27:
 356              		.loc 1 246 18 view .LVU82
 357 0080 B0EE409A 		vmov.f32	s18, s0
 358              	.LVL28:
 247:modules/imu/ins_task.c ****         cosPitch = arm_cos_f32(param->Pitch / 57.295779513f);
 359              		.loc 1 247 9 is_stmt 1 view .LVU83
 360              		.loc 1 247 37 is_stmt 0 view .LVU84
 361 0084 94ED050A 		vldr.32	s0, [r4, #20]
 362              	.LVL29:
 363              		.loc 1 247 20 view .LVU85
 364 0088 80EE0A0A 		vdiv.f32	s0, s0, s20
 365 008c FFF7FEFF 		bl	arm_cos_f32
 366              	.LVL30:
 367 0090 F0EE408A 		vmov.f32	s17, s0
 368              	.LVL31:
 248:modules/imu/ins_task.c ****         cosRoll = arm_cos_f32(param->Roll / 57.295779513f);
 369              		.loc 1 248 9 is_stmt 1 view .LVU86
 370              		.loc 1 248 36 is_stmt 0 view .LVU87
 371 0094 94ED060A 		vldr.32	s0, [r4, #24]
 372              	.LVL32:
 373              		.loc 1 248 19 view .LVU88
 374 0098 80EE0A0A 		vdiv.f32	s0, s0, s20
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 12


 375 009c FFF7FEFF 		bl	arm_cos_f32
 376              	.LVL33:
 377 00a0 F0EE40AA 		vmov.f32	s21, s0
 378              	.LVL34:
 249:modules/imu/ins_task.c ****         sinYaw = arm_sin_f32(param->Yaw / 57.295779513f);
 379              		.loc 1 249 9 is_stmt 1 view .LVU89
 380              		.loc 1 249 35 is_stmt 0 view .LVU90
 381 00a4 94ED040A 		vldr.32	s0, [r4, #16]
 382              	.LVL35:
 383              		.loc 1 249 18 view .LVU91
 384 00a8 80EE0A0A 		vdiv.f32	s0, s0, s20
 385 00ac FFF7FEFF 		bl	arm_sin_f32
 386              	.LVL36:
 387 00b0 B0EE408A 		vmov.f32	s16, s0
 388              	.LVL37:
 250:modules/imu/ins_task.c ****         sinPitch = arm_sin_f32(param->Pitch / 57.295779513f);
 389              		.loc 1 250 9 is_stmt 1 view .LVU92
 390              		.loc 1 250 37 is_stmt 0 view .LVU93
 391 00b4 94ED050A 		vldr.32	s0, [r4, #20]
 392              	.LVL38:
 393              		.loc 1 250 20 view .LVU94
 394 00b8 80EE0A0A 		vdiv.f32	s0, s0, s20
 395 00bc FFF7FEFF 		bl	arm_sin_f32
 396              	.LVL39:
 397 00c0 F0EE409A 		vmov.f32	s19, s0
 398              	.LVL40:
 251:modules/imu/ins_task.c ****         sinRoll = arm_sin_f32(param->Roll / 57.295779513f);
 399              		.loc 1 251 9 is_stmt 1 view .LVU95
 400              		.loc 1 251 36 is_stmt 0 view .LVU96
 401 00c4 94ED060A 		vldr.32	s0, [r4, #24]
 402              	.LVL41:
 403              		.loc 1 251 19 view .LVU97
 404 00c8 80EE0A0A 		vdiv.f32	s0, s0, s20
 405 00cc FFF7FEFF 		bl	arm_sin_f32
 406              	.LVL42:
 252:modules/imu/ins_task.c **** 
 253:modules/imu/ins_task.c ****         // 1.yaw(alpha) 2.pitch(beta) 3.roll(gamma)
 254:modules/imu/ins_task.c ****         c_11 = cosYaw * cosRoll + sinYaw * sinPitch * sinRoll;
 407              		.loc 1 254 9 is_stmt 1 view .LVU98
 408              		.loc 1 254 23 is_stmt 0 view .LVU99
 409 00d0 69EE2A6A 		vmul.f32	s13, s18, s21
 410              		.loc 1 254 42 view .LVU100
 411 00d4 28EE297A 		vmul.f32	s14, s16, s19
 412              		.loc 1 254 53 view .LVU101
 413 00d8 27EE007A 		vmul.f32	s14, s14, s0
 414              		.loc 1 254 33 view .LVU102
 415 00dc 36EE877A 		vadd.f32	s14, s13, s14
 416              		.loc 1 254 14 view .LVU103
 417 00e0 704B     		ldr	r3, .L22+20
 418 00e2 83ED007A 		vstr.32	s14, [r3]
 255:modules/imu/ins_task.c ****         c_12 = cosPitch * sinYaw;
 419              		.loc 1 255 9 is_stmt 1 view .LVU104
 420              		.loc 1 255 25 is_stmt 0 view .LVU105
 421 00e6 28EE887A 		vmul.f32	s14, s17, s16
 422              		.loc 1 255 14 view .LVU106
 423 00ea 6F4B     		ldr	r3, .L22+24
 424 00ec 83ED007A 		vstr.32	s14, [r3]
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 13


 256:modules/imu/ins_task.c ****         c_13 = cosYaw * sinRoll - cosRoll * sinYaw * sinPitch;
 425              		.loc 1 256 9 is_stmt 1 view .LVU107
 426              		.loc 1 256 23 is_stmt 0 view .LVU108
 427 00f0 29EE007A 		vmul.f32	s14, s18, s0
 428              		.loc 1 256 43 view .LVU109
 429 00f4 2AEE886A 		vmul.f32	s12, s21, s16
 430              		.loc 1 256 52 view .LVU110
 431 00f8 66EE295A 		vmul.f32	s11, s12, s19
 432              		.loc 1 256 33 view .LVU111
 433 00fc 37EE657A 		vsub.f32	s14, s14, s11
 434              		.loc 1 256 14 view .LVU112
 435 0100 6A4B     		ldr	r3, .L22+28
 436 0102 83ED007A 		vstr.32	s14, [r3]
 257:modules/imu/ins_task.c ****         c_21 = cosYaw * sinPitch * sinRoll - cosRoll * sinYaw;
 437              		.loc 1 257 9 is_stmt 1 view .LVU113
 438              		.loc 1 257 23 is_stmt 0 view .LVU114
 439 0106 29EE297A 		vmul.f32	s14, s18, s19
 440              		.loc 1 257 34 view .LVU115
 441 010a 27EE007A 		vmul.f32	s14, s14, s0
 442              		.loc 1 257 44 view .LVU116
 443 010e 37EE467A 		vsub.f32	s14, s14, s12
 444              		.loc 1 257 14 view .LVU117
 445 0112 674B     		ldr	r3, .L22+32
 446 0114 83ED007A 		vstr.32	s14, [r3]
 258:modules/imu/ins_task.c ****         c_22 = cosYaw * cosPitch;
 447              		.loc 1 258 9 is_stmt 1 view .LVU118
 448              		.loc 1 258 23 is_stmt 0 view .LVU119
 449 0118 29EE289A 		vmul.f32	s18, s18, s17
 450              	.LVL43:
 451              		.loc 1 258 14 view .LVU120
 452 011c 654B     		ldr	r3, .L22+36
 453 011e 83ED009A 		vstr.32	s18, [r3]
 259:modules/imu/ins_task.c ****         c_23 = -sinYaw * sinRoll - cosYaw * cosRoll * sinPitch;
 454              		.loc 1 259 9 is_stmt 1 view .LVU121
 455              		.loc 1 259 24 is_stmt 0 view .LVU122
 456 0122 28EE408A 		vnmul.f32	s16, s16, s0
 457              	.LVL44:
 458              		.loc 1 259 53 view .LVU123
 459 0126 66EEA96A 		vmul.f32	s13, s13, s19
 460              		.loc 1 259 34 view .LVU124
 461 012a 38EE668A 		vsub.f32	s16, s16, s13
 462              		.loc 1 259 14 view .LVU125
 463 012e 624B     		ldr	r3, .L22+40
 464 0130 83ED008A 		vstr.32	s16, [r3]
 260:modules/imu/ins_task.c ****         c_31 = -cosPitch * sinRoll;
 465              		.loc 1 260 9 is_stmt 1 view .LVU126
 466              		.loc 1 260 26 is_stmt 0 view .LVU127
 467 0134 68EEC07A 		vnmul.f32	s15, s17, s0
 468              		.loc 1 260 14 view .LVU128
 469 0138 604B     		ldr	r3, .L22+44
 470 013a C3ED007A 		vstr.32	s15, [r3]
 261:modules/imu/ins_task.c ****         c_32 = sinPitch;
 471              		.loc 1 261 9 is_stmt 1 view .LVU129
 472              		.loc 1 261 14 is_stmt 0 view .LVU130
 473 013e 604B     		ldr	r3, .L22+48
 474 0140 C3ED009A 		vstr.32	s19, [r3]
 262:modules/imu/ins_task.c ****         c_33 = cosPitch * cosRoll;
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 14


 475              		.loc 1 262 9 is_stmt 1 view .LVU131
 476              		.loc 1 262 25 is_stmt 0 view .LVU132
 477 0144 68EEAA8A 		vmul.f32	s17, s17, s21
 478              	.LVL45:
 479              		.loc 1 262 14 view .LVU133
 480 0148 5E4B     		ldr	r3, .L22+52
 481 014a C3ED008A 		vstr.32	s17, [r3]
 263:modules/imu/ins_task.c ****         param->flag = 0;
 482              		.loc 1 263 9 is_stmt 1 view .LVU134
 483              		.loc 1 263 21 is_stmt 0 view .LVU135
 484 014e 0023     		movs	r3, #0
 485 0150 2370     		strb	r3, [r4]
 486              	.LVL46:
 487              	.L16:
 237:modules/imu/ins_task.c ****     static float lastYawOffset, lastPitchOffset, lastRollOffset;
 488              		.loc 1 237 1 view .LVU136
 489 0152 0023     		movs	r3, #0
 490 0154 10E0     		b	.L17
 491              	.LVL47:
 492              	.L18:
 493              	.LBB5:
 264:modules/imu/ins_task.c ****     }
 265:modules/imu/ins_task.c ****     float gyro_temp[3];
 266:modules/imu/ins_task.c ****     for (uint8_t i = 0; i < 3; ++i)
 267:modules/imu/ins_task.c ****         gyro_temp[i] = gyro[i] * param->scale[i];
 494              		.loc 1 267 9 is_stmt 1 view .LVU137
 495              		.loc 1 267 28 is_stmt 0 view .LVU138
 496 0156 05EB8302 		add	r2, r5, r3, lsl #2
 497 015a D2ED007A 		vldr.32	s15, [r2]
 498              		.loc 1 267 46 view .LVU139
 499 015e 04EB8302 		add	r2, r4, r3, lsl #2
 500 0162 92ED017A 		vldr.32	s14, [r2, #4]
 501              		.loc 1 267 32 view .LVU140
 502 0166 67EE877A 		vmul.f32	s15, s15, s14
 503              		.loc 1 267 22 view .LVU141
 504 016a 06AA     		add	r2, sp, #24
 505 016c 02EB8302 		add	r2, r2, r3, lsl #2
 506 0170 42ED037A 		vstr.32	s15, [r2, #-12]
 266:modules/imu/ins_task.c ****         gyro_temp[i] = gyro[i] * param->scale[i];
 507              		.loc 1 266 32 is_stmt 1 discriminator 3 view .LVU142
 508 0174 0133     		adds	r3, r3, #1
 509              	.LVL48:
 266:modules/imu/ins_task.c ****         gyro_temp[i] = gyro[i] * param->scale[i];
 510              		.loc 1 266 32 is_stmt 0 discriminator 3 view .LVU143
 511 0176 DBB2     		uxtb	r3, r3
 512              	.LVL49:
 513              	.L17:
 266:modules/imu/ins_task.c ****         gyro_temp[i] = gyro[i] * param->scale[i];
 514              		.loc 1 266 27 is_stmt 1 discriminator 1 view .LVU144
 515 0178 022B     		cmp	r3, #2
 516 017a ECD9     		bls	.L18
 517              	.LBE5:
 268:modules/imu/ins_task.c **** 
 269:modules/imu/ins_task.c ****     gyro[X] = c_11 * gyro_temp[X] +
 518              		.loc 1 269 5 view .LVU145
 519              		.loc 1 269 31 is_stmt 0 view .LVU146
 520 017c DDED037A 		vldr.32	s15, [sp, #12]
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 15


 521              		.loc 1 269 20 view .LVU147
 522 0180 484B     		ldr	r3, .L22+20
 523              	.LVL50:
 524              		.loc 1 269 20 view .LVU148
 525 0182 93ED006A 		vldr.32	s12, [r3]
 526 0186 27EE867A 		vmul.f32	s14, s15, s12
 270:modules/imu/ins_task.c ****               c_12 * gyro_temp[Y] +
 527              		.loc 1 270 31 view .LVU149
 528 018a 9DED045A 		vldr.32	s10, [sp, #16]
 529              		.loc 1 270 20 view .LVU150
 530 018e 464B     		ldr	r3, .L22+24
 531 0190 D3ED002A 		vldr.32	s5, [r3]
 532 0194 65EE226A 		vmul.f32	s13, s10, s5
 269:modules/imu/ins_task.c ****               c_12 * gyro_temp[Y] +
 533              		.loc 1 269 35 view .LVU151
 534 0198 37EE267A 		vadd.f32	s14, s14, s13
 271:modules/imu/ins_task.c ****               c_13 * gyro_temp[Z];
 535              		.loc 1 271 31 view .LVU152
 536 019c DDED055A 		vldr.32	s11, [sp, #20]
 537              		.loc 1 271 20 view .LVU153
 538 01a0 424B     		ldr	r3, .L22+28
 539 01a2 93ED003A 		vldr.32	s6, [r3]
 540 01a6 65EE836A 		vmul.f32	s13, s11, s6
 270:modules/imu/ins_task.c ****               c_12 * gyro_temp[Y] +
 541              		.loc 1 270 35 view .LVU154
 542 01aa 37EE267A 		vadd.f32	s14, s14, s13
 269:modules/imu/ins_task.c ****               c_12 * gyro_temp[Y] +
 543              		.loc 1 269 13 view .LVU155
 544 01ae 85ED007A 		vstr.32	s14, [r5]
 272:modules/imu/ins_task.c ****     gyro[Y] = c_21 * gyro_temp[X] +
 545              		.loc 1 272 5 is_stmt 1 view .LVU156
 546              		.loc 1 272 20 is_stmt 0 view .LVU157
 547 01b2 3F4B     		ldr	r3, .L22+32
 548 01b4 D3ED006A 		vldr.32	s13, [r3]
 549 01b8 27EEA67A 		vmul.f32	s14, s15, s13
 273:modules/imu/ins_task.c ****               c_22 * gyro_temp[Y] +
 550              		.loc 1 273 20 view .LVU158
 551 01bc 3D4B     		ldr	r3, .L22+36
 552 01be D3ED003A 		vldr.32	s7, [r3]
 553 01c2 65EE234A 		vmul.f32	s9, s10, s7
 272:modules/imu/ins_task.c ****     gyro[Y] = c_21 * gyro_temp[X] +
 554              		.loc 1 272 35 view .LVU159
 555 01c6 37EE247A 		vadd.f32	s14, s14, s9
 274:modules/imu/ins_task.c ****               c_23 * gyro_temp[Z];
 556              		.loc 1 274 20 view .LVU160
 557 01ca 3B4B     		ldr	r3, .L22+40
 558 01cc 93ED004A 		vldr.32	s8, [r3]
 559 01d0 65EE844A 		vmul.f32	s9, s11, s8
 273:modules/imu/ins_task.c ****               c_22 * gyro_temp[Y] +
 560              		.loc 1 273 35 view .LVU161
 561 01d4 37EE247A 		vadd.f32	s14, s14, s9
 272:modules/imu/ins_task.c ****     gyro[Y] = c_21 * gyro_temp[X] +
 562              		.loc 1 272 13 view .LVU162
 563 01d8 85ED017A 		vstr.32	s14, [r5, #4]
 275:modules/imu/ins_task.c ****     gyro[Z] = c_31 * gyro_temp[X] +
 564              		.loc 1 275 5 is_stmt 1 view .LVU163
 565              		.loc 1 275 20 is_stmt 0 view .LVU164
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 16


 566 01dc 374B     		ldr	r3, .L22+44
 567 01de 93ED007A 		vldr.32	s14, [r3]
 568 01e2 67EE877A 		vmul.f32	s15, s15, s14
 276:modules/imu/ins_task.c ****               c_32 * gyro_temp[Y] +
 569              		.loc 1 276 20 view .LVU165
 570 01e6 364B     		ldr	r3, .L22+48
 571 01e8 D3ED004A 		vldr.32	s9, [r3]
 572 01ec 25EE245A 		vmul.f32	s10, s10, s9
 275:modules/imu/ins_task.c ****     gyro[Z] = c_31 * gyro_temp[X] +
 573              		.loc 1 275 35 view .LVU166
 574 01f0 77EE857A 		vadd.f32	s15, s15, s10
 277:modules/imu/ins_task.c ****               c_33 * gyro_temp[Z];
 575              		.loc 1 277 20 view .LVU167
 576 01f4 334B     		ldr	r3, .L22+52
 577 01f6 93ED005A 		vldr.32	s10, [r3]
 578 01fa 65EE855A 		vmul.f32	s11, s11, s10
 276:modules/imu/ins_task.c ****               c_32 * gyro_temp[Y] +
 579              		.loc 1 276 35 view .LVU168
 580 01fe 77EEA57A 		vadd.f32	s15, s15, s11
 275:modules/imu/ins_task.c ****     gyro[Z] = c_31 * gyro_temp[X] +
 581              		.loc 1 275 13 view .LVU169
 582 0202 C5ED027A 		vstr.32	s15, [r5, #8]
 278:modules/imu/ins_task.c **** 
 279:modules/imu/ins_task.c ****     float accel_temp[3];
 583              		.loc 1 279 5 is_stmt 1 view .LVU170
 280:modules/imu/ins_task.c ****     for (uint8_t i = 0; i < 3; ++i)
 584              		.loc 1 280 5 view .LVU171
 585              	.LBB6:
 586              		.loc 1 280 10 view .LVU172
 587              	.LVL51:
 588              		.loc 1 280 18 is_stmt 0 view .LVU173
 589 0206 0023     		movs	r3, #0
 590              		.loc 1 280 5 view .LVU174
 591 0208 09E0     		b	.L19
 592              	.LVL52:
 593              	.L20:
 281:modules/imu/ins_task.c ****         accel_temp[i] = accel[i];
 594              		.loc 1 281 9 is_stmt 1 view .LVU175
 595              		.loc 1 281 30 is_stmt 0 view .LVU176
 596 020a 06EB8302 		add	r2, r6, r3, lsl #2
 597 020e 1168     		ldr	r1, [r2]	@ float
 598              		.loc 1 281 23 view .LVU177
 599 0210 06AA     		add	r2, sp, #24
 600 0212 02EB8302 		add	r2, r2, r3, lsl #2
 601 0216 42F8181C 		str	r1, [r2, #-24]	@ float
 280:modules/imu/ins_task.c ****     for (uint8_t i = 0; i < 3; ++i)
 602              		.loc 1 280 32 is_stmt 1 discriminator 3 view .LVU178
 603 021a 0133     		adds	r3, r3, #1
 604              	.LVL53:
 280:modules/imu/ins_task.c ****     for (uint8_t i = 0; i < 3; ++i)
 605              		.loc 1 280 32 is_stmt 0 discriminator 3 view .LVU179
 606 021c DBB2     		uxtb	r3, r3
 607              	.LVL54:
 608              	.L19:
 280:modules/imu/ins_task.c ****     for (uint8_t i = 0; i < 3; ++i)
 609              		.loc 1 280 27 is_stmt 1 discriminator 1 view .LVU180
 610 021e 022B     		cmp	r3, #2
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 17


 611 0220 F3D9     		bls	.L20
 612              	.LBE6:
 282:modules/imu/ins_task.c **** 
 283:modules/imu/ins_task.c ****     accel[X] = c_11 * accel_temp[X] +
 613              		.loc 1 283 5 view .LVU181
 614              		.loc 1 283 33 is_stmt 0 view .LVU182
 615 0222 9DED002A 		vldr.32	s4, [sp]
 616              		.loc 1 283 21 view .LVU183
 617 0226 26EE026A 		vmul.f32	s12, s12, s4
 284:modules/imu/ins_task.c ****                c_12 * accel_temp[Y] +
 618              		.loc 1 284 33 view .LVU184
 619 022a DDED015A 		vldr.32	s11, [sp, #4]
 620              		.loc 1 284 21 view .LVU185
 621 022e 62EEA52A 		vmul.f32	s5, s5, s11
 283:modules/imu/ins_task.c ****                c_12 * accel_temp[Y] +
 622              		.loc 1 283 37 view .LVU186
 623 0232 36EE226A 		vadd.f32	s12, s12, s5
 285:modules/imu/ins_task.c ****                c_13 * accel_temp[Z];
 624              		.loc 1 285 33 view .LVU187
 625 0236 DDED027A 		vldr.32	s15, [sp, #8]
 626              		.loc 1 285 21 view .LVU188
 627 023a 23EE273A 		vmul.f32	s6, s6, s15
 284:modules/imu/ins_task.c ****                c_12 * accel_temp[Y] +
 628              		.loc 1 284 37 view .LVU189
 629 023e 36EE036A 		vadd.f32	s12, s12, s6
 283:modules/imu/ins_task.c ****                c_12 * accel_temp[Y] +
 630              		.loc 1 283 14 view .LVU190
 631 0242 86ED006A 		vstr.32	s12, [r6]
 286:modules/imu/ins_task.c ****     accel[Y] = c_21 * accel_temp[X] +
 632              		.loc 1 286 5 is_stmt 1 view .LVU191
 633              		.loc 1 286 21 is_stmt 0 view .LVU192
 634 0246 66EE826A 		vmul.f32	s13, s13, s4
 287:modules/imu/ins_task.c ****                c_22 * accel_temp[Y] +
 635              		.loc 1 287 21 view .LVU193
 636 024a 63EEA53A 		vmul.f32	s7, s7, s11
 286:modules/imu/ins_task.c ****     accel[Y] = c_21 * accel_temp[X] +
 637              		.loc 1 286 37 view .LVU194
 638 024e 76EEA36A 		vadd.f32	s13, s13, s7
 288:modules/imu/ins_task.c ****                c_23 * accel_temp[Z];
 639              		.loc 1 288 21 view .LVU195
 640 0252 24EE274A 		vmul.f32	s8, s8, s15
 287:modules/imu/ins_task.c ****                c_22 * accel_temp[Y] +
 641              		.loc 1 287 37 view .LVU196
 642 0256 76EE846A 		vadd.f32	s13, s13, s8
 286:modules/imu/ins_task.c ****     accel[Y] = c_21 * accel_temp[X] +
 643              		.loc 1 286 14 view .LVU197
 644 025a C6ED016A 		vstr.32	s13, [r6, #4]
 289:modules/imu/ins_task.c ****     accel[Z] = c_31 * accel_temp[X] +
 645              		.loc 1 289 5 is_stmt 1 view .LVU198
 646              		.loc 1 289 21 is_stmt 0 view .LVU199
 647 025e 27EE027A 		vmul.f32	s14, s14, s4
 290:modules/imu/ins_task.c ****                c_32 * accel_temp[Y] +
 648              		.loc 1 290 21 view .LVU200
 649 0262 64EEA54A 		vmul.f32	s9, s9, s11
 289:modules/imu/ins_task.c ****     accel[Z] = c_31 * accel_temp[X] +
 650              		.loc 1 289 37 view .LVU201
 651 0266 37EE247A 		vadd.f32	s14, s14, s9
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 18


 291:modules/imu/ins_task.c ****                c_33 * accel_temp[Z];
 652              		.loc 1 291 21 view .LVU202
 653 026a 25EE275A 		vmul.f32	s10, s10, s15
 290:modules/imu/ins_task.c ****                c_32 * accel_temp[Y] +
 654              		.loc 1 290 37 view .LVU203
 655 026e 37EE057A 		vadd.f32	s14, s14, s10
 289:modules/imu/ins_task.c ****     accel[Z] = c_31 * accel_temp[X] +
 656              		.loc 1 289 14 view .LVU204
 657 0272 86ED027A 		vstr.32	s14, [r6, #8]
 292:modules/imu/ins_task.c **** 
 293:modules/imu/ins_task.c ****     lastYawOffset = param->Yaw;
 658              		.loc 1 293 5 is_stmt 1 view .LVU205
 659              		.loc 1 293 26 is_stmt 0 view .LVU206
 660 0276 2269     		ldr	r2, [r4, #16]	@ float
 661              		.loc 1 293 19 view .LVU207
 662 0278 054B     		ldr	r3, .L22
 663              	.LVL55:
 664              		.loc 1 293 19 view .LVU208
 665 027a 1A60     		str	r2, [r3]	@ float
 294:modules/imu/ins_task.c ****     lastPitchOffset = param->Pitch;
 666              		.loc 1 294 5 is_stmt 1 view .LVU209
 667              		.loc 1 294 28 is_stmt 0 view .LVU210
 668 027c 6269     		ldr	r2, [r4, #20]	@ float
 669              		.loc 1 294 21 view .LVU211
 670 027e 064B     		ldr	r3, .L22+8
 671 0280 1A60     		str	r2, [r3]	@ float
 295:modules/imu/ins_task.c ****     lastRollOffset = param->Roll;
 672              		.loc 1 295 5 is_stmt 1 view .LVU212
 673              		.loc 1 295 27 is_stmt 0 view .LVU213
 674 0282 A269     		ldr	r2, [r4, #24]	@ float
 675              		.loc 1 295 20 view .LVU214
 676 0284 054B     		ldr	r3, .L22+12
 677 0286 1A60     		str	r2, [r3]	@ float
 296:modules/imu/ins_task.c **** }
 678              		.loc 1 296 1 view .LVU215
 679 0288 06B0     		add	sp, sp, #24
 680              	.LCFI8:
 681              		.cfi_def_cfa_offset 40
 682              		@ sp needed
 683 028a BDEC068B 		vldm	sp!, {d8-d10}
 684              	.LCFI9:
 685              		.cfi_restore 84
 686              		.cfi_restore 85
 687              		.cfi_restore 82
 688              		.cfi_restore 83
 689              		.cfi_restore 80
 690              		.cfi_restore 81
 691              		.cfi_def_cfa_offset 16
 692 028e 70BD     		pop	{r4, r5, r6, pc}
 693              	.LVL56:
 694              	.L23:
 695              		.loc 1 296 1 view .LVU216
 696              		.align	2
 697              	.L22:
 698 0290 00000000 		.word	lastYawOffset.11
 699 0294 6F12833A 		.word	981668463
 700 0298 00000000 		.word	lastPitchOffset.10
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 19


 701 029c 00000000 		.word	lastRollOffset.9
 702 02a0 E12E6542 		.word	1113927393
 703 02a4 00000000 		.word	c_11.8
 704 02a8 00000000 		.word	c_12.7
 705 02ac 00000000 		.word	c_13.6
 706 02b0 00000000 		.word	c_21.5
 707 02b4 00000000 		.word	c_22.4
 708 02b8 00000000 		.word	c_23.3
 709 02bc 00000000 		.word	c_31.2
 710 02c0 00000000 		.word	c_32.1
 711 02c4 00000000 		.word	c_33.0
 712              		.cfi_endproc
 713              	.LFE283:
 715              		.section	.text.IMU_Temperature_Ctrl,"ax",%progbits
 716              		.align	1
 717              		.syntax unified
 718              		.thumb
 719              		.thumb_func
 721              	IMU_Temperature_Ctrl:
 722              	.LFB277:
  48:modules/imu/ins_task.c ****     PIDCalculate(&TempCtrl, BMI088.Temperature, RefTemp);
 723              		.loc 1 48 1 is_stmt 1 view -0
 724              		.cfi_startproc
 725              		@ args = 0, pretend = 0, frame = 0
 726              		@ frame_needed = 0, uses_anonymous_args = 0
 727 0000 10B5     		push	{r4, lr}
 728              	.LCFI10:
 729              		.cfi_def_cfa_offset 8
 730              		.cfi_offset 4, -8
 731              		.cfi_offset 14, -4
  49:modules/imu/ins_task.c ****     IMUPWMSet(float_constrain(float_rounding(TempCtrl.Output), 0, UINT32_MAX));
 732              		.loc 1 49 5 view .LVU218
 733 0002 0F4C     		ldr	r4, .L26
 734 0004 DFED0F0A 		vldr.32	s1, .L26+4
 735 0008 0F4B     		ldr	r3, .L26+8
 736 000a 93ED070A 		vldr.32	s0, [r3, #28]
 737 000e 2046     		mov	r0, r4
 738 0010 FFF7FEFF 		bl	PIDCalculate
 739              	.LVL57:
  50:modules/imu/ins_task.c **** }
 740              		.loc 1 50 5 view .LVU219
  50:modules/imu/ins_task.c **** }
 741              		.loc 1 50 31 is_stmt 0 view .LVU220
 742 0014 94ED140A 		vldr.32	s0, [r4, #80]
 743 0018 FFF7FEFF 		bl	float_rounding
 744              	.LVL58:
 745 001c 00EE100A 		vmov	s0, r0	@ int
  50:modules/imu/ins_task.c **** }
 746              		.loc 1 50 15 discriminator 1 view .LVU221
 747 0020 9FED0A1A 		vldr.32	s2, .L26+12
 748 0024 DFED0A0A 		vldr.32	s1, .L26+16
 749 0028 B8EEC00A 		vcvt.f32.s32	s0, s0
 750 002c FFF7FEFF 		bl	float_constrain
 751              	.LVL59:
  50:modules/imu/ins_task.c **** }
 752              		.loc 1 50 5 discriminator 2 view .LVU222
 753 0030 BCEEC00A 		vcvt.u32.f32	s0, s0
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 20


 754 0034 10EE103A 		vmov	r3, s0	@ int
 755 0038 98B2     		uxth	r0, r3
 756 003a FFF7FEFF 		bl	IMUPWMSet
 757              	.LVL60:
  51:modules/imu/ins_task.c **** 
 758              		.loc 1 51 1 view .LVU223
 759 003e 10BD     		pop	{r4, pc}
 760              	.L27:
 761              		.align	2
 762              	.L26:
 763 0040 00000000 		.word	TempCtrl
 764 0044 00002042 		.word	1109393408
 765 0048 00000000 		.word	BMI088
 766 004c 0000804F 		.word	1333788672
 767 0050 00000000 		.word	0
 768              		.cfi_endproc
 769              	.LFE277:
 771              		.section	.text.INS_Init,"ax",%progbits
 772              		.align	1
 773              		.global	INS_Init
 774              		.syntax unified
 775              		.thumb
 776              		.thumb_func
 778              	INS_Init:
 779              	.LFB279:
  81:modules/imu/ins_task.c ****     if (!INS.init)
 780              		.loc 1 81 1 is_stmt 1 view -0
 781              		.cfi_startproc
 782              		@ args = 0, pretend = 0, frame = 64
 783              		@ frame_needed = 0, uses_anonymous_args = 0
  82:modules/imu/ins_task.c ****         INS.init = 1;
 784              		.loc 1 82 5 view .LVU225
  82:modules/imu/ins_task.c ****         INS.init = 1;
 785              		.loc 1 82 13 is_stmt 0 view .LVU226
 786 0000 2E4B     		ldr	r3, .L36
 787 0002 93F87830 		ldrb	r3, [r3, #120]	@ zero_extendqisi2
  82:modules/imu/ins_task.c ****         INS.init = 1;
 788              		.loc 1 82 8 view .LVU227
 789 0006 0BB1     		cbz	r3, .L35
 116:modules/imu/ins_task.c **** 
 790              		.loc 1 116 1 view .LVU228
 791 0008 2D48     		ldr	r0, .L36+4
 792 000a 7047     		bx	lr
 793              	.L35:
  81:modules/imu/ins_task.c ****     if (!INS.init)
 794              		.loc 1 81 1 view .LVU229
 795 000c 30B5     		push	{r4, r5, lr}
 796              	.LCFI11:
 797              		.cfi_def_cfa_offset 12
 798              		.cfi_offset 4, -12
 799              		.cfi_offset 5, -8
 800              		.cfi_offset 14, -4
 801 000e 2DED028B 		vpush.64	{d8}
 802              	.LCFI12:
 803              		.cfi_def_cfa_offset 20
 804              		.cfi_offset 80, -20
 805              		.cfi_offset 81, -16
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 21


 806 0012 91B0     		sub	sp, sp, #68
 807              	.LCFI13:
 808              		.cfi_def_cfa_offset 88
  83:modules/imu/ins_task.c ****     else
 809              		.loc 1 83 9 is_stmt 1 view .LVU230
  83:modules/imu/ins_task.c ****     else
 810              		.loc 1 83 18 is_stmt 0 view .LVU231
 811 0014 294B     		ldr	r3, .L36
 812 0016 0122     		movs	r2, #1
 813 0018 83F87820 		strb	r2, [r3, #120]
  87:modules/imu/ins_task.c **** 
 814              		.loc 1 87 5 is_stmt 1 view .LVU232
 815 001c 0021     		movs	r1, #0
 816 001e 2948     		ldr	r0, .L36+8
 817 0020 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 818              	.LVL61:
  89:modules/imu/ins_task.c ****         ;
 819              		.loc 1 89 5 view .LVU233
 820              	.L30:
  89:modules/imu/ins_task.c ****         ;
 821              		.loc 1 89 34 discriminator 1 view .LVU234
  89:modules/imu/ins_task.c ****         ;
 822              		.loc 1 89 12 is_stmt 0 discriminator 1 view .LVU235
 823 0024 0121     		movs	r1, #1
 824 0026 2848     		ldr	r0, .L36+12
 825 0028 FFF7FEFF 		bl	BMI088Init
 826              	.LVL62:
  89:modules/imu/ins_task.c ****         ;
 827              		.loc 1 89 34 discriminator 1 view .LVU236
 828 002c 0028     		cmp	r0, #0
 829 002e F9D1     		bne	.L30
  91:modules/imu/ins_task.c ****     IMU_Param.scale[Y] = 1;
 830              		.loc 1 91 5 is_stmt 1 view .LVU237
  91:modules/imu/ins_task.c ****     IMU_Param.scale[Y] = 1;
 831              		.loc 1 91 24 is_stmt 0 view .LVU238
 832 0030 264B     		ldr	r3, .L36+16
 833 0032 B7EE008A 		vmov.f32	s16, #1.0e+0
 834 0036 83ED018A 		vstr.32	s16, [r3, #4]
  92:modules/imu/ins_task.c ****     IMU_Param.scale[Z] = 1;
 835              		.loc 1 92 5 is_stmt 1 view .LVU239
  92:modules/imu/ins_task.c ****     IMU_Param.scale[Z] = 1;
 836              		.loc 1 92 24 is_stmt 0 view .LVU240
 837 003a 83ED028A 		vstr.32	s16, [r3, #8]
  93:modules/imu/ins_task.c ****     IMU_Param.Yaw = 0;
 838              		.loc 1 93 5 is_stmt 1 view .LVU241
  93:modules/imu/ins_task.c ****     IMU_Param.Yaw = 0;
 839              		.loc 1 93 24 is_stmt 0 view .LVU242
 840 003e 83ED038A 		vstr.32	s16, [r3, #12]
  94:modules/imu/ins_task.c ****     IMU_Param.Pitch = 0;
 841              		.loc 1 94 5 is_stmt 1 view .LVU243
  94:modules/imu/ins_task.c ****     IMU_Param.Pitch = 0;
 842              		.loc 1 94 19 is_stmt 0 view .LVU244
 843 0042 DFED238A 		vldr.32	s17, .L36+20
 844 0046 C3ED048A 		vstr.32	s17, [r3, #16]
  95:modules/imu/ins_task.c ****     IMU_Param.Roll = 0;
 845              		.loc 1 95 5 is_stmt 1 view .LVU245
  95:modules/imu/ins_task.c ****     IMU_Param.Roll = 0;
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 22


 846              		.loc 1 95 21 is_stmt 0 view .LVU246
 847 004a C3ED058A 		vstr.32	s17, [r3, #20]
  96:modules/imu/ins_task.c ****     IMU_Param.flag = 1;
 848              		.loc 1 96 5 is_stmt 1 view .LVU247
  96:modules/imu/ins_task.c ****     IMU_Param.flag = 1;
 849              		.loc 1 96 20 is_stmt 0 view .LVU248
 850 004e C3ED068A 		vstr.32	s17, [r3, #24]
  97:modules/imu/ins_task.c **** 
 851              		.loc 1 97 5 is_stmt 1 view .LVU249
  97:modules/imu/ins_task.c **** 
 852              		.loc 1 97 20 is_stmt 0 view .LVU250
 853 0052 0125     		movs	r5, #1
 854 0054 1D70     		strb	r5, [r3]
  99:modules/imu/ins_task.c ****     InitQuaternion(init_quaternion);
 855              		.loc 1 99 5 is_stmt 1 view .LVU251
  99:modules/imu/ins_task.c ****     InitQuaternion(init_quaternion);
 856              		.loc 1 99 11 is_stmt 0 view .LVU252
 857 0056 0024     		movs	r4, #0
 858 0058 0C94     		str	r4, [sp, #48]
 859 005a 0D94     		str	r4, [sp, #52]
 860 005c 0E94     		str	r4, [sp, #56]
 861 005e 0F94     		str	r4, [sp, #60]
 100:modules/imu/ins_task.c ****     IMU_QuaternionEKF_Init(init_quaternion, 10, 0.001, 1000000, 1, 0);
 862              		.loc 1 100 5 is_stmt 1 view .LVU253
 863 0060 0CA8     		add	r0, sp, #48
 864 0062 FFF7FEFF 		bl	InitQuaternion
 865              	.LVL63:
 101:modules/imu/ins_task.c ****     // imu heat init
 866              		.loc 1 101 5 view .LVU254
 867 0066 B0EE682A 		vmov.f32	s4, s17
 868 006a F0EE481A 		vmov.f32	s3, s16
 869 006e 9FED191A 		vldr.32	s2, .L36+24
 870 0072 DFED190A 		vldr.32	s1, .L36+28
 871 0076 B2EE040A 		vmov.f32	s0, #1.0e+1
 872 007a 0CA8     		add	r0, sp, #48
 873 007c FFF7FEFF 		bl	IMU_QuaternionEKF_Init
 874              	.LVL64:
 103:modules/imu/ins_task.c ****                                 .IntegralLimit = 300,
 875              		.loc 1 103 5 view .LVU255
 103:modules/imu/ins_task.c ****                                 .IntegralLimit = 300,
 876              		.loc 1 103 23 is_stmt 0 view .LVU256
 877 0080 2C22     		movs	r2, #44
 878 0082 2146     		mov	r1, r4
 879 0084 01A8     		add	r0, sp, #4
 880 0086 FFF7FEFF 		bl	memset
 881              	.LVL65:
 882 008a 144B     		ldr	r3, .L36+32
 883 008c 0193     		str	r3, [sp, #4]	@ float
 884 008e 144B     		ldr	r3, .L36+36
 885 0090 0293     		str	r3, [sp, #8]	@ float
 886 0092 144B     		ldr	r3, .L36+40
 887 0094 0493     		str	r3, [sp, #16]	@ float
 888 0096 8DF81850 		strb	r5, [sp, #24]
 889 009a 134B     		ldr	r3, .L36+44
 890 009c 0793     		str	r3, [sp, #28]	@ float
 110:modules/imu/ins_task.c **** 
 891              		.loc 1 110 5 is_stmt 1 view .LVU257
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 23


 892 009e 01A9     		add	r1, sp, #4
 893 00a0 1248     		ldr	r0, .L36+48
 894 00a2 FFF7FEFF 		bl	PIDInit
 895              	.LVL66:
 113:modules/imu/ins_task.c ****     DWT_GetDeltaT(&INS_DWT_Count);
 896              		.loc 1 113 5 view .LVU258
 113:modules/imu/ins_task.c ****     DWT_GetDeltaT(&INS_DWT_Count);
 897              		.loc 1 113 18 is_stmt 0 view .LVU259
 898 00a6 054B     		ldr	r3, .L36
 899 00a8 114A     		ldr	r2, .L36+52
 900 00aa 9A62     		str	r2, [r3, #40]	@ float
 114:modules/imu/ins_task.c ****     return (attitude_t *)&INS.Gyro; // @todo: ËøôÈáåÂÅ∑Êáí‰∫Ü,‰∏çË¶ÅËøôÊ†∑ÂÅö! ‰øÆÊîπINT_tÁªìÊûÑ‰Ωì
 901              		.loc 1 114 5 is_stmt 1 view .LVU260
 902 00ac 1148     		ldr	r0, .L36+56
 903 00ae FFF7FEFF 		bl	DWT_GetDeltaT
 904              	.LVL67:
 115:modules/imu/ins_task.c **** }
 905              		.loc 1 115 5 view .LVU261
 116:modules/imu/ins_task.c **** 
 906              		.loc 1 116 1 is_stmt 0 view .LVU262
 907 00b2 0348     		ldr	r0, .L36+4
 908 00b4 11B0     		add	sp, sp, #68
 909              	.LCFI14:
 910              		.cfi_def_cfa_offset 20
 911              		@ sp needed
 912 00b6 BDEC028B 		vldm	sp!, {d8}
 913              	.LCFI15:
 914              		.cfi_restore 80
 915              		.cfi_restore 81
 916              		.cfi_def_cfa_offset 12
 917 00ba 30BD     		pop	{r4, r5, pc}
 918              	.L37:
 919              		.align	2
 920              	.L36:
 921 00bc 00000000 		.word	INS
 922 00c0 50000000 		.word	INS+80
 923 00c4 00000000 		.word	htim10
 924 00c8 00000000 		.word	hspi1
 925 00cc 00000000 		.word	IMU_Param
 926 00d0 00000000 		.word	0
 927 00d4 00247449 		.word	1232348160
 928 00d8 6F12833A 		.word	981668463
 929 00dc 00007A44 		.word	1148846080
 930 00e0 0000A041 		.word	1101004800
 931 00e4 0000FA44 		.word	1157234688
 932 00e8 00009643 		.word	1133903872
 933 00ec 00000000 		.word	TempCtrl
 934 00f0 96430B3C 		.word	1007371158
 935 00f4 00000000 		.word	INS_DWT_Count
 936              		.cfi_endproc
 937              	.LFE279:
 939              		.section	.text.BodyFrameToEarthFrame,"ax",%progbits
 940              		.align	1
 941              		.global	BodyFrameToEarthFrame
 942              		.syntax unified
 943              		.thumb
 944              		.thumb_func
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 24


 946              	BodyFrameToEarthFrame:
 947              	.LVL68:
 948              	.LFB281:
 193:modules/imu/ins_task.c ****     vecEF[0] = 2.0f * ((0.5f - q[2] * q[2] - q[3] * q[3]) * vecBF[0] +
 949              		.loc 1 193 1 is_stmt 1 view -0
 950              		.cfi_startproc
 951              		@ args = 0, pretend = 0, frame = 0
 952              		@ frame_needed = 0, uses_anonymous_args = 0
 953              		@ link register save eliminated.
 194:modules/imu/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 954              		.loc 1 194 5 view .LVU264
 194:modules/imu/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 955              		.loc 1 194 33 is_stmt 0 view .LVU265
 956 0000 92ED026A 		vldr.32	s12, [r2, #8]
 194:modules/imu/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 957              		.loc 1 194 37 view .LVU266
 958 0004 66EE067A 		vmul.f32	s15, s12, s12
 194:modules/imu/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 959              		.loc 1 194 30 view .LVU267
 960 0008 F6EE006A 		vmov.f32	s13, #5.0e-1
 961 000c 76EEE77A 		vsub.f32	s15, s13, s15
 194:modules/imu/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 962              		.loc 1 194 47 view .LVU268
 963 0010 92ED037A 		vldr.32	s14, [r2, #12]
 194:modules/imu/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 964              		.loc 1 194 51 view .LVU269
 965 0014 67EE075A 		vmul.f32	s11, s14, s14
 194:modules/imu/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 966              		.loc 1 194 44 view .LVU270
 967 0018 77EEE57A 		vsub.f32	s15, s15, s11
 194:modules/imu/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 968              		.loc 1 194 66 view .LVU271
 969 001c D0ED005A 		vldr.32	s11, [r0]
 194:modules/imu/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 970              		.loc 1 194 59 view .LVU272
 971 0020 67EEA57A 		vmul.f32	s15, s15, s11
 195:modules/imu/ins_task.c ****                        (q[1] * q[3] + q[0] * q[2]) * vecBF[2]);
 972              		.loc 1 195 26 view .LVU273
 973 0024 D2ED014A 		vldr.32	s9, [r2, #4]
 195:modules/imu/ins_task.c ****                        (q[1] * q[3] + q[0] * q[2]) * vecBF[2]);
 974              		.loc 1 195 30 view .LVU274
 975 0028 66EE245A 		vmul.f32	s11, s12, s9
 195:modules/imu/ins_task.c ****                        (q[1] * q[3] + q[0] * q[2]) * vecBF[2]);
 976              		.loc 1 195 40 view .LVU275
 977 002c 92ED005A 		vldr.32	s10, [r2]
 195:modules/imu/ins_task.c ****                        (q[1] * q[3] + q[0] * q[2]) * vecBF[2]);
 978              		.loc 1 195 44 view .LVU276
 979 0030 27EE054A 		vmul.f32	s8, s14, s10
 195:modules/imu/ins_task.c ****                        (q[1] * q[3] + q[0] * q[2]) * vecBF[2]);
 980              		.loc 1 195 37 view .LVU277
 981 0034 75EEC45A 		vsub.f32	s11, s11, s8
 195:modules/imu/ins_task.c ****                        (q[1] * q[3] + q[0] * q[2]) * vecBF[2]);
 982              		.loc 1 195 59 view .LVU278
 983 0038 90ED014A 		vldr.32	s8, [r0, #4]
 195:modules/imu/ins_task.c ****                        (q[1] * q[3] + q[0] * q[2]) * vecBF[2]);
 984              		.loc 1 195 52 view .LVU279
 985 003c 65EE845A 		vmul.f32	s11, s11, s8
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 25


 194:modules/imu/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 986              		.loc 1 194 70 view .LVU280
 987 0040 77EEA57A 		vadd.f32	s15, s15, s11
 196:modules/imu/ins_task.c **** 
 988              		.loc 1 196 30 view .LVU281
 989 0044 27EE247A 		vmul.f32	s14, s14, s9
 196:modules/imu/ins_task.c **** 
 990              		.loc 1 196 44 view .LVU282
 991 0048 26EE056A 		vmul.f32	s12, s12, s10
 196:modules/imu/ins_task.c **** 
 992              		.loc 1 196 37 view .LVU283
 993 004c 37EE067A 		vadd.f32	s14, s14, s12
 196:modules/imu/ins_task.c **** 
 994              		.loc 1 196 59 view .LVU284
 995 0050 90ED026A 		vldr.32	s12, [r0, #8]
 196:modules/imu/ins_task.c **** 
 996              		.loc 1 196 52 view .LVU285
 997 0054 27EE067A 		vmul.f32	s14, s14, s12
 195:modules/imu/ins_task.c ****                        (q[1] * q[3] + q[0] * q[2]) * vecBF[2]);
 998              		.loc 1 195 63 view .LVU286
 999 0058 77EE877A 		vadd.f32	s15, s15, s14
 194:modules/imu/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 1000              		.loc 1 194 21 view .LVU287
 1001 005c 77EEA77A 		vadd.f32	s15, s15, s15
 194:modules/imu/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 1002              		.loc 1 194 14 view .LVU288
 1003 0060 C1ED007A 		vstr.32	s15, [r1]
 198:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1004              		.loc 1 198 5 is_stmt 1 view .LVU289
 198:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1005              		.loc 1 198 26 is_stmt 0 view .LVU290
 1006 0064 D2ED015A 		vldr.32	s11, [r2, #4]
 198:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1007              		.loc 1 198 33 view .LVU291
 1008 0068 92ED027A 		vldr.32	s14, [r2, #8]
 198:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1009              		.loc 1 198 30 view .LVU292
 1010 006c 65EE877A 		vmul.f32	s15, s11, s14
 198:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1011              		.loc 1 198 40 view .LVU293
 1012 0070 D2ED004A 		vldr.32	s9, [r2]
 198:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1013              		.loc 1 198 47 view .LVU294
 1014 0074 92ED035A 		vldr.32	s10, [r2, #12]
 198:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1015              		.loc 1 198 44 view .LVU295
 1016 0078 24EE856A 		vmul.f32	s12, s9, s10
 198:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1017              		.loc 1 198 37 view .LVU296
 1018 007c 77EE867A 		vadd.f32	s15, s15, s12
 198:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1019              		.loc 1 198 59 view .LVU297
 1020 0080 90ED006A 		vldr.32	s12, [r0]
 198:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1021              		.loc 1 198 52 view .LVU298
 1022 0084 67EE867A 		vmul.f32	s15, s15, s12
 199:modules/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecBF[2]);
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 26


 1023              		.loc 1 199 37 view .LVU299
 1024 0088 25EEA56A 		vmul.f32	s12, s11, s11
 199:modules/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecBF[2]);
 1025              		.loc 1 199 30 view .LVU300
 1026 008c 36EEC66A 		vsub.f32	s12, s13, s12
 199:modules/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecBF[2]);
 1027              		.loc 1 199 51 view .LVU301
 1028 0090 25EE054A 		vmul.f32	s8, s10, s10
 199:modules/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecBF[2]);
 1029              		.loc 1 199 44 view .LVU302
 1030 0094 36EE446A 		vsub.f32	s12, s12, s8
 199:modules/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecBF[2]);
 1031              		.loc 1 199 66 view .LVU303
 1032 0098 90ED014A 		vldr.32	s8, [r0, #4]
 199:modules/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecBF[2]);
 1033              		.loc 1 199 59 view .LVU304
 1034 009c 26EE046A 		vmul.f32	s12, s12, s8
 198:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1035              		.loc 1 198 63 view .LVU305
 1036 00a0 77EE867A 		vadd.f32	s15, s15, s12
 200:modules/imu/ins_task.c **** 
 1037              		.loc 1 200 30 view .LVU306
 1038 00a4 27EE057A 		vmul.f32	s14, s14, s10
 200:modules/imu/ins_task.c **** 
 1039              		.loc 1 200 44 view .LVU307
 1040 00a8 65EEA45A 		vmul.f32	s11, s11, s9
 200:modules/imu/ins_task.c **** 
 1041              		.loc 1 200 37 view .LVU308
 1042 00ac 37EE657A 		vsub.f32	s14, s14, s11
 200:modules/imu/ins_task.c **** 
 1043              		.loc 1 200 59 view .LVU309
 1044 00b0 90ED026A 		vldr.32	s12, [r0, #8]
 200:modules/imu/ins_task.c **** 
 1045              		.loc 1 200 52 view .LVU310
 1046 00b4 27EE067A 		vmul.f32	s14, s14, s12
 199:modules/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecBF[2]);
 1047              		.loc 1 199 70 view .LVU311
 1048 00b8 77EE877A 		vadd.f32	s15, s15, s14
 198:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1049              		.loc 1 198 21 view .LVU312
 1050 00bc 77EEA77A 		vadd.f32	s15, s15, s15
 198:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1051              		.loc 1 198 14 view .LVU313
 1052 00c0 C1ED017A 		vstr.32	s15, [r1, #4]
 202:modules/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1053              		.loc 1 202 5 is_stmt 1 view .LVU314
 202:modules/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1054              		.loc 1 202 26 is_stmt 0 view .LVU315
 1055 00c4 D2ED015A 		vldr.32	s11, [r2, #4]
 202:modules/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1056              		.loc 1 202 33 view .LVU316
 1057 00c8 92ED037A 		vldr.32	s14, [r2, #12]
 202:modules/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1058              		.loc 1 202 30 view .LVU317
 1059 00cc 65EE877A 		vmul.f32	s15, s11, s14
 202:modules/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1060              		.loc 1 202 40 view .LVU318
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 27


 1061 00d0 92ED005A 		vldr.32	s10, [r2]
 202:modules/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1062              		.loc 1 202 47 view .LVU319
 1063 00d4 92ED026A 		vldr.32	s12, [r2, #8]
 202:modules/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1064              		.loc 1 202 44 view .LVU320
 1065 00d8 65EE064A 		vmul.f32	s9, s10, s12
 202:modules/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1066              		.loc 1 202 37 view .LVU321
 1067 00dc 77EEE47A 		vsub.f32	s15, s15, s9
 202:modules/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1068              		.loc 1 202 59 view .LVU322
 1069 00e0 D0ED004A 		vldr.32	s9, [r0]
 202:modules/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1070              		.loc 1 202 52 view .LVU323
 1071 00e4 67EEA47A 		vmul.f32	s15, s15, s9
 203:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecBF[2]);
 1072              		.loc 1 203 30 view .LVU324
 1073 00e8 27EE067A 		vmul.f32	s14, s14, s12
 203:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecBF[2]);
 1074              		.loc 1 203 44 view .LVU325
 1075 00ec 25EE855A 		vmul.f32	s10, s11, s10
 203:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecBF[2]);
 1076              		.loc 1 203 37 view .LVU326
 1077 00f0 37EE057A 		vadd.f32	s14, s14, s10
 203:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecBF[2]);
 1078              		.loc 1 203 59 view .LVU327
 1079 00f4 90ED015A 		vldr.32	s10, [r0, #4]
 203:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecBF[2]);
 1080              		.loc 1 203 52 view .LVU328
 1081 00f8 27EE057A 		vmul.f32	s14, s14, s10
 202:modules/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1082              		.loc 1 202 63 view .LVU329
 1083 00fc 77EE877A 		vadd.f32	s15, s15, s14
 204:modules/imu/ins_task.c **** }
 1084              		.loc 1 204 37 view .LVU330
 1085 0100 65EEA55A 		vmul.f32	s11, s11, s11
 204:modules/imu/ins_task.c **** }
 1086              		.loc 1 204 30 view .LVU331
 1087 0104 76EEE56A 		vsub.f32	s13, s13, s11
 204:modules/imu/ins_task.c **** }
 1088              		.loc 1 204 51 view .LVU332
 1089 0108 26EE066A 		vmul.f32	s12, s12, s12
 204:modules/imu/ins_task.c **** }
 1090              		.loc 1 204 44 view .LVU333
 1091 010c 76EEC66A 		vsub.f32	s13, s13, s12
 204:modules/imu/ins_task.c **** }
 1092              		.loc 1 204 66 view .LVU334
 1093 0110 90ED027A 		vldr.32	s14, [r0, #8]
 204:modules/imu/ins_task.c **** }
 1094              		.loc 1 204 59 view .LVU335
 1095 0114 66EE876A 		vmul.f32	s13, s13, s14
 203:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecBF[2]);
 1096              		.loc 1 203 63 view .LVU336
 1097 0118 77EEA67A 		vadd.f32	s15, s15, s13
 202:modules/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1098              		.loc 1 202 21 view .LVU337
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 28


 1099 011c 77EEA77A 		vadd.f32	s15, s15, s15
 202:modules/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1100              		.loc 1 202 14 view .LVU338
 1101 0120 C1ED027A 		vstr.32	s15, [r1, #8]
 205:modules/imu/ins_task.c **** 
 1102              		.loc 1 205 1 view .LVU339
 1103 0124 7047     		bx	lr
 1104              		.cfi_endproc
 1105              	.LFE281:
 1107              		.section	.text.EarthFrameToBodyFrame,"ax",%progbits
 1108              		.align	1
 1109              		.global	EarthFrameToBodyFrame
 1110              		.syntax unified
 1111              		.thumb
 1112              		.thumb_func
 1114              	EarthFrameToBodyFrame:
 1115              	.LVL69:
 1116              	.LFB282:
 214:modules/imu/ins_task.c ****     vecBF[0] = 2.0f * ((0.5f - q[2] * q[2] - q[3] * q[3]) * vecEF[0] +
 1117              		.loc 1 214 1 is_stmt 1 view -0
 1118              		.cfi_startproc
 1119              		@ args = 0, pretend = 0, frame = 0
 1120              		@ frame_needed = 0, uses_anonymous_args = 0
 1121              		@ link register save eliminated.
 215:modules/imu/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1122              		.loc 1 215 5 view .LVU341
 215:modules/imu/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1123              		.loc 1 215 33 is_stmt 0 view .LVU342
 1124 0000 92ED026A 		vldr.32	s12, [r2, #8]
 215:modules/imu/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1125              		.loc 1 215 37 view .LVU343
 1126 0004 66EE067A 		vmul.f32	s15, s12, s12
 215:modules/imu/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1127              		.loc 1 215 30 view .LVU344
 1128 0008 F6EE006A 		vmov.f32	s13, #5.0e-1
 1129 000c 76EEE77A 		vsub.f32	s15, s13, s15
 215:modules/imu/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1130              		.loc 1 215 47 view .LVU345
 1131 0010 92ED037A 		vldr.32	s14, [r2, #12]
 215:modules/imu/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1132              		.loc 1 215 51 view .LVU346
 1133 0014 67EE075A 		vmul.f32	s11, s14, s14
 215:modules/imu/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1134              		.loc 1 215 44 view .LVU347
 1135 0018 77EEE57A 		vsub.f32	s15, s15, s11
 215:modules/imu/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1136              		.loc 1 215 66 view .LVU348
 1137 001c D0ED005A 		vldr.32	s11, [r0]
 215:modules/imu/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1138              		.loc 1 215 59 view .LVU349
 1139 0020 67EEA57A 		vmul.f32	s15, s15, s11
 216:modules/imu/ins_task.c ****                        (q[1] * q[3] - q[0] * q[2]) * vecEF[2]);
 1140              		.loc 1 216 26 view .LVU350
 1141 0024 D2ED014A 		vldr.32	s9, [r2, #4]
 216:modules/imu/ins_task.c ****                        (q[1] * q[3] - q[0] * q[2]) * vecEF[2]);
 1142              		.loc 1 216 30 view .LVU351
 1143 0028 66EE245A 		vmul.f32	s11, s12, s9
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 29


 216:modules/imu/ins_task.c ****                        (q[1] * q[3] - q[0] * q[2]) * vecEF[2]);
 1144              		.loc 1 216 40 view .LVU352
 1145 002c 92ED005A 		vldr.32	s10, [r2]
 216:modules/imu/ins_task.c ****                        (q[1] * q[3] - q[0] * q[2]) * vecEF[2]);
 1146              		.loc 1 216 44 view .LVU353
 1147 0030 27EE054A 		vmul.f32	s8, s14, s10
 216:modules/imu/ins_task.c ****                        (q[1] * q[3] - q[0] * q[2]) * vecEF[2]);
 1148              		.loc 1 216 37 view .LVU354
 1149 0034 75EE845A 		vadd.f32	s11, s11, s8
 216:modules/imu/ins_task.c ****                        (q[1] * q[3] - q[0] * q[2]) * vecEF[2]);
 1150              		.loc 1 216 59 view .LVU355
 1151 0038 90ED014A 		vldr.32	s8, [r0, #4]
 216:modules/imu/ins_task.c ****                        (q[1] * q[3] - q[0] * q[2]) * vecEF[2]);
 1152              		.loc 1 216 52 view .LVU356
 1153 003c 65EE845A 		vmul.f32	s11, s11, s8
 215:modules/imu/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1154              		.loc 1 215 70 view .LVU357
 1155 0040 77EEA57A 		vadd.f32	s15, s15, s11
 217:modules/imu/ins_task.c **** 
 1156              		.loc 1 217 30 view .LVU358
 1157 0044 27EE247A 		vmul.f32	s14, s14, s9
 217:modules/imu/ins_task.c **** 
 1158              		.loc 1 217 44 view .LVU359
 1159 0048 26EE056A 		vmul.f32	s12, s12, s10
 217:modules/imu/ins_task.c **** 
 1160              		.loc 1 217 37 view .LVU360
 1161 004c 37EE467A 		vsub.f32	s14, s14, s12
 217:modules/imu/ins_task.c **** 
 1162              		.loc 1 217 59 view .LVU361
 1163 0050 90ED026A 		vldr.32	s12, [r0, #8]
 217:modules/imu/ins_task.c **** 
 1164              		.loc 1 217 52 view .LVU362
 1165 0054 27EE067A 		vmul.f32	s14, s14, s12
 216:modules/imu/ins_task.c ****                        (q[1] * q[3] - q[0] * q[2]) * vecEF[2]);
 1166              		.loc 1 216 63 view .LVU363
 1167 0058 77EE877A 		vadd.f32	s15, s15, s14
 215:modules/imu/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1168              		.loc 1 215 21 view .LVU364
 1169 005c 77EEA77A 		vadd.f32	s15, s15, s15
 215:modules/imu/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1170              		.loc 1 215 14 view .LVU365
 1171 0060 C1ED007A 		vstr.32	s15, [r1]
 219:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1172              		.loc 1 219 5 is_stmt 1 view .LVU366
 219:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1173              		.loc 1 219 26 is_stmt 0 view .LVU367
 1174 0064 D2ED015A 		vldr.32	s11, [r2, #4]
 219:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1175              		.loc 1 219 33 view .LVU368
 1176 0068 92ED027A 		vldr.32	s14, [r2, #8]
 219:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1177              		.loc 1 219 30 view .LVU369
 1178 006c 65EE877A 		vmul.f32	s15, s11, s14
 219:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1179              		.loc 1 219 40 view .LVU370
 1180 0070 D2ED004A 		vldr.32	s9, [r2]
 219:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 30


 1181              		.loc 1 219 47 view .LVU371
 1182 0074 92ED035A 		vldr.32	s10, [r2, #12]
 219:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1183              		.loc 1 219 44 view .LVU372
 1184 0078 24EE856A 		vmul.f32	s12, s9, s10
 219:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1185              		.loc 1 219 37 view .LVU373
 1186 007c 77EEC67A 		vsub.f32	s15, s15, s12
 219:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1187              		.loc 1 219 59 view .LVU374
 1188 0080 90ED006A 		vldr.32	s12, [r0]
 219:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1189              		.loc 1 219 52 view .LVU375
 1190 0084 67EE867A 		vmul.f32	s15, s15, s12
 220:modules/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecEF[2]);
 1191              		.loc 1 220 37 view .LVU376
 1192 0088 25EEA56A 		vmul.f32	s12, s11, s11
 220:modules/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecEF[2]);
 1193              		.loc 1 220 30 view .LVU377
 1194 008c 36EEC66A 		vsub.f32	s12, s13, s12
 220:modules/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecEF[2]);
 1195              		.loc 1 220 51 view .LVU378
 1196 0090 25EE054A 		vmul.f32	s8, s10, s10
 220:modules/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecEF[2]);
 1197              		.loc 1 220 44 view .LVU379
 1198 0094 36EE446A 		vsub.f32	s12, s12, s8
 220:modules/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecEF[2]);
 1199              		.loc 1 220 66 view .LVU380
 1200 0098 90ED014A 		vldr.32	s8, [r0, #4]
 220:modules/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecEF[2]);
 1201              		.loc 1 220 59 view .LVU381
 1202 009c 26EE046A 		vmul.f32	s12, s12, s8
 219:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1203              		.loc 1 219 63 view .LVU382
 1204 00a0 77EE867A 		vadd.f32	s15, s15, s12
 221:modules/imu/ins_task.c **** 
 1205              		.loc 1 221 30 view .LVU383
 1206 00a4 27EE057A 		vmul.f32	s14, s14, s10
 221:modules/imu/ins_task.c **** 
 1207              		.loc 1 221 44 view .LVU384
 1208 00a8 65EEA45A 		vmul.f32	s11, s11, s9
 221:modules/imu/ins_task.c **** 
 1209              		.loc 1 221 37 view .LVU385
 1210 00ac 37EE257A 		vadd.f32	s14, s14, s11
 221:modules/imu/ins_task.c **** 
 1211              		.loc 1 221 59 view .LVU386
 1212 00b0 90ED026A 		vldr.32	s12, [r0, #8]
 221:modules/imu/ins_task.c **** 
 1213              		.loc 1 221 52 view .LVU387
 1214 00b4 27EE067A 		vmul.f32	s14, s14, s12
 220:modules/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecEF[2]);
 1215              		.loc 1 220 70 view .LVU388
 1216 00b8 77EE877A 		vadd.f32	s15, s15, s14
 219:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1217              		.loc 1 219 21 view .LVU389
 1218 00bc 77EEA77A 		vadd.f32	s15, s15, s15
 219:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 31


 1219              		.loc 1 219 14 view .LVU390
 1220 00c0 C1ED017A 		vstr.32	s15, [r1, #4]
 223:modules/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1221              		.loc 1 223 5 is_stmt 1 view .LVU391
 223:modules/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1222              		.loc 1 223 26 is_stmt 0 view .LVU392
 1223 00c4 D2ED015A 		vldr.32	s11, [r2, #4]
 223:modules/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1224              		.loc 1 223 33 view .LVU393
 1225 00c8 92ED037A 		vldr.32	s14, [r2, #12]
 223:modules/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1226              		.loc 1 223 30 view .LVU394
 1227 00cc 65EE877A 		vmul.f32	s15, s11, s14
 223:modules/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1228              		.loc 1 223 40 view .LVU395
 1229 00d0 92ED005A 		vldr.32	s10, [r2]
 223:modules/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1230              		.loc 1 223 47 view .LVU396
 1231 00d4 92ED026A 		vldr.32	s12, [r2, #8]
 223:modules/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1232              		.loc 1 223 44 view .LVU397
 1233 00d8 65EE064A 		vmul.f32	s9, s10, s12
 223:modules/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1234              		.loc 1 223 37 view .LVU398
 1235 00dc 77EEA47A 		vadd.f32	s15, s15, s9
 223:modules/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1236              		.loc 1 223 59 view .LVU399
 1237 00e0 D0ED004A 		vldr.32	s9, [r0]
 223:modules/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1238              		.loc 1 223 52 view .LVU400
 1239 00e4 67EEA47A 		vmul.f32	s15, s15, s9
 224:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecEF[2]);
 1240              		.loc 1 224 30 view .LVU401
 1241 00e8 27EE067A 		vmul.f32	s14, s14, s12
 224:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecEF[2]);
 1242              		.loc 1 224 44 view .LVU402
 1243 00ec 25EE855A 		vmul.f32	s10, s11, s10
 224:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecEF[2]);
 1244              		.loc 1 224 37 view .LVU403
 1245 00f0 37EE457A 		vsub.f32	s14, s14, s10
 224:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecEF[2]);
 1246              		.loc 1 224 59 view .LVU404
 1247 00f4 90ED015A 		vldr.32	s10, [r0, #4]
 224:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecEF[2]);
 1248              		.loc 1 224 52 view .LVU405
 1249 00f8 27EE057A 		vmul.f32	s14, s14, s10
 223:modules/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1250              		.loc 1 223 63 view .LVU406
 1251 00fc 77EE877A 		vadd.f32	s15, s15, s14
 225:modules/imu/ins_task.c **** }
 1252              		.loc 1 225 37 view .LVU407
 1253 0100 65EEA55A 		vmul.f32	s11, s11, s11
 225:modules/imu/ins_task.c **** }
 1254              		.loc 1 225 30 view .LVU408
 1255 0104 76EEE56A 		vsub.f32	s13, s13, s11
 225:modules/imu/ins_task.c **** }
 1256              		.loc 1 225 51 view .LVU409
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 32


 1257 0108 26EE066A 		vmul.f32	s12, s12, s12
 225:modules/imu/ins_task.c **** }
 1258              		.loc 1 225 44 view .LVU410
 1259 010c 76EEC66A 		vsub.f32	s13, s13, s12
 225:modules/imu/ins_task.c **** }
 1260              		.loc 1 225 66 view .LVU411
 1261 0110 90ED027A 		vldr.32	s14, [r0, #8]
 225:modules/imu/ins_task.c **** }
 1262              		.loc 1 225 59 view .LVU412
 1263 0114 66EE876A 		vmul.f32	s13, s13, s14
 224:modules/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecEF[2]);
 1264              		.loc 1 224 63 view .LVU413
 1265 0118 77EEA67A 		vadd.f32	s15, s15, s13
 223:modules/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1266              		.loc 1 223 21 view .LVU414
 1267 011c 77EEA77A 		vadd.f32	s15, s15, s15
 223:modules/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1268              		.loc 1 223 14 view .LVU415
 1269 0120 C1ED027A 		vstr.32	s15, [r1, #8]
 226:modules/imu/ins_task.c **** 
 1270              		.loc 1 226 1 view .LVU416
 1271 0124 7047     		bx	lr
 1272              		.cfi_endproc
 1273              	.LFE282:
 1275              		.section	.text.INS_Task,"ax",%progbits
 1276              		.align	1
 1277              		.global	INS_Task
 1278              		.syntax unified
 1279              		.thumb
 1280              		.thumb_func
 1282              	INS_Task:
 1283              	.LFB280:
 120:modules/imu/ins_task.c ****     static uint32_t count = 0;
 1284              		.loc 1 120 1 is_stmt 1 view -0
 1285              		.cfi_startproc
 1286              		@ args = 0, pretend = 0, frame = 24
 1287              		@ frame_needed = 0, uses_anonymous_args = 0
 1288 0000 70B5     		push	{r4, r5, r6, lr}
 1289              	.LCFI16:
 1290              		.cfi_def_cfa_offset 16
 1291              		.cfi_offset 4, -16
 1292              		.cfi_offset 5, -12
 1293              		.cfi_offset 6, -8
 1294              		.cfi_offset 14, -4
 1295 0002 86B0     		sub	sp, sp, #24
 1296              	.LCFI17:
 1297              		.cfi_def_cfa_offset 40
 121:modules/imu/ins_task.c ****     const float gravity[3] = {0, 0, 9.81f};
 1298              		.loc 1 121 5 view .LVU418
 122:modules/imu/ins_task.c **** 
 1299              		.loc 1 122 5 view .LVU419
 122:modules/imu/ins_task.c **** 
 1300              		.loc 1 122 17 is_stmt 0 view .LVU420
 1301 0004 0023     		movs	r3, #0
 1302 0006 0393     		str	r3, [sp, #12]	@ float
 1303 0008 0493     		str	r3, [sp, #16]	@ float
 1304 000a 534B     		ldr	r3, .L46
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 33


 1305 000c 0593     		str	r3, [sp, #20]	@ float
 124:modules/imu/ins_task.c ****     t += dt;
 1306              		.loc 1 124 5 is_stmt 1 view .LVU421
 124:modules/imu/ins_task.c ****     t += dt;
 1307              		.loc 1 124 10 is_stmt 0 view .LVU422
 1308 000e 5348     		ldr	r0, .L46+4
 1309 0010 FFF7FEFF 		bl	DWT_GetDeltaT
 1310              	.LVL70:
 124:modules/imu/ins_task.c ****     t += dt;
 1311              		.loc 1 124 8 discriminator 1 view .LVU423
 1312 0014 524E     		ldr	r6, .L46+8
 1313 0016 86ED000A 		vstr.32	s0, [r6]
 125:modules/imu/ins_task.c **** 
 1314              		.loc 1 125 5 is_stmt 1 view .LVU424
 125:modules/imu/ins_task.c **** 
 1315              		.loc 1 125 7 is_stmt 0 view .LVU425
 1316 001a 524B     		ldr	r3, .L46+12
 1317 001c D3ED007A 		vldr.32	s15, [r3]
 1318 0020 77EE807A 		vadd.f32	s15, s15, s0
 1319 0024 C3ED007A 		vstr.32	s15, [r3]
 128:modules/imu/ins_task.c ****     {
 1320              		.loc 1 128 5 is_stmt 1 view .LVU426
 1321              	.LBB7:
 130:modules/imu/ins_task.c **** 
 1322              		.loc 1 130 9 view .LVU427
 1323 0028 4F4D     		ldr	r5, .L46+16
 1324 002a 2846     		mov	r0, r5
 1325 002c FFF7FEFF 		bl	BMI088_Read
 1326              	.LVL71:
 132:modules/imu/ins_task.c ****         INS.Accel[Y] = BMI088.Accel[Y];
 1327              		.loc 1 132 9 view .LVU428
 132:modules/imu/ins_task.c ****         INS.Accel[Y] = BMI088.Accel[Y];
 1328              		.loc 1 132 36 is_stmt 0 view .LVU429
 1329 0030 2B68     		ldr	r3, [r5]	@ float
 132:modules/imu/ins_task.c ****         INS.Accel[Y] = BMI088.Accel[Y];
 1330              		.loc 1 132 22 view .LVU430
 1331 0032 4E4C     		ldr	r4, .L46+20
 1332 0034 E365     		str	r3, [r4, #92]	@ float
 133:modules/imu/ins_task.c ****         INS.Accel[Z] = BMI088.Accel[Z];
 1333              		.loc 1 133 9 is_stmt 1 view .LVU431
 133:modules/imu/ins_task.c ****         INS.Accel[Z] = BMI088.Accel[Z];
 1334              		.loc 1 133 36 is_stmt 0 view .LVU432
 1335 0036 6B68     		ldr	r3, [r5, #4]	@ float
 133:modules/imu/ins_task.c ****         INS.Accel[Z] = BMI088.Accel[Z];
 1336              		.loc 1 133 22 view .LVU433
 1337 0038 2366     		str	r3, [r4, #96]	@ float
 134:modules/imu/ins_task.c ****         INS.Gyro[X] = BMI088.Gyro[X];
 1338              		.loc 1 134 9 is_stmt 1 view .LVU434
 134:modules/imu/ins_task.c ****         INS.Gyro[X] = BMI088.Gyro[X];
 1339              		.loc 1 134 36 is_stmt 0 view .LVU435
 1340 003a AB68     		ldr	r3, [r5, #8]	@ float
 134:modules/imu/ins_task.c ****         INS.Gyro[X] = BMI088.Gyro[X];
 1341              		.loc 1 134 22 view .LVU436
 1342 003c 6366     		str	r3, [r4, #100]	@ float
 135:modules/imu/ins_task.c ****         INS.Gyro[Y] = BMI088.Gyro[Y];
 1343              		.loc 1 135 9 is_stmt 1 view .LVU437
 135:modules/imu/ins_task.c ****         INS.Gyro[Y] = BMI088.Gyro[Y];
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 34


 1344              		.loc 1 135 34 is_stmt 0 view .LVU438
 1345 003e EB68     		ldr	r3, [r5, #12]	@ float
 135:modules/imu/ins_task.c ****         INS.Gyro[Y] = BMI088.Gyro[Y];
 1346              		.loc 1 135 21 view .LVU439
 1347 0040 2365     		str	r3, [r4, #80]	@ float
 136:modules/imu/ins_task.c ****         INS.Gyro[Z] = BMI088.Gyro[Z];
 1348              		.loc 1 136 9 is_stmt 1 view .LVU440
 136:modules/imu/ins_task.c ****         INS.Gyro[Z] = BMI088.Gyro[Z];
 1349              		.loc 1 136 34 is_stmt 0 view .LVU441
 1350 0042 2B69     		ldr	r3, [r5, #16]	@ float
 136:modules/imu/ins_task.c ****         INS.Gyro[Z] = BMI088.Gyro[Z];
 1351              		.loc 1 136 21 view .LVU442
 1352 0044 6365     		str	r3, [r4, #84]	@ float
 137:modules/imu/ins_task.c **** 
 1353              		.loc 1 137 9 is_stmt 1 view .LVU443
 137:modules/imu/ins_task.c **** 
 1354              		.loc 1 137 34 is_stmt 0 view .LVU444
 1355 0046 6B69     		ldr	r3, [r5, #20]	@ float
 137:modules/imu/ins_task.c **** 
 1356              		.loc 1 137 21 view .LVU445
 1357 0048 A365     		str	r3, [r4, #88]	@ float
 140:modules/imu/ins_task.c **** 
 1358              		.loc 1 140 9 is_stmt 1 view .LVU446
 1359 004a 04F15C02 		add	r2, r4, #92
 1360 004e 04F15001 		add	r1, r4, #80
 1361 0052 4748     		ldr	r0, .L46+24
 1362 0054 FFF7FEFF 		bl	IMU_Param_Correction
 1363              	.LVL72:
 147:modules/imu/ins_task.c **** 
 1364              		.loc 1 147 9 view .LVU447
 1365 0058 96ED003A 		vldr.32	s6, [r6]
 1366 005c D4ED192A 		vldr.32	s5, [r4, #100]
 1367 0060 94ED182A 		vldr.32	s4, [r4, #96]
 1368 0064 D4ED171A 		vldr.32	s3, [r4, #92]
 1369 0068 94ED161A 		vldr.32	s2, [r4, #88]
 1370 006c D4ED150A 		vldr.32	s1, [r4, #84]
 1371 0070 94ED140A 		vldr.32	s0, [r4, #80]
 1372 0074 FFF7FEFF 		bl	IMU_QuaternionEKF_Update
 1373              	.LVL73:
 149:modules/imu/ins_task.c **** 
 1374              		.loc 1 149 9 view .LVU448
 1375 0078 3E4B     		ldr	r3, .L46+28
 1376 007a 0FCB     		ldm	r3, {r0, r1, r2, r3}
 1377 007c 84E80F00 		stm	r4, {r0, r1, r2, r3}
 152:modules/imu/ins_task.c ****         BodyFrameToEarthFrame(yb, INS.yn, INS.q);
 1378              		.loc 1 152 9 view .LVU449
 1379 0080 2246     		mov	r2, r4
 1380 0082 04F12C01 		add	r1, r4, #44
 1381 0086 3C48     		ldr	r0, .L46+32
 1382 0088 FFF7FEFF 		bl	BodyFrameToEarthFrame
 1383              	.LVL74:
 153:modules/imu/ins_task.c ****         BodyFrameToEarthFrame(zb, INS.zn, INS.q);
 1384              		.loc 1 153 9 view .LVU450
 1385 008c 2246     		mov	r2, r4
 1386 008e 04F13801 		add	r1, r4, #56
 1387 0092 3A48     		ldr	r0, .L46+36
 1388 0094 FFF7FEFF 		bl	BodyFrameToEarthFrame
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 35


 1389              	.LVL75:
 154:modules/imu/ins_task.c **** 
 1390              		.loc 1 154 9 view .LVU451
 1391 0098 2246     		mov	r2, r4
 1392 009a 04F14401 		add	r1, r4, #68
 1393 009e 3848     		ldr	r0, .L46+40
 1394 00a0 FFF7FEFF 		bl	BodyFrameToEarthFrame
 1395              	.LVL76:
 157:modules/imu/ins_task.c ****         EarthFrameToBodyFrame(gravity, gravity_b, INS.q);
 1396              		.loc 1 157 9 view .LVU452
 158:modules/imu/ins_task.c ****         for (uint8_t i = 0; i < 3; ++i) // ÂêåÊ†∑Ëøá‰∏Ä‰∏™‰ΩéÈÄöÊª§Ê≥¢
 1397              		.loc 1 158 9 view .LVU453
 1398 00a4 2246     		mov	r2, r4
 1399 00a6 6946     		mov	r1, sp
 1400 00a8 03A8     		add	r0, sp, #12
 1401 00aa FFF7FEFF 		bl	EarthFrameToBodyFrame
 1402              	.LVL77:
 159:modules/imu/ins_task.c ****         {
 1403              		.loc 1 159 9 view .LVU454
 1404              	.LBB8:
 159:modules/imu/ins_task.c ****         {
 1405              		.loc 1 159 14 view .LVU455
 159:modules/imu/ins_task.c ****         {
 1406              		.loc 1 159 22 is_stmt 0 view .LVU456
 1407 00ae 0023     		movs	r3, #0
 159:modules/imu/ins_task.c ****         {
 1408              		.loc 1 159 9 view .LVU457
 1409 00b0 27E0     		b	.L41
 1410              	.LVL78:
 1411              	.L42:
 161:modules/imu/ins_task.c ****         }
 1412              		.loc 1 161 13 is_stmt 1 view .LVU458
 161:modules/imu/ins_task.c ****         }
 1413              		.loc 1 161 46 is_stmt 0 view .LVU459
 1414 00b2 2E4A     		ldr	r2, .L46+20
 1415 00b4 03F11601 		add	r1, r3, #22
 1416 00b8 02EB8101 		add	r1, r2, r1, lsl #2
 1417 00bc 91ED017A 		vldr.32	s14, [r1, #4]
 161:modules/imu/ins_task.c ****         }
 1418              		.loc 1 161 61 view .LVU460
 1419 00c0 06A9     		add	r1, sp, #24
 1420 00c2 01EB8301 		add	r1, r1, r3, lsl #2
 1421 00c6 51ED067A 		vldr.32	s15, [r1, #-24]
 161:modules/imu/ins_task.c ****         }
 1422              		.loc 1 161 50 view .LVU461
 1423 00ca 37EE677A 		vsub.f32	s14, s14, s15
 161:modules/imu/ins_task.c ****         }
 1424              		.loc 1 161 66 view .LVU462
 1425 00ce 2449     		ldr	r1, .L46+8
 1426 00d0 D1ED007A 		vldr.32	s15, [r1]
 1427 00d4 27EE277A 		vmul.f32	s14, s14, s15
 161:modules/imu/ins_task.c ****         }
 1428              		.loc 1 161 77 view .LVU463
 1429 00d8 D2ED0A6A 		vldr.32	s13, [r2, #40]
 161:modules/imu/ins_task.c ****         }
 1430              		.loc 1 161 87 view .LVU464
 1431 00dc 77EEA67A 		vadd.f32	s15, s15, s13
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 36


 161:modules/imu/ins_task.c ****         }
 1432              		.loc 1 161 71 view .LVU465
 1433 00e0 87EE276A 		vdiv.f32	s12, s14, s15
 161:modules/imu/ins_task.c ****         }
 1434              		.loc 1 161 112 view .LVU466
 1435 00e4 191D     		adds	r1, r3, #4
 1436 00e6 02EB8102 		add	r2, r2, r1, lsl #2
 1437 00ea 92ED007A 		vldr.32	s14, [r2]
 161:modules/imu/ins_task.c ****         }
 1438              		.loc 1 161 116 view .LVU467
 1439 00ee 66EE876A 		vmul.f32	s13, s13, s14
 161:modules/imu/ins_task.c ****         }
 1440              		.loc 1 161 131 view .LVU468
 1441 00f2 86EEA77A 		vdiv.f32	s14, s13, s15
 161:modules/imu/ins_task.c ****         }
 1442              		.loc 1 161 93 view .LVU469
 1443 00f6 76EE077A 		vadd.f32	s15, s12, s14
 161:modules/imu/ins_task.c ****         }
 1444              		.loc 1 161 34 view .LVU470
 1445 00fa C2ED007A 		vstr.32	s15, [r2]
 159:modules/imu/ins_task.c ****         {
 1446              		.loc 1 159 36 is_stmt 1 discriminator 3 view .LVU471
 1447 00fe 0133     		adds	r3, r3, #1
 1448              	.LVL79:
 159:modules/imu/ins_task.c ****         {
 1449              		.loc 1 159 36 is_stmt 0 discriminator 3 view .LVU472
 1450 0100 DBB2     		uxtb	r3, r3
 1451              	.LVL80:
 1452              	.L41:
 159:modules/imu/ins_task.c ****         {
 1453              		.loc 1 159 31 is_stmt 1 discriminator 1 view .LVU473
 1454 0102 022B     		cmp	r3, #2
 1455 0104 D5D9     		bls	.L42
 1456              	.LBE8:
 163:modules/imu/ins_task.c **** 
 1457              		.loc 1 163 9 view .LVU474
 1458 0106 194C     		ldr	r4, .L46+20
 1459 0108 2246     		mov	r2, r4
 1460 010a 04F11C01 		add	r1, r4, #28
 1461 010e 04F11000 		add	r0, r4, #16
 1462 0112 FFF7FEFF 		bl	BodyFrameToEarthFrame
 1463              	.LVL81:
 165:modules/imu/ins_task.c ****         INS.Pitch = QEKF_INS.Pitch;
 1464              		.loc 1 165 9 view .LVU475
 165:modules/imu/ins_task.c ****         INS.Pitch = QEKF_INS.Pitch;
 1465              		.loc 1 165 27 is_stmt 0 view .LVU476
 1466 0116 1B4B     		ldr	r3, .L46+44
 1467 0118 93ED6A0A 		vldr.32	s0, [r3, #424]
 165:modules/imu/ins_task.c ****         INS.Pitch = QEKF_INS.Pitch;
 1468              		.loc 1 165 17 view .LVU477
 1469 011c 84ED1C0A 		vstr.32	s0, [r4, #112]
 166:modules/imu/ins_task.c ****         INS.Roll = QEKF_INS.Roll;
 1470              		.loc 1 166 9 is_stmt 1 view .LVU478
 166:modules/imu/ins_task.c ****         INS.Roll = QEKF_INS.Roll;
 1471              		.loc 1 166 29 is_stmt 0 view .LVU479
 1472 0120 D3ED690A 		vldr.32	s1, [r3, #420]
 166:modules/imu/ins_task.c ****         INS.Roll = QEKF_INS.Roll;
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 37


 1473              		.loc 1 166 19 view .LVU480
 1474 0124 C4ED1B0A 		vstr.32	s1, [r4, #108]
 167:modules/imu/ins_task.c ****         INS.YawTotalAngle = QEKF_INS.YawTotalAngle;
 1475              		.loc 1 167 9 is_stmt 1 view .LVU481
 167:modules/imu/ins_task.c ****         INS.YawTotalAngle = QEKF_INS.YawTotalAngle;
 1476              		.loc 1 167 28 is_stmt 0 view .LVU482
 1477 0128 93ED681A 		vldr.32	s2, [r3, #416]
 167:modules/imu/ins_task.c ****         INS.YawTotalAngle = QEKF_INS.YawTotalAngle;
 1478              		.loc 1 167 18 view .LVU483
 1479 012c 84ED1A1A 		vstr.32	s2, [r4, #104]
 168:modules/imu/ins_task.c **** 
 1480              		.loc 1 168 9 is_stmt 1 view .LVU484
 168:modules/imu/ins_task.c **** 
 1481              		.loc 1 168 37 is_stmt 0 view .LVU485
 1482 0130 D3F8AC31 		ldr	r3, [r3, #428]	@ float
 168:modules/imu/ins_task.c **** 
 1483              		.loc 1 168 27 view .LVU486
 1484 0134 6367     		str	r3, [r4, #116]	@ float
 170:modules/imu/ins_task.c ****     }
 1485              		.loc 1 170 9 is_stmt 1 view .LVU487
 1486 0136 FFF7FEFF 		bl	VisionSetAltitude
 1487              	.LVL82:
 1488              	.LBE7:
 174:modules/imu/ins_task.c ****     {
 1489              		.loc 1 174 5 view .LVU488
 174:modules/imu/ins_task.c ****     {
 1490              		.loc 1 174 16 is_stmt 0 view .LVU489
 1491 013a 134B     		ldr	r3, .L46+48
 1492 013c 1B68     		ldr	r3, [r3]
 174:modules/imu/ins_task.c ****     {
 1493              		.loc 1 174 8 view .LVU490
 1494 013e 13F0010F 		tst	r3, #1
 1495 0142 05D0     		beq	.L45
 1496              	.L43:
 180:modules/imu/ins_task.c ****     {
 1497              		.loc 1 180 5 is_stmt 1 view .LVU491
 180:modules/imu/ins_task.c ****     {
 1498              		.loc 1 180 15 is_stmt 0 view .LVU492
 1499 0144 104A     		ldr	r2, .L46+48
 1500 0146 1368     		ldr	r3, [r2]
 1501 0148 0133     		adds	r3, r3, #1
 1502 014a 1360     		str	r3, [r2]
 183:modules/imu/ins_task.c **** }
 1503              		.loc 1 183 5 is_stmt 1 view .LVU493
 184:modules/imu/ins_task.c **** 
 1504              		.loc 1 184 1 is_stmt 0 view .LVU494
 1505 014c 06B0     		add	sp, sp, #24
 1506              	.LCFI18:
 1507              		.cfi_remember_state
 1508              		.cfi_def_cfa_offset 16
 1509              		@ sp needed
 1510 014e 70BD     		pop	{r4, r5, r6, pc}
 1511              	.L45:
 1512              	.LCFI19:
 1513              		.cfi_restore_state
 177:modules/imu/ins_task.c ****     }
 1514              		.loc 1 177 9 is_stmt 1 view .LVU495
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 38


 1515 0150 FFF7FEFF 		bl	IMU_Temperature_Ctrl
 1516              	.LVL83:
 1517 0154 F6E7     		b	.L43
 1518              	.L47:
 1519 0156 00BF     		.align	2
 1520              	.L46:
 1521 0158 C3F51C41 		.word	1092416963
 1522 015c 00000000 		.word	INS_DWT_Count
 1523 0160 00000000 		.word	dt
 1524 0164 00000000 		.word	t
 1525 0168 00000000 		.word	BMI088
 1526 016c 00000000 		.word	INS
 1527 0170 00000000 		.word	IMU_Param
 1528 0174 50010000 		.word	QEKF_INS+336
 1529 0178 00000000 		.word	xb
 1530 017c 00000000 		.word	yb
 1531 0180 00000000 		.word	zb
 1532 0184 00000000 		.word	QEKF_INS
 1533 0188 00000000 		.word	count.12
 1534              		.cfi_endproc
 1535              	.LFE280:
 1537              		.section	.text.QuaternionUpdate,"ax",%progbits
 1538              		.align	1
 1539              		.global	QuaternionUpdate
 1540              		.syntax unified
 1541              		.thumb
 1542              		.thumb_func
 1544              	QuaternionUpdate:
 1545              	.LVL84:
 1546              	.LFB284:
 297:modules/imu/ins_task.c **** 
 298:modules/imu/ins_task.c **** //------------------------------------functions below are not used in this demo--------------------
 299:modules/imu/ins_task.c **** //----------------------------------you can read them for learning or programming------------------
 300:modules/imu/ins_task.c **** //----------------------------------they could also be helpful for further design------------------
 301:modules/imu/ins_task.c **** 
 302:modules/imu/ins_task.c **** /**
 303:modules/imu/ins_task.c ****  * @brief        Update quaternion
 304:modules/imu/ins_task.c ****  */
 305:modules/imu/ins_task.c **** void QuaternionUpdate(float *q, float gx, float gy, float gz, float dt)
 306:modules/imu/ins_task.c **** {
 1547              		.loc 1 306 1 view -0
 1548              		.cfi_startproc
 1549              		@ args = 0, pretend = 0, frame = 0
 1550              		@ frame_needed = 0, uses_anonymous_args = 0
 1551              		@ link register save eliminated.
 307:modules/imu/ins_task.c ****     float qa, qb, qc;
 1552              		.loc 1 307 5 view .LVU497
 308:modules/imu/ins_task.c **** 
 309:modules/imu/ins_task.c ****     gx *= 0.5f * dt;
 1553              		.loc 1 309 5 view .LVU498
 1554              		.loc 1 309 16 is_stmt 0 view .LVU499
 1555 0000 F6EE007A 		vmov.f32	s15, #5.0e-1
 1556 0004 61EEA71A 		vmul.f32	s3, s3, s15
 1557              	.LVL85:
 1558              		.loc 1 309 8 view .LVU500
 1559 0008 21EE800A 		vmul.f32	s0, s3, s0
 1560              	.LVL86:
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 39


 310:modules/imu/ins_task.c ****     gy *= 0.5f * dt;
 1561              		.loc 1 310 5 is_stmt 1 view .LVU501
 1562              		.loc 1 310 8 is_stmt 0 view .LVU502
 1563 000c 61EEA00A 		vmul.f32	s1, s3, s1
 1564              	.LVL87:
 311:modules/imu/ins_task.c ****     gz *= 0.5f * dt;
 1565              		.loc 1 311 5 is_stmt 1 view .LVU503
 1566              		.loc 1 311 8 is_stmt 0 view .LVU504
 1567 0010 21EE811A 		vmul.f32	s2, s3, s2
 1568              	.LVL88:
 312:modules/imu/ins_task.c ****     qa = q[0];
 1569              		.loc 1 312 5 is_stmt 1 view .LVU505
 1570              		.loc 1 312 8 is_stmt 0 view .LVU506
 1571 0014 D0ED005A 		vldr.32	s11, [r0]
 1572              	.LVL89:
 313:modules/imu/ins_task.c ****     qb = q[1];
 1573              		.loc 1 313 5 is_stmt 1 view .LVU507
 1574              		.loc 1 313 8 is_stmt 0 view .LVU508
 1575 0018 90ED016A 		vldr.32	s12, [r0, #4]
 1576              	.LVL90:
 314:modules/imu/ins_task.c ****     qc = q[2];
 1577              		.loc 1 314 5 is_stmt 1 view .LVU509
 1578              		.loc 1 314 8 is_stmt 0 view .LVU510
 1579 001c D0ED026A 		vldr.32	s13, [r0, #8]
 1580              	.LVL91:
 315:modules/imu/ins_task.c ****     q[0] += (-qb * gx - qc * gy - q[3] * gz);
 1581              		.loc 1 315 5 is_stmt 1 view .LVU511
 1582              		.loc 1 315 18 is_stmt 0 view .LVU512
 1583 0020 66EE407A 		vnmul.f32	s15, s12, s0
 1584              		.loc 1 315 28 view .LVU513
 1585 0024 20EEA67A 		vmul.f32	s14, s1, s13
 1586              		.loc 1 315 23 view .LVU514
 1587 0028 77EEC77A 		vsub.f32	s15, s15, s14
 1588              		.loc 1 315 36 view .LVU515
 1589 002c 90ED037A 		vldr.32	s14, [r0, #12]
 1590              		.loc 1 315 40 view .LVU516
 1591 0030 27EE015A 		vmul.f32	s10, s14, s2
 1592              		.loc 1 315 33 view .LVU517
 1593 0034 77EEC57A 		vsub.f32	s15, s15, s10
 1594              		.loc 1 315 10 view .LVU518
 1595 0038 77EEA57A 		vadd.f32	s15, s15, s11
 1596 003c C0ED007A 		vstr.32	s15, [r0]
 316:modules/imu/ins_task.c ****     q[1] += (qa * gx + qc * gz - q[3] * gy);
 1597              		.loc 1 316 5 is_stmt 1 view .LVU519
 1598              		.loc 1 316 17 is_stmt 0 view .LVU520
 1599 0040 60EE257A 		vmul.f32	s15, s0, s11
 1600              		.loc 1 316 27 view .LVU521
 1601 0044 21EE265A 		vmul.f32	s10, s2, s13
 1602              		.loc 1 316 22 view .LVU522
 1603 0048 77EE857A 		vadd.f32	s15, s15, s10
 1604              		.loc 1 316 39 view .LVU523
 1605 004c 27EE205A 		vmul.f32	s10, s14, s1
 1606              		.loc 1 316 32 view .LVU524
 1607 0050 77EEC57A 		vsub.f32	s15, s15, s10
 1608              		.loc 1 316 10 view .LVU525
 1609 0054 77EE867A 		vadd.f32	s15, s15, s12
 1610 0058 C0ED017A 		vstr.32	s15, [r0, #4]
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 40


 317:modules/imu/ins_task.c ****     q[2] += (qa * gy - qb * gz + q[3] * gx);
 1611              		.loc 1 317 5 is_stmt 1 view .LVU526
 1612              		.loc 1 317 17 is_stmt 0 view .LVU527
 1613 005c 60EEA57A 		vmul.f32	s15, s1, s11
 1614              		.loc 1 317 27 view .LVU528
 1615 0060 21EE065A 		vmul.f32	s10, s2, s12
 1616              		.loc 1 317 22 view .LVU529
 1617 0064 77EEC57A 		vsub.f32	s15, s15, s10
 1618              		.loc 1 317 39 view .LVU530
 1619 0068 27EE005A 		vmul.f32	s10, s14, s0
 1620              		.loc 1 317 32 view .LVU531
 1621 006c 77EE857A 		vadd.f32	s15, s15, s10
 1622              		.loc 1 317 10 view .LVU532
 1623 0070 77EEA67A 		vadd.f32	s15, s15, s13
 1624 0074 C0ED027A 		vstr.32	s15, [r0, #8]
 318:modules/imu/ins_task.c ****     q[3] += (qa * gz + qb * gy - qc * gx);
 1625              		.loc 1 318 5 is_stmt 1 view .LVU533
 1626              		.loc 1 318 17 is_stmt 0 view .LVU534
 1627 0078 21EE251A 		vmul.f32	s2, s2, s11
 1628              	.LVL92:
 1629              		.loc 1 318 27 view .LVU535
 1630 007c 60EE860A 		vmul.f32	s1, s1, s12
 1631              	.LVL93:
 1632              		.loc 1 318 22 view .LVU536
 1633 0080 31EE201A 		vadd.f32	s2, s2, s1
 1634              		.loc 1 318 37 view .LVU537
 1635 0084 20EE260A 		vmul.f32	s0, s0, s13
 1636              	.LVL94:
 1637              		.loc 1 318 32 view .LVU538
 1638 0088 31EE401A 		vsub.f32	s2, s2, s0
 1639              		.loc 1 318 10 view .LVU539
 1640 008c 37EE017A 		vadd.f32	s14, s14, s2
 1641 0090 80ED037A 		vstr.32	s14, [r0, #12]
 319:modules/imu/ins_task.c **** }
 1642              		.loc 1 319 1 view .LVU540
 1643 0094 7047     		bx	lr
 1644              		.cfi_endproc
 1645              	.LFE284:
 1647              		.section	.text.QuaternionToEularAngle,"ax",%progbits
 1648              		.align	1
 1649              		.global	QuaternionToEularAngle
 1650              		.syntax unified
 1651              		.thumb
 1652              		.thumb_func
 1654              	QuaternionToEularAngle:
 1655              	.LVL95:
 1656              	.LFB285:
 320:modules/imu/ins_task.c **** 
 321:modules/imu/ins_task.c **** /**
 322:modules/imu/ins_task.c ****  * @brief        Convert quaternion to eular angle
 323:modules/imu/ins_task.c ****  */
 324:modules/imu/ins_task.c **** void QuaternionToEularAngle(float *q, float *Yaw, float *Pitch, float *Roll)
 325:modules/imu/ins_task.c **** {
 1657              		.loc 1 325 1 is_stmt 1 view -0
 1658              		.cfi_startproc
 1659              		@ args = 0, pretend = 0, frame = 0
 1660              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 41


 1661              		.loc 1 325 1 is_stmt 0 view .LVU542
 1662 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1663              	.LCFI20:
 1664              		.cfi_def_cfa_offset 24
 1665              		.cfi_offset 3, -24
 1666              		.cfi_offset 4, -20
 1667              		.cfi_offset 5, -16
 1668              		.cfi_offset 6, -12
 1669              		.cfi_offset 7, -8
 1670              		.cfi_offset 14, -4
 1671 0002 2DED028B 		vpush.64	{d8}
 1672              	.LCFI21:
 1673              		.cfi_def_cfa_offset 32
 1674              		.cfi_offset 80, -32
 1675              		.cfi_offset 81, -28
 1676 0006 0446     		mov	r4, r0
 1677 0008 0F46     		mov	r7, r1
 1678 000a 1646     		mov	r6, r2
 1679 000c 1D46     		mov	r5, r3
 326:modules/imu/ins_task.c ****     *Yaw = atan2f(2.0f * (q[0] * q[3] + q[1] * q[2]), 2.0f * (q[0] * q[0] + q[1] * q[1]) - 1.0f) * 
 1680              		.loc 1 326 5 is_stmt 1 view .LVU543
 1681              		.loc 1 326 28 is_stmt 0 view .LVU544
 1682 000e D0ED000A 		vldr.32	s1, [r0]
 1683              		.loc 1 326 35 view .LVU545
 1684 0012 90ED030A 		vldr.32	s0, [r0, #12]
 1685              		.loc 1 326 32 view .LVU546
 1686 0016 20EE800A 		vmul.f32	s0, s1, s0
 1687              		.loc 1 326 42 view .LVU547
 1688 001a D0ED017A 		vldr.32	s15, [r0, #4]
 1689              		.loc 1 326 49 view .LVU548
 1690 001e 90ED027A 		vldr.32	s14, [r0, #8]
 1691              		.loc 1 326 46 view .LVU549
 1692 0022 27EE877A 		vmul.f32	s14, s15, s14
 1693              		.loc 1 326 39 view .LVU550
 1694 0026 30EE070A 		vadd.f32	s0, s0, s14
 1695              		.loc 1 326 68 view .LVU551
 1696 002a 60EEA00A 		vmul.f32	s1, s1, s1
 1697              		.loc 1 326 82 view .LVU552
 1698 002e 67EEA77A 		vmul.f32	s15, s15, s15
 1699              		.loc 1 326 75 view .LVU553
 1700 0032 70EEA70A 		vadd.f32	s1, s1, s15
 1701              		.loc 1 326 60 view .LVU554
 1702 0036 70EEA00A 		vadd.f32	s1, s1, s1
 1703              		.loc 1 326 12 view .LVU555
 1704 003a F7EE008A 		vmov.f32	s17, #1.0e+0
 1705 003e 70EEE80A 		vsub.f32	s1, s1, s17
 1706 0042 30EE000A 		vadd.f32	s0, s0, s0
 1707 0046 FFF7FEFF 		bl	atan2f
 1708              	.LVL96:
 1709              		.loc 1 326 98 discriminator 1 view .LVU556
 1710 004a 9FED1F8A 		vldr.32	s16, .L51
 1711 004e 20EE080A 		vmul.f32	s0, s0, s16
 1712              		.loc 1 326 10 discriminator 1 view .LVU557
 1713 0052 87ED000A 		vstr.32	s0, [r7]
 327:modules/imu/ins_task.c ****     *Pitch = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 2.0f * (q[0] * q[0] + q[3] * q[3]) - 1.0f) 
 1714              		.loc 1 327 5 is_stmt 1 view .LVU558
 1715              		.loc 1 327 30 is_stmt 0 view .LVU559
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 42


 1716 0056 D4ED000A 		vldr.32	s1, [r4]
 1717              		.loc 1 327 37 view .LVU560
 1718 005a 94ED010A 		vldr.32	s0, [r4, #4]
 1719              		.loc 1 327 34 view .LVU561
 1720 005e 20EE800A 		vmul.f32	s0, s1, s0
 1721              		.loc 1 327 44 view .LVU562
 1722 0062 94ED027A 		vldr.32	s14, [r4, #8]
 1723              		.loc 1 327 51 view .LVU563
 1724 0066 D4ED037A 		vldr.32	s15, [r4, #12]
 1725              		.loc 1 327 48 view .LVU564
 1726 006a 27EE277A 		vmul.f32	s14, s14, s15
 1727              		.loc 1 327 41 view .LVU565
 1728 006e 30EE070A 		vadd.f32	s0, s0, s14
 1729              		.loc 1 327 70 view .LVU566
 1730 0072 60EEA00A 		vmul.f32	s1, s1, s1
 1731              		.loc 1 327 84 view .LVU567
 1732 0076 67EEA77A 		vmul.f32	s15, s15, s15
 1733              		.loc 1 327 77 view .LVU568
 1734 007a 70EEA70A 		vadd.f32	s1, s1, s15
 1735              		.loc 1 327 62 view .LVU569
 1736 007e 70EEA00A 		vadd.f32	s1, s1, s1
 1737              		.loc 1 327 14 view .LVU570
 1738 0082 70EEE80A 		vsub.f32	s1, s1, s17
 1739 0086 30EE000A 		vadd.f32	s0, s0, s0
 1740 008a FFF7FEFF 		bl	atan2f
 1741              	.LVL97:
 1742              		.loc 1 327 100 discriminator 1 view .LVU571
 1743 008e 20EE080A 		vmul.f32	s0, s0, s16
 1744              		.loc 1 327 12 discriminator 1 view .LVU572
 1745 0092 86ED000A 		vstr.32	s0, [r6]
 328:modules/imu/ins_task.c ****     *Roll = asinf(2.0f * (q[0] * q[2] - q[1] * q[3])) * 57.295779513f;
 1746              		.loc 1 328 5 is_stmt 1 view .LVU573
 1747              		.loc 1 328 28 is_stmt 0 view .LVU574
 1748 0096 94ED000A 		vldr.32	s0, [r4]
 1749              		.loc 1 328 35 view .LVU575
 1750 009a D4ED027A 		vldr.32	s15, [r4, #8]
 1751              		.loc 1 328 32 view .LVU576
 1752 009e 20EE270A 		vmul.f32	s0, s0, s15
 1753              		.loc 1 328 42 view .LVU577
 1754 00a2 D4ED017A 		vldr.32	s15, [r4, #4]
 1755              		.loc 1 328 49 view .LVU578
 1756 00a6 94ED037A 		vldr.32	s14, [r4, #12]
 1757              		.loc 1 328 46 view .LVU579
 1758 00aa 67EE877A 		vmul.f32	s15, s15, s14
 1759              		.loc 1 328 39 view .LVU580
 1760 00ae 30EE670A 		vsub.f32	s0, s0, s15
 1761              		.loc 1 328 13 view .LVU581
 1762 00b2 30EE000A 		vadd.f32	s0, s0, s0
 1763 00b6 FFF7FEFF 		bl	asinf
 1764              	.LVL98:
 1765              		.loc 1 328 55 discriminator 1 view .LVU582
 1766 00ba 20EE080A 		vmul.f32	s0, s0, s16
 1767              		.loc 1 328 11 discriminator 1 view .LVU583
 1768 00be 85ED000A 		vstr.32	s0, [r5]
 329:modules/imu/ins_task.c **** }
 1769              		.loc 1 329 1 view .LVU584
 1770 00c2 BDEC028B 		vldm	sp!, {d8}
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 43


 1771              	.LCFI22:
 1772              		.cfi_restore 80
 1773              		.cfi_restore 81
 1774              		.cfi_def_cfa_offset 24
 1775 00c6 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1776              	.LVL99:
 1777              	.L52:
 1778              		.loc 1 329 1 view .LVU585
 1779              		.align	2
 1780              	.L51:
 1781 00c8 E12E6542 		.word	1113927393
 1782              		.cfi_endproc
 1783              	.LFE285:
 1785              		.section	.text.EularAngleToQuaternion,"ax",%progbits
 1786              		.align	1
 1787              		.global	EularAngleToQuaternion
 1788              		.syntax unified
 1789              		.thumb
 1790              		.thumb_func
 1792              	EularAngleToQuaternion:
 1793              	.LVL100:
 1794              	.LFB286:
 330:modules/imu/ins_task.c **** 
 331:modules/imu/ins_task.c **** /**
 332:modules/imu/ins_task.c ****  * @brief        Convert eular angle to quaternion
 333:modules/imu/ins_task.c ****  */
 334:modules/imu/ins_task.c **** void EularAngleToQuaternion(float Yaw, float Pitch, float Roll, float *q)
 335:modules/imu/ins_task.c **** {
 1795              		.loc 1 335 1 is_stmt 1 view -0
 1796              		.cfi_startproc
 1797              		@ args = 0, pretend = 0, frame = 0
 1798              		@ frame_needed = 0, uses_anonymous_args = 0
 1799              		.loc 1 335 1 is_stmt 0 view .LVU587
 1800 0000 10B5     		push	{r4, lr}
 1801              	.LCFI23:
 1802              		.cfi_def_cfa_offset 8
 1803              		.cfi_offset 4, -8
 1804              		.cfi_offset 14, -4
 1805 0002 2DED068B 		vpush.64	{d8, d9, d10}
 1806              	.LCFI24:
 1807              		.cfi_def_cfa_offset 32
 1808              		.cfi_offset 80, -32
 1809              		.cfi_offset 81, -28
 1810              		.cfi_offset 82, -24
 1811              		.cfi_offset 83, -20
 1812              		.cfi_offset 84, -16
 1813              		.cfi_offset 85, -12
 1814 0006 0446     		mov	r4, r0
 336:modules/imu/ins_task.c ****     float cosPitch, cosYaw, cosRoll, sinPitch, sinYaw, sinRoll;
 1815              		.loc 1 336 5 is_stmt 1 view .LVU588
 337:modules/imu/ins_task.c ****     Yaw /= 57.295779513f;
 1816              		.loc 1 337 5 view .LVU589
 1817              		.loc 1 337 9 is_stmt 0 view .LVU590
 1818 0008 DFED2E7A 		vldr.32	s15, .L55
 1819 000c C0EE279A 		vdiv.f32	s19, s0, s15
 1820              	.LVL101:
 338:modules/imu/ins_task.c ****     Pitch /= 57.295779513f;
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 44


 1821              		.loc 1 338 5 is_stmt 1 view .LVU591
 1822              		.loc 1 338 11 is_stmt 0 view .LVU592
 1823 0010 80EEA7AA 		vdiv.f32	s20, s1, s15
 1824              	.LVL102:
 339:modules/imu/ins_task.c ****     Roll /= 57.295779513f;
 1825              		.loc 1 339 5 is_stmt 1 view .LVU593
 1826              		.loc 1 339 10 is_stmt 0 view .LVU594
 1827 0014 C1EE27AA 		vdiv.f32	s21, s2, s15
 1828              	.LVL103:
 340:modules/imu/ins_task.c ****     cosPitch = arm_cos_f32(Pitch / 2);
 1829              		.loc 1 340 5 is_stmt 1 view .LVU595
 1830              		.loc 1 340 16 is_stmt 0 view .LVU596
 1831 0018 B6EE008A 		vmov.f32	s16, #5.0e-1
 1832 001c 2AEE08AA 		vmul.f32	s20, s20, s16
 1833              	.LVL104:
 1834              		.loc 1 340 16 view .LVU597
 1835 0020 B0EE4A0A 		vmov.f32	s0, s20
 1836 0024 FFF7FEFF 		bl	arm_cos_f32
 1837              	.LVL105:
 1838              		.loc 1 340 16 view .LVU598
 1839 0028 F0EE408A 		vmov.f32	s17, s0
 1840              	.LVL106:
 341:modules/imu/ins_task.c ****     cosYaw = arm_cos_f32(Yaw / 2);
 1841              		.loc 1 341 5 is_stmt 1 view .LVU599
 1842              		.loc 1 341 14 is_stmt 0 view .LVU600
 1843 002c 69EE889A 		vmul.f32	s19, s19, s16
 1844              	.LVL107:
 1845              		.loc 1 341 14 view .LVU601
 1846 0030 B0EE690A 		vmov.f32	s0, s19
 1847              	.LVL108:
 1848              		.loc 1 341 14 view .LVU602
 1849 0034 FFF7FEFF 		bl	arm_cos_f32
 1850              	.LVL109:
 1851 0038 B0EE409A 		vmov.f32	s18, s0
 1852              	.LVL110:
 342:modules/imu/ins_task.c ****     cosRoll = arm_cos_f32(Roll / 2);
 1853              		.loc 1 342 5 is_stmt 1 view .LVU603
 1854              		.loc 1 342 15 is_stmt 0 view .LVU604
 1855 003c 6AEE88AA 		vmul.f32	s21, s21, s16
 1856              	.LVL111:
 1857              		.loc 1 342 15 view .LVU605
 1858 0040 B0EE6A0A 		vmov.f32	s0, s21
 1859              	.LVL112:
 1860              		.loc 1 342 15 view .LVU606
 1861 0044 FFF7FEFF 		bl	arm_cos_f32
 1862              	.LVL113:
 1863 0048 B0EE408A 		vmov.f32	s16, s0
 1864              	.LVL114:
 343:modules/imu/ins_task.c ****     sinPitch = arm_sin_f32(Pitch / 2);
 1865              		.loc 1 343 5 is_stmt 1 view .LVU607
 1866              		.loc 1 343 16 is_stmt 0 view .LVU608
 1867 004c B0EE4A0A 		vmov.f32	s0, s20
 1868              	.LVL115:
 1869              		.loc 1 343 16 view .LVU609
 1870 0050 FFF7FEFF 		bl	arm_sin_f32
 1871              	.LVL116:
 1872 0054 B0EE40AA 		vmov.f32	s20, s0
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 45


 1873              	.LVL117:
 344:modules/imu/ins_task.c ****     sinYaw = arm_sin_f32(Yaw / 2);
 1874              		.loc 1 344 5 is_stmt 1 view .LVU610
 1875              		.loc 1 344 14 is_stmt 0 view .LVU611
 1876 0058 B0EE690A 		vmov.f32	s0, s19
 1877              	.LVL118:
 1878              		.loc 1 344 14 view .LVU612
 1879 005c FFF7FEFF 		bl	arm_sin_f32
 1880              	.LVL119:
 1881 0060 F0EE409A 		vmov.f32	s19, s0
 1882              	.LVL120:
 345:modules/imu/ins_task.c ****     sinRoll = arm_sin_f32(Roll / 2);
 1883              		.loc 1 345 5 is_stmt 1 view .LVU613
 1884              		.loc 1 345 15 is_stmt 0 view .LVU614
 1885 0064 B0EE6A0A 		vmov.f32	s0, s21
 1886              	.LVL121:
 1887              		.loc 1 345 15 view .LVU615
 1888 0068 FFF7FEFF 		bl	arm_sin_f32
 1889              	.LVL122:
 346:modules/imu/ins_task.c ****     q[0] = cosPitch * cosRoll * cosYaw + sinPitch * sinRoll * sinYaw;
 1890              		.loc 1 346 5 is_stmt 1 view .LVU616
 1891              		.loc 1 346 21 is_stmt 0 view .LVU617
 1892 006c 68EE887A 		vmul.f32	s15, s17, s16
 1893              		.loc 1 346 31 view .LVU618
 1894 0070 67EE896A 		vmul.f32	s13, s15, s18
 1895              		.loc 1 346 51 view .LVU619
 1896 0074 2AEE007A 		vmul.f32	s14, s20, s0
 1897              		.loc 1 346 61 view .LVU620
 1898 0078 27EE296A 		vmul.f32	s12, s14, s19
 1899              		.loc 1 346 40 view .LVU621
 1900 007c 76EE866A 		vadd.f32	s13, s13, s12
 1901              		.loc 1 346 10 view .LVU622
 1902 0080 C4ED006A 		vstr.32	s13, [r4]
 347:modules/imu/ins_task.c ****     q[1] = sinPitch * cosRoll * cosYaw - cosPitch * sinRoll * sinYaw;
 1903              		.loc 1 347 5 is_stmt 1 view .LVU623
 1904              		.loc 1 347 21 is_stmt 0 view .LVU624
 1905 0084 28EE0A8A 		vmul.f32	s16, s16, s20
 1906              	.LVL123:
 1907              		.loc 1 347 31 view .LVU625
 1908 0088 68EE096A 		vmul.f32	s13, s16, s18
 1909              		.loc 1 347 51 view .LVU626
 1910 008c 68EE808A 		vmul.f32	s17, s17, s0
 1911              	.LVL124:
 1912              		.loc 1 347 61 view .LVU627
 1913 0090 28EEA96A 		vmul.f32	s12, s17, s19
 1914              		.loc 1 347 40 view .LVU628
 1915 0094 76EEC66A 		vsub.f32	s13, s13, s12
 1916              		.loc 1 347 10 view .LVU629
 1917 0098 C4ED016A 		vstr.32	s13, [r4, #4]
 348:modules/imu/ins_task.c ****     q[2] = sinPitch * cosRoll * sinYaw + cosPitch * sinRoll * cosYaw;
 1918              		.loc 1 348 5 is_stmt 1 view .LVU630
 1919              		.loc 1 348 31 is_stmt 0 view .LVU631
 1920 009c 28EE298A 		vmul.f32	s16, s16, s19
 1921              		.loc 1 348 61 view .LVU632
 1922 00a0 68EE898A 		vmul.f32	s17, s17, s18
 1923              		.loc 1 348 40 view .LVU633
 1924 00a4 38EE288A 		vadd.f32	s16, s16, s17
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 46


 1925              		.loc 1 348 10 view .LVU634
 1926 00a8 84ED028A 		vstr.32	s16, [r4, #8]
 349:modules/imu/ins_task.c ****     q[3] = cosPitch * cosRoll * sinYaw - sinPitch * sinRoll * cosYaw;
 1927              		.loc 1 349 5 is_stmt 1 view .LVU635
 1928              		.loc 1 349 31 is_stmt 0 view .LVU636
 1929 00ac 67EEA97A 		vmul.f32	s15, s15, s19
 1930              		.loc 1 349 61 view .LVU637
 1931 00b0 27EE097A 		vmul.f32	s14, s14, s18
 1932              		.loc 1 349 40 view .LVU638
 1933 00b4 77EEC77A 		vsub.f32	s15, s15, s14
 1934              		.loc 1 349 10 view .LVU639
 1935 00b8 C4ED037A 		vstr.32	s15, [r4, #12]
 350:modules/imu/ins_task.c **** }
 1936              		.loc 1 350 1 view .LVU640
 1937 00bc BDEC068B 		vldm	sp!, {d8-d10}
 1938              	.LCFI25:
 1939              		.cfi_restore 84
 1940              		.cfi_restore 85
 1941              		.cfi_restore 82
 1942              		.cfi_restore 83
 1943              		.cfi_restore 80
 1944              		.cfi_restore 81
 1945              		.cfi_def_cfa_offset 8
 1946              	.LVL125:
 1947              		.loc 1 350 1 view .LVU641
 1948 00c0 10BD     		pop	{r4, pc}
 1949              	.LVL126:
 1950              	.L56:
 1951              		.loc 1 350 1 view .LVU642
 1952 00c2 00BF     		.align	2
 1953              	.L55:
 1954 00c4 E12E6542 		.word	1113927393
 1955              		.cfi_endproc
 1956              	.LFE286:
 1958              		.section	.bss.c_33.0,"aw",%nobits
 1959              		.align	2
 1962              	c_33.0:
 1963 0000 00000000 		.space	4
 1964              		.section	.bss.c_32.1,"aw",%nobits
 1965              		.align	2
 1968              	c_32.1:
 1969 0000 00000000 		.space	4
 1970              		.section	.bss.c_31.2,"aw",%nobits
 1971              		.align	2
 1974              	c_31.2:
 1975 0000 00000000 		.space	4
 1976              		.section	.bss.c_23.3,"aw",%nobits
 1977              		.align	2
 1980              	c_23.3:
 1981 0000 00000000 		.space	4
 1982              		.section	.bss.c_22.4,"aw",%nobits
 1983              		.align	2
 1986              	c_22.4:
 1987 0000 00000000 		.space	4
 1988              		.section	.bss.c_21.5,"aw",%nobits
 1989              		.align	2
 1992              	c_21.5:
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 47


 1993 0000 00000000 		.space	4
 1994              		.section	.bss.c_13.6,"aw",%nobits
 1995              		.align	2
 1998              	c_13.6:
 1999 0000 00000000 		.space	4
 2000              		.section	.bss.c_12.7,"aw",%nobits
 2001              		.align	2
 2004              	c_12.7:
 2005 0000 00000000 		.space	4
 2006              		.section	.bss.c_11.8,"aw",%nobits
 2007              		.align	2
 2010              	c_11.8:
 2011 0000 00000000 		.space	4
 2012              		.section	.bss.lastRollOffset.9,"aw",%nobits
 2013              		.align	2
 2016              	lastRollOffset.9:
 2017 0000 00000000 		.space	4
 2018              		.section	.bss.lastPitchOffset.10,"aw",%nobits
 2019              		.align	2
 2022              	lastPitchOffset.10:
 2023 0000 00000000 		.space	4
 2024              		.section	.bss.lastYawOffset.11,"aw",%nobits
 2025              		.align	2
 2028              	lastYawOffset.11:
 2029 0000 00000000 		.space	4
 2030              		.section	.bss.count.12,"aw",%nobits
 2031              		.align	2
 2034              	count.12:
 2035 0000 00000000 		.space	4
 2036              		.section	.bss.t,"aw",%nobits
 2037              		.align	2
 2040              	t:
 2041 0000 00000000 		.space	4
 2042              		.section	.bss.dt,"aw",%nobits
 2043              		.align	2
 2046              	dt:
 2047 0000 00000000 		.space	4
 2048              		.section	.bss.INS_DWT_Count,"aw",%nobits
 2049              		.align	2
 2052              	INS_DWT_Count:
 2053 0000 00000000 		.space	4
 2054              		.global	zb
 2055              		.section	.rodata.zb,"a"
 2056              		.align	2
 2059              	zb:
 2060 0000 00000000 		.word	0
 2061 0004 00000000 		.word	0
 2062 0008 0000803F 		.word	1065353216
 2063              		.global	yb
 2064              		.section	.rodata.yb,"a"
 2065              		.align	2
 2068              	yb:
 2069 0000 00000000 		.word	0
 2070 0004 0000803F 		.word	1065353216
 2071 0008 00000000 		.word	0
 2072              		.global	xb
 2073              		.section	.rodata.xb,"a"
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 48


 2074              		.align	2
 2077              	xb:
 2078 0000 0000803F 		.word	1065353216
 2079 0004 00000000 		.word	0
 2080 0008 00000000 		.word	0
 2081              		.section	.bss.TempCtrl,"aw",%nobits
 2082              		.align	3
 2085              	TempCtrl:
 2086 0000 00000000 		.space	120
 2086      00000000 
 2086      00000000 
 2086      00000000 
 2086      00000000 
 2087              		.section	.bss.IMU_Param,"aw",%nobits
 2088              		.align	2
 2091              	IMU_Param:
 2092 0000 00000000 		.space	28
 2092      00000000 
 2092      00000000 
 2092      00000000 
 2092      00000000 
 2093              		.section	.bss.INS,"aw",%nobits
 2094              		.align	2
 2097              	INS:
 2098 0000 00000000 		.space	124
 2098      00000000 
 2098      00000000 
 2098      00000000 
 2098      00000000 
 2099              		.text
 2100              	.Letext0:
 2101              		.file 2 "/opt/ST/STM32CubeCLT_1.19.0/GNU-tools-for-STM32/arm-none-eabi/include/machine/_default_ty
 2102              		.file 3 "/opt/ST/STM32CubeCLT_1.19.0/GNU-tools-for-STM32/arm-none-eabi/include/sys/_stdint.h"
 2103              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 2104              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 2105              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 2106              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 2107              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim.h"
 2108              		.file 9 "modules/imu/BMI088driver.h"
 2109              		.file 10 "Middlewares/ST/ARM/DSP/Include/arm_math_types.h"
 2110              		.file 11 "Middlewares/ST/ARM/DSP/Include/dsp/matrix_functions.h"
 2111              		.file 12 "modules/algorithm/kalman_filter.h"
 2112              		.file 13 "modules/algorithm/QuaternionEKF.h"
 2113              		.file 14 "modules/imu/ins_task.h"
 2114              		.file 15 "modules/algorithm/controller.h"
 2115              		.file 16 "Inc/spi.h"
 2116              		.file 17 "Inc/tim.h"
 2117              		.file 18 "/opt/ST/STM32CubeCLT_1.19.0/GNU-tools-for-STM32/arm-none-eabi/include/math.h"
 2118              		.file 19 "modules/algorithm/user_lib.h"
 2119              		.file 20 "Middlewares/ST/ARM/DSP/Include/dsp/fast_math_functions.h"
 2120              		.file 21 "modules/master_machine/master_process.h"
 2121              		.file 22 "bsp/dwt/bsp_dwt.h"
 2122              		.file 23 "<built-in>"
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 49


DEFINED SYMBOLS
                            *ABS*:00000000 ins_task.c
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:21     .text.IMUPWMSet:00000000 $t
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:26     .text.IMUPWMSet:00000000 IMUPWMSet
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:43     .text.IMUPWMSet:00000008 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:48     .text.InitQuaternion:00000000 $t
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:53     .text.InitQuaternion:00000000 InitQuaternion
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:259    .text.InitQuaternion:000000fc $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:266    .text.IMU_Param_Correction:00000000 $t
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:271    .text.IMU_Param_Correction:00000000 IMU_Param_Correction
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:698    .text.IMU_Param_Correction:00000290 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:2028   .bss.lastYawOffset.11:00000000 lastYawOffset.11
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:2022   .bss.lastPitchOffset.10:00000000 lastPitchOffset.10
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:2016   .bss.lastRollOffset.9:00000000 lastRollOffset.9
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:2010   .bss.c_11.8:00000000 c_11.8
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:2004   .bss.c_12.7:00000000 c_12.7
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:1998   .bss.c_13.6:00000000 c_13.6
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:1992   .bss.c_21.5:00000000 c_21.5
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:1986   .bss.c_22.4:00000000 c_22.4
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:1980   .bss.c_23.3:00000000 c_23.3
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:1974   .bss.c_31.2:00000000 c_31.2
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:1968   .bss.c_32.1:00000000 c_32.1
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:1962   .bss.c_33.0:00000000 c_33.0
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:716    .text.IMU_Temperature_Ctrl:00000000 $t
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:721    .text.IMU_Temperature_Ctrl:00000000 IMU_Temperature_Ctrl
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:763    .text.IMU_Temperature_Ctrl:00000040 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:2085   .bss.TempCtrl:00000000 TempCtrl
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:772    .text.INS_Init:00000000 $t
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:778    .text.INS_Init:00000000 INS_Init
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:921    .text.INS_Init:000000bc $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:2097   .bss.INS:00000000 INS
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:2091   .bss.IMU_Param:00000000 IMU_Param
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:2052   .bss.INS_DWT_Count:00000000 INS_DWT_Count
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:940    .text.BodyFrameToEarthFrame:00000000 $t
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:946    .text.BodyFrameToEarthFrame:00000000 BodyFrameToEarthFrame
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:1108   .text.EarthFrameToBodyFrame:00000000 $t
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:1114   .text.EarthFrameToBodyFrame:00000000 EarthFrameToBodyFrame
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:1276   .text.INS_Task:00000000 $t
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:1282   .text.INS_Task:00000000 INS_Task
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:1521   .text.INS_Task:00000158 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:2046   .bss.dt:00000000 dt
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:2040   .bss.t:00000000 t
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:2077   .rodata.xb:00000000 xb
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:2068   .rodata.yb:00000000 yb
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:2059   .rodata.zb:00000000 zb
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:2034   .bss.count.12:00000000 count.12
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:1538   .text.QuaternionUpdate:00000000 $t
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:1544   .text.QuaternionUpdate:00000000 QuaternionUpdate
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:1648   .text.QuaternionToEularAngle:00000000 $t
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:1654   .text.QuaternionToEularAngle:00000000 QuaternionToEularAngle
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:1781   .text.QuaternionToEularAngle:000000c8 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:1786   .text.EularAngleToQuaternion:00000000 $t
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:1792   .text.EularAngleToQuaternion:00000000 EularAngleToQuaternion
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:1954   .text.EularAngleToQuaternion:000000c4 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:1959   .bss.c_33.0:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:1965   .bss.c_32.1:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:1971   .bss.c_31.2:00000000 $d
ARM GAS  /var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s 			page 50


/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:1977   .bss.c_23.3:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:1983   .bss.c_22.4:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:1989   .bss.c_21.5:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:1995   .bss.c_13.6:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:2001   .bss.c_12.7:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:2007   .bss.c_11.8:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:2013   .bss.lastRollOffset.9:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:2019   .bss.lastPitchOffset.10:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:2025   .bss.lastYawOffset.11:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:2031   .bss.count.12:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:2037   .bss.t:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:2043   .bss.dt:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:2049   .bss.INS_DWT_Count:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:2056   .rodata.zb:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:2065   .rodata.yb:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:2074   .rodata.xb:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:2082   .bss.TempCtrl:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:2088   .bss.IMU_Param:00000000 $d
/var/folders/kr/_85zhnz53vldd5tqwnc25svm0000gn/T//ccFUnL0m.s:2094   .bss.INS:00000000 $d

UNDEFINED SYMBOLS
htim10
BMI088_Read
DWT_Delay
Norm3d
Dot3d
acosf
Cross3d
cosf
sinf
BMI088
arm_cos_f32
arm_sin_f32
PIDCalculate
float_rounding
float_constrain
HAL_TIM_PWM_Start
BMI088Init
IMU_QuaternionEKF_Init
memset
PIDInit
DWT_GetDeltaT
hspi1
IMU_QuaternionEKF_Update
VisionSetAltitude
QEKF_INS
atan2f
asinf
